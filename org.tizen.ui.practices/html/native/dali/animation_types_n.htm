<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../css/snippet.css" />
	<script type="text/javascript" src="../../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/search.js" charset="utf-8"></script>

	<title>Animation Types: Types of Animations Supported by DALi</title>  
</head>

<body onload="prettyPrint()" style="overflow: auto;">

<div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile native" src="../../images/mobile_s_n.png"/></p>
	</div>
		<div id="toc_border"><div id="toc">
		<p class="toc-title">Content</p>
		<ul class="toc">
			<li><a href="#frame">Key Frame Animation</a></li>
			<li><a href="#path">Path Animation</a></li>
			<li><a href="#shader">Shader Effect Animation</a></li>
		</ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../org.tizen.native.mobile.apireference/classDali_1_1KeyFrames.html">Dali::KeyFrames API for Mobile Native</a></li>
			<li><a href="../../../../org.tizen.native.mobile.apireference/classDali_1_1Path.html">Dali::Path API for Mobile Native</a></li>
			<li><a href="../../../../org.tizen.native.mobile.apireference/classDali_1_1ShaderEffect.html">Dali::ShaderEffect API for Mobile Native</a></li>		
		</ul>
	</div></div>
</div>

<div id="container"><div id="contents"><div class="content">
<h1>Animation Types: Types of Animations Supported by DALi</h1>

<p>DALi supports key frame animation, path animation, and shader effect animation.</p>

<h2 id="frame" name="frame">Key Frame Animation</h2>

<p>DALi provides support for animating between several different values, or key frames. A key frame takes a progress value between 0.0f and 1.0f (0 and 100% respectively) and portrays the value of the property when the animation has progressed that much. You can create several key frames:</p>
<pre class="prettyprint">
KeyFrames keyFrames = KeyFrames::New();
keyFrames.Add( 0.0f, Vector3( 10.0f, 10.0f, 10.0f ) );
keyFrames.Add( 0.7f, Vector3( 200.0f, 200.0f, 200.0f ) );
keyFrames.Add( 1.0f, Vector3( 100.0f, 100.0f, 100.0f ) );
</pre>

<p>Next, you can add the key frames to your animation.</p>
<pre class="prettyprint">
animation.AnimateBetween( Property( actor1, Dali::Actor::Property::POSITION ), keyFrames );
</pre>
<p>When you play the animation, DALi animates the position of <span style="font-family: Courier New,Courier,monospace;">actor1</span> between the specified key frames. The <span style="font-family: Courier New,Courier,monospace;">actor1</span> animates from (10.0f, 10.0f, 10.0f) to (200.0f, 200.f, 200.0f) by 70% of the animation time, and then spends the remaining time animating back to (100.0f, 100.0f, 100.0f).</p>
<p>The advantage of specifying a key frame at 0% is that regardless of where the <span style="font-family: Courier New,Courier,monospace;">actor1</span> is, it starts from position (10.0f, 10.0f, 10.0f). If <span style="font-family: Courier New,Courier,monospace;">AnimateTo()</span> is used, the start position is the <span style="font-family: Courier New,Courier,monospace;">actor1</span>&#39;s current position.</p>

<h2 id="path" name="path">Path Animation</h2>
<p>The <span style="font-family: Courier New,Courier,monospace;">Dali::Path</span> class can be used to animate the position and orientation of actors.</p>

<p>The black points in the following figure are points where the DALi logo travels to. The red points are the control points which express the curvature of the path on the black points.</p>

<p class="figure">Figure: Path animation</p>  
	<p align="center"><img alt="Path animation" src="../../images/path_animation.png"/></p> 
	
<p>The following code presents the black points:</p>
<pre class="prettyprint">
Path path = Path::New();
path.AddPoint( Vector3( 50.0f, 10.0f, 0.0f ) );
path.AddPoint( Vector3( 90.0f, 50.0f, 0.0f ) );
path.AddPoint( Vector3( 10.0f, 90.0f, 0.0f ) );
</pre>
<p>The control points can be added manually using <span style="font-family: Courier New,Courier,monospace;">Path::AddControlPoint</span>. The <span style="font-family: Courier New,Courier,monospace;">Dali::Path</span> class can also auto-generate the control points for you.</p>
<pre class="prettyprint">
path.GenerateControlPoints( 0.25f );
</pre>
<p>Here 0.25f represents the curvature of the path you require. For more information, see the <span style="font-family: Courier New,Courier,monospace;">GenerateControlPoints()</span> function in <a href="../../../../org.tizen.native.mobile.apireference/classDali_1_1Path.html">Dali::Path</a> class.</p>
<p>To animate <span style="font-family: Courier New,Courier,monospace;">actor1</span> along this path, use the following function:</p>
<pre class="prettyprint">
animation.Animate( actor1, path, Vector3::ZERO );
</pre>
<p>The third parameter is the forward vector (in a local space coordinate system) that is oriented with the path&#39;s tangent direction.</p>


<h2 id="shader" name="shader">Shader Effect Animation</h2>
<p>Shader effects provide a visual effect for actors. In a shader, uniforms are set according to the purpose of applications. The uniforms of a shader can be animated using the animate functions, such as <span style="font-family: Courier New,Courier,monospace;">Animation::AnimateTo()</span>. For more information, see <a href="rendering_effects_n.htm#shader">Shader Effects</a>.</p>
<p>The following example shows a simple example of the shader effect animation:</p>
<pre class="prettyprint">
// This sample code is for the HelloWorldExample class
// in <a href="dali_overview_n.htm#create">Creating a DALi Application</a>

// Simple vertex shader code
const char* SIMPLE_ANIMATE_VERTEX_SHADER = DALI_COMPOSE_SHADER( 
&nbsp;&nbsp;uniform float uOffset;
&nbsp;&nbsp;void main()
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;vec4 pos = uProjection * uModelView * vec4( aPosition, 1.0 );
&nbsp;&nbsp;&nbsp;&nbsp;gl_Position = vec4( pos.x + uOffset, pos.y, pos.zw );
&nbsp;&nbsp;&nbsp;&nbsp;vTexCoord = aTexCoord;
&nbsp;&nbsp;} );

void HelloWorldExample::Create( Application&amp; application )
{
&nbsp;&nbsp;// Create an ImageActor
&nbsp;&nbsp;ImageActor imageActor = ImageActor::New( ResourceImage::New( MY_IMAGE_PATH ) );
&nbsp;&nbsp;Stage::GetCurrent().Add( imageActor );

&nbsp;&nbsp;// Create a ShaderEffect; use the default pixel shader
&nbsp;&nbsp;ShaderEffect shaderEffect =  ShaderEffect::New( SIMPLE_ANIMATE_VERTEX_SHADER, &quot;&quot; );
&nbsp;&nbsp;imageActor.SetShaderEffect( shaderEffect );

&nbsp;&nbsp;// Create an Animation for the shaderEffect
&nbsp;&nbsp;Animation animation = Animation::New( 1.0f );

&nbsp;&nbsp;// Set the initial value for the uniform
&nbsp;&nbsp;shaderEffect.SetUniform( &quot;uOffset&quot;, 100.0f );

&nbsp;&nbsp;// Animate the uniform to a target value
&nbsp;&nbsp;animation.AnimateTo( Property( shaderEffect, &quot;uOffset&quot; ), 1000.0f );
&nbsp;&nbsp;animation.Play();
}
</pre>
 
<table class="note">
       <tbody>
       <tr>
               <th class="note">Note</th>
       </tr>
       <tr>
               <td class="note">This sample code uses the <a href="../../../../org.tizen.native.mobile.apireference/classDali_1_1ImageActor.html">Dali::ImageActor</a> class, which is discouraged due to its poor performance and design. Avoid using the <span style="font-family: Courier New,Courier,monospace;">ImageActor</span> class unless you must apply shader effects. For general purposes, use the <a href="../../../../org.tizen.native.mobile.apireference/classDali_1_1Toolkit_1_1ImageView.html">Dali::Toolkit::ImageView</a> class, which has much better performance. The <span style="font-family: Courier New,Courier,monospace;">ImageView</span> class is supposed to support shader effects in the near future.
               </td>
       </tr>
       </tbody>
</table>

<script type="text/javascript" src="../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>

