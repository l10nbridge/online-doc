<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <link rel="stylesheet" type="text/css" href="../../css/styles.css" />
    <link rel="stylesheet" type="text/css" href="../../css/snippet.css" />
    <script type="text/javascript" src="../../scripts/snippet.js"></script>
    <script type="text/javascript" src="../../scripts/jquery.util.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../scripts/common.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../scripts/core.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../scripts/search.js" charset="utf-8"></script>
  <title>Evas Objects</title>
 </head>
 <body onload="prettyPrint()" style="overflow: auto;">

 <div id="toc-navigation">
    <div id="profile">
        <p><img alt="Mobile native" src="../../images/mobile_s_n.png"/> <img alt="Wearable native" src="../../images/wearable_s_n.png"/></p>
    </div>

    <div id="toc_border"><div id="toc">
        <p class="toc-title">Content</p>
        <ul class="toc">
            <li><a href="#renderable">Primitive Renderable Objects</a></li>
            <li><a href="#smart">Primitive Smart Objects</a></li>
			<li><a href="#container_objects">Primitive Container Objects</a></li>
			<li><a href="#image">Image Objects</a></li>
			<li><a href="#block">Textblock Objects</a></li>
			<li><a href="#clip">Clipping Objects</a></li>
			<li><a href="#map">Mapping Objects</a></li>
        </ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__Ecore.html">Ecore API for Mobile Native</a></li>
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__Evas.html">Evas API for Mobile Native</a></li>
			<li><a href="../../../../org.tizen.native.wearable.apireference/group__Ecore__Group.html">Ecore API for Wearable Native</a></li>
			<li><a href="../../../../org.tizen.native.wearable.apireference/group__Evas.html">Evas API for Wearable Native</a></li>
		</ul>
    </div></div>
</div>

<div id="container"><div id="contents"><div class="content">

 <h1>Evas Objects</h1>
  
<p>An Evas object is the most basic visual entity used in Evas. Everything, be it a single line or a complex list of UI components, is an Evas object.</p>

<h2 id="renderable" name="renderable">Primitive Renderable Objects</h2>
<p>Primitive objects are the base upon which to build a complex interface: rectangles, lines, polygons, <a href="#image">images</a>, <a href="#block">textblocks</a>, and texts.</p>
<h3>Rectangle</h3>
<p>There is only one function to deal with rectangle objects. However, the rectangle is manipulated using the generic Evas object functions.</p>
<p>The Evas rectangle serves a number of key functions when working on Evas programs.</p>
<ul>
<li>Background</li>
<li>Debugging</li>
<li>Clipper</li>
</ul>

<h4>Background</h4>
<p>A common requirement of Evas programs is to have a solid color background, which can be accomplished with the following code.</p>
<pre class="prettyprint">
Evas_Object *bg = evas_object_rectangle_add(evas_canvas);

/* Set the rectangle&#39;s red, green, blue and opacity levels */
evas_object_color_set(bg, 255, 255, 255, 255); /* Opaque white background */
evas_object_resize(bg, WIDTH, HEIGHT); /* Covers full canvas */
evas_object_show(bg);
</pre>

<h4>Debugging</h4>
<p>When debugging visual issues with Evas programs, the rectangle is a useful tool. The rectangle&#39;s simplicity means that it is easier to pinpoint issues with it than with more complex objects. A common technique to use when writing an Evas program and not getting the desired visual result is to replace an object with a solid color rectangle and seeing how it interacts with the other elements. This often allows us to notice clipping, parenting, or positioning issues. Once the issues are identified and corrected, the rectangle can be replaced with the original object, and in all likelihood any remaining issues are specific to that object&#39;s type.</p>

<h4>Clipping</h4>
<p><a href="#clip">Clipping</a> serves 2 main functions:</p>
<ul>
<li>Limiting visibility</li>
<li>Applying a layer of color to an object</li>
</ul>


<h3>Text</h3>
<p>An Evas text object shows a basic single-line single-style text.</p>
<pre class="prettyprint">
Evas_Object *text = evas_object_text_add(evas_canvas);
evas_object_text_text_set(text, &quot;some text&quot;);
evas_object_color_set(text, 127, 0, 0, 127);
evas_object_show(text);
</pre>

<p>To set the text, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_text_set()</span> function. You can get the current text with the <span style="font-family: Courier New,Courier,monospace">evas_object_text_text_get()</span> function.</p>

<p>To manage the text style:</p>
<ul>
<li>
<p>To set the font, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_font_set()</span> function with the following parameters:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">text</span>: The text object</li>
<li><span style="font-family: Courier New,Courier,monospace">font</span>: The font name you want to use</li>
<li><span style="font-family: Courier New,Courier,monospace">size</span>: The font size you want to use.</li>
</ul> 
<p>To query the current font, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_font_get()</span> function.</p>
</li>
<li>
<p>To set the text style, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_style_set()</span> function with the style as the second parameter. The available values are defined in the <span style="font-family: Courier New,Courier,monospace">_Evas_Text_Style_Type</span> enumerator (in <a href="../../../../org.tizen.native.mobile.apireference/group__Evas__Object__Text.html#ga3e88a64ab40f18048667e61894f077cf">mobile</a> and <a href="../../../../org.tizen.native.wearable.apireference/group__Evas__Object__Text.html#ga3e88a64ab40f18048667e61894f077cf">wearable</a> applications).</p>
<p>To query the current style, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_style_get()</span> function.</p>
</li>
<li>
<p>If the text does not fit, make an ellipsis on it by using the <span style="font-family: Courier New,Courier,monospace">evas_object_text_ellipsis_set()</span> function. The (float) value specifies, which part of the text is shown.</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">0.0</span>: The beginning is shown and the end trimmed.</li>
<li><span style="font-family: Courier New,Courier,monospace">1.0</span>: The beginning is trimmed and the end shown.</li>
<li>Any value in between means that both ends of the text have ellipsis and the set part is shown.</li>
<li><span style="font-family: Courier New,Courier,monospace">-1.0</span>: Ellipsis is disabled.</li>
</ul>
<p> To query the current ellipsis value, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_ellipsis_get()</span> function.</p>
</li>
<li>
<p>When the text style is set to glow, set the glow color using the <span style="font-family: Courier New,Courier,monospace">evas_object_text_glow_color_set()</span>, function, where the second, third, fourth, and fifth parameters are respectively the red, green, blue, and alpha values. The effect is placed at a short distance from the text but not touching it. For glows set right at the text, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_glow2_color_set()</span> function.</p>
<p>To query the current color, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_glow_color_get()</span> and <span style="font-family: Courier New,Courier,monospace">evas_object_text_glow2_color_get()</span> functions.</p>
</li>
<li>
<p>If the text style is set to display a shadow, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_shadow_color_set()</span> function, where the second, third, fourth, and fifth parameters are respectively the red, green, blue, and alpha values.</p>
<p>To query the current color, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_shadow_color_get()</span> function.</p>
</li>
<li>
<p>If the text style is set to display an outline, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_outline_color_set()</span> function, where the second, third, fourth, and fifth parameters are respectively the red, green, blue, and alpha values. </p>
<p>To query the current color, use the <span style="font-family: Courier New,Courier,monospace">evas_object_text_outline_color_get()</span> function.</p>
</li>
</ul>


<h2 id="smart" name="smart">Primitive Smart Objects</h2>
<p>A smart object is a special Evas object that provides custom functions to handle automatically clipping, hiding, moving, resizing color setting and more on child elements, for the smart object&#39;s user. They can be, for example, a group of objects that move together, or implementations of whole complex UI components, providing some intelligence and extension to simple Evas objects.</p>

<h2 id="container_objects" name="container_objects">Primitive Container Objects</h2>
<p>A container is a smart object that holds children Evas objects in a specific fashion.</p>
<h3>Table</h3>
<p>A table is a smart object that packs children using a tabular layout.</p>

<p>In the following example, a non-homogeneous table is added to the canvas with its padding set to 0.</p>
<p>4 different colored rectangles are added with different properties.</p>
<ul>
<li>The first one, at the first column and first line, spans 2 columns and 1 line</li>
<li>The second one, at the first column and second line, spans 1 columns and 2 lines</li>
<li>The third one, at the second column and second line, fits in 1 cell</li>
<li>The fourth one, at the second column and third line, also fits in 1 cell</li>
</ul>
<p>To create a table, use the <span style="font-family: Courier New,Courier,monospace">evas_object_table_add()</span> function.</p>

<pre class="prettyprint">
table = evas_object_table_add(evas);
evas_object_table_homogeneous_set(table, EVAS_OBJECT_TABLE_HOMOGENEOUS_NONE);
evas_object_table_padding_set(table, 0, 0);
evas_object_resize(table, WIDTH, HEIGHT);
evas_object_show(table);

rect = evas_object_rectangle_add(evas);
evas_object_color_set(rect, 255, 0, 0, 255);
evas_object_size_hint_min_set(rect, 100, 50);
evas_object_show(rect);
evas_object_table_pack(table, rect, 1, 1, 2, 1);

rect = evas_object_rectangle_add(d.evas);
evas_object_color_set(rect, 0, 255, 0, 255);
evas_object_size_hint_min_set(rect, 50, 100);
evas_object_show(rect);
evas_object_table_pack(table, rect, 1, 2, 1, 2);

rect = evas_object_rectangle_add(d.evas);
evas_object_color_set(rect, 0, 0, 255, 255);
evas_object_size_hint_min_set(rect, 50, 50);
evas_object_show(rect);
evas_object_table_pack(table, rect, 2, 2, 1, 1);

rect = evas_object_rectangle_add(d.evas);
evas_object_color_set(rect, 255, 255, 0, 255);
evas_object_size_hint_min_set(rect, 50, 50);
evas_object_show(rect);
evas_object_table_pack(table, rect, 2, 3, 1, 1);
</pre>
<p>To set the table layout, use the <span style="font-family: Courier New,Courier,monospace">evas_object_table_homogeneous_set()</span> function. The following values can be homogeneous:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">EVAS_OBJECT_TABLE_HOMOGENEOUS_NONE</span>: This default value has columns and rows calculated based on hints of individual cells. This is flexible, but much heavier on computations.</li>
<li><span style="font-family: Courier New,Courier,monospace">EVAS_OBJECT_TABLE_HOMOGENEOUS_TABLE</span>: The table size is divided equally among children, filling the whole table area. If the children have a minimum size that is larger than this (including padding), the table overflows and is aligned respecting the alignment hint, possibly overlapping sibling cells.</li>
<li><span style="font-family: Courier New,Courier,monospace">EVAS_OBJECT_TABLE_HOMOGENEOUS_ITEM</span>: The greatest minimum cell size is used: if no element is set to expand, the contents of the table are the minimum size and the bounding box of all the children is aligned relatively to the table object using the <span style="font-family: Courier New,Courier,monospace">evas_object_table_align_get()</span> function. If the table area is too small to hold this minimum bounding box, the objects keep their size and the bounding box overflows the box area, still respecting the alignment. To get the current mode, use the <span style="font-family: Courier New,Courier,monospace">evas_object_table_homogeneous_get()</span> function.</li>
</ul>
<p>The table&#39;s content alignment is set using the <span style="font-family: Courier New,Courier,monospace">evas_object_table_align_set()</span> function, where the second and third parameters (<span style="font-family: Courier New,Courier,monospace">horizontal</span> and <span style="font-family: Courier New,Courier,monospace">vertical</span>) are floating values. To see the current values, use the <span style="font-family: Courier New,Courier,monospace">evas_object_table_align_get()</span> function.</p>
<p>To set the padding, use the <span style="font-family: Courier New,Courier,monospace">evas_object_table_padding_set()</span> function. To see the current value, use the <span style="font-family: Courier New,Courier,monospace">evas_object_table_padding_get()</span> function.</p>
<p>To see the current column and row count, use the <span style="font-family: Courier New,Courier,monospace">evas_object_table_col_row_size_get()</span> function.</p>


<h3>Grid</h3>
<p>A grid is a smart object that packs its children as with a regular grid layout.</p>
<p>Grids are added to the canvas with the <span style="font-family: Courier New,Courier,monospace">evas_object_grid_add()</span> function.</p>
<p>To change a grid&#39;s virtual resolution, use the <span style="font-family: Courier New,Courier,monospace">evas_object_grid_size_set()</span> function, and to get the current value, use the <span style="font-family: Courier New,Courier,monospace">evas_object_grid_size_get()</span> function.</p>
<p>To add an object, use the <span style="font-family: Courier New,Courier,monospace">evas_object_grid_pack()</span> function, where the third, fourth, fifth, and sixth parameters are the following:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">x</span>: Virtual x coordinate of the child</li>
<li><span style="font-family: Courier New,Courier,monospace">y</span>: Virtual y coordinate of the child</li>
<li><span style="font-family: Courier New,Courier,monospace">w</span>: Virtual width of the child</li>
<li><span style="font-family: Courier New,Courier,monospace">h</span>: Virtual height of the child</li>
</ul>
<h3>Box</h3>
<p>A box is a simple container that sets its children objects linearly.</p>
<p>To add a box to your canvas, use the <span style="font-family: Courier New,Courier,monospace">evas_object_box_add()</span> function.</p>
<p>To add a child to the box, use the following functions:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_append()</span>: The child is appended.</li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_insert_after()</span>: The child is added after the reference item.</li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_insert_before()</span>: The child is added before the reference item.</li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_insert_at()</span>: The child is added at the specified position.</li>
</ul>
<p>To set the alignment, use the <span style="font-family: Courier New,Courier,monospace">evas_object_box_align_set()</span> function with the following values.</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">horizontal</span>: 0.0 means aligned to the left, 1.0 means to the right</li>
<li><span style="font-family: Courier New,Courier,monospace">vertical</span>: 0.0 means aligned to the top, 1.0 means to the bottom</li>
</ul>
<p>Evas has the following predefined box layouts available:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_horizontal()</span></li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_vertical()</span></li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_homogeneous_horizontal()</span></li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_homogeneous_vertical()</span></li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_homogeneous_max_size_horizontal()</span></li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_homogeneous_max_size_vertical()</span></li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_flow_horizontal()</span></li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_flow_vertical()</span></li>
<li><span style="font-family: Courier New,Courier,monospace">evas_object_box_layout_stack()</span></li>
</ul>

<h2 id="image" name="image">Image Objects</h2> 


<p>Using Evas, you can create and manipulate image objects. Evas supports image loaders of various formats as plug-in modules.</p>
<p>The image formats that Evas supports include <span style="font-family: Courier New,Courier,monospace">bmp</span>, <span style="font-family: Courier New,Courier,monospace">edj</span>, <span style="font-family: Courier New,Courier,monospace">gif</span>, <span style="font-family: Courier New,Courier,monospace">ico</span>, <span style="font-family: Courier New,Courier,monospace">jpeg</span>, <span style="font-family: Courier New,Courier,monospace">pmaps</span>, <span style="font-family: Courier New,Courier,monospace">png</span>, <span style="font-family: Courier New,Courier,monospace">psd</span>, <span style="font-family: Courier New,Courier,monospace">svg</span>, <span style="font-family: Courier New,Courier,monospace">tga</span>, <span style="font-family: Courier New,Courier,monospace">tiff</span>, <span style="font-family: Courier New,Courier,monospace">wbmp</span>, <span style="font-family: Courier New,Courier,monospace">webp</span>, and <span style="font-family: Courier New,Courier,monospace">xpm</span>.</p>

	<p class="figure">Figure: Evas image loader</p> 
	<p align="center"><img alt="Evas image loader" src="../../images/evas_image_loader.png" /></p>  

<h3>Evas Object Image Functions</h3>

<p>Evas has over 70 image object functions. The following functions are discussed in this document:</p>
<pre class="prettyprint">
Evas_Object *evas_object_image_add(Evas *e);
void evas_object_image_file_set(Evas_Object *obj, const char *file, const char *key);
void evas_object_image_fill_set(Evas_Object *obj, int x, int y, int w, int h);
void evas_object_image_filled_set(Evas *e, Eina_Bool setting);
Evas_Object *evas_object_image_filled_add(Evas *e);
void evas_object_image_smooth_scale_set(Evas_Object *obj, Eina_Bool smoothscale);
void evas_object_image_load_size_set(Evas_Object *obj, int w, int h);
void evas_object_image_data_set(Evas_Object *obj, void *data);
void *evas_object_image_data_get(const Evas_Object *obj, Eina_Bool for_writing);
void evas_object_image_size_set(Evas_Object *obj, int w, int h);
void evas_object_image_data_update_add(Evas_Object *obj, int x, int y, int w, int h);
Eina_Bool evas_object_image_save(const Evas_Object *obj, const char *file, const char *key, const char *flags);
</pre>

<h3>Creating an Image Object and Setting the Image Data Source</h3>

<p>A common use case of an image object is to set a file as the image data source.</p>

<p>In the following example, the <span style="font-family: Courier New,Courier,monospace">main()</span> function creates an image object and displays it on a window. The image object size is 300x300 and the source image resolution is 100x127. The image is scaled into 300 by 300 to fill the image object area using the <span style="font-family: Courier New,Courier,monospace">evas_object_image_fill_set()</span> function.</p>
<pre class="prettyprint">
#include &lt;Elementary.h&gt;

int
main(int argc, char **argv)
{
&nbsp;&nbsp;&nbsp;&nbsp;elm_init(argc, argv);

&nbsp;&nbsp;&nbsp;&nbsp;/* Create a window object */
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *win = elm_win_add(NULL, &quot;main&quot;, ELM_WIN_BASIC);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(win, 400, 400);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(win);

&nbsp;&nbsp;&nbsp;&nbsp;/* Return Evas handle from window */
&nbsp;&nbsp;&nbsp;&nbsp;Evas *e = evas_object_evas_get(win);

&nbsp;&nbsp;&nbsp;&nbsp;/* Create an image object */
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *img = evas_object_image_add(e);

&nbsp;&nbsp;&nbsp;&nbsp;/* Set a source file to fetch pixel data */
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_file_set(img, &quot;./logo.png&quot;, NULL);

&nbsp;&nbsp;&nbsp;&nbsp;/* Set the size and position of the image on the image object area */
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_fill_set(img, 0, 0, 300, 300);

&nbsp;&nbsp;&nbsp;&nbsp;evas_object_move(img, 50, 50);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(img, 300, 300);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(img);

&nbsp;&nbsp;&nbsp;&nbsp;elm_run();

&nbsp;&nbsp;&nbsp;&nbsp;elm_shutdown();

&nbsp;&nbsp;&nbsp;&nbsp;return 0;
}
</pre>
	<p class="figure">Figure: Image object display</p> 
	<p align="center"><img alt="Image object display" src="../../images/evas_object_display.png" /></p>  
  
<h3 id="manage" name="manage">Managing Images</h3>

<p>To manage image objects in Evas:</p>
<ul>
<li>Limiting visibility
<p>Evas always supports the image file type it was compiled with. Check your software packager for the information and use the <span style="font-family: Courier New,Courier,monospace;">evas_object_image_extension_can_load_get()</span> function.</p>

<p>Create the image object. Set a source file on it, so that the object knows where to fetch the image data.</p>
<p>Define how to fill the image object area with the given pixel data. You can use a sub-region of the original image, or have it tiled repeatedly on the image object.</p>

<pre class="prettyprint">
img = evas_object_image_add(canvas);
evas_object_image_file_set(img, &quot;path/to/img&quot;, NULL);
evas_object_image_fill_set(img, 0, 0, w, h);
</pre>


<p>If the entire source image is to be displayed on the image object, stretched to the destination size, use the <span style="font-family: Courier New,Courier,monospace;">evas_object_image_filled_set()</span> function helper that you can use instead of the <span style="font-family: Courier New,Courier,monospace;">evas_object_image_fill_set()</span> function:</p>

<pre class="prettyprint">
evas_object_image_filled_set(img, EINA_TRUE);
</pre>
</li>
<li>Scaling images
<p>Resizing image objects scales the source images to the image object size, if the source images are set to fill the object area using the <span style="font-family: Courier New,Courier,monospace;">evas_object_image_filled_set()</span> function.</p>
<p>Control the aspect ratio of an image for different sizes with functions to load images scaled up or down in memory.</p>

<p>Evas has a scale cache, which caches scaled versions of images used often. You can also have Evas rescale the images smoothly, however, that is computationally expensive.</p>

<p>You can decide how to fill the image object area with the given image pixel data by setting the position, width, and height of the image using the <span style="font-family: Courier New,Courier,monospace">evas_object_image_fill_set()</span> function. Without setting this information, the image is not displayed. If the size of the image is bigger than the image object area, only a sub-region of the original image is displayed. If the image is smaller than the area, images are tiled repeatedly to fill the object area.</p>

	<p class="figure">Figure: Image scaling</p> 
	<p align="center"><img alt="Image scaling" src="../../images/evas_image_scaling.png" /></p>  

	<table style="border:none;">
	<tbody>
	<tr>
	 <td style="border:none;"><p align="center"><img alt="" src="../../images/evas_scaling1.png" /></p></td>
	 <td style="border:none;"><p align="center"><img alt="" src="../../images/evas_scaling2.png" /></p></td>
	 <td style="border:none;"><p align="center"><img alt="" src="../../images/evas_scaling3.png" /></p></td>
	</tr>
	<tr>
     <td style="text-align:center; border:none;"><span style="font-family: Courier New,Courier,monospace">evas_object_image_fill_set(obj, 50, 0, 300, 300)</span></td>
	 <td style="text-align:center; border:none;"><span style="font-family: Courier New,Courier,monospace">evas_object_image_fill_set(obj, 0, 0, 200, 200)</span></td>
	 <td style="text-align:center; border:none;"><span style="font-family: Courier New,Courier,monospace">evas_object_image_fill_set(obj, 0, 0, 100, 127)</span></td>
	</tr>
	</tbody>
	</table>  
 	
<p>The <span style="font-family: Courier New,Courier,monospace">evas_object_image_filled_set()</span> function scales the image to fit the object area. Resizing the image object automatically triggers an internal call to the <span style="font-family: Courier New,Courier,monospace">evas_object_image_fill_set()</span> function.</p>

<p>The <span style="font-family: Courier New,Courier,monospace">evas_object_image_filled_add()</span> function creates a new image object that automatically scales its bound image to the object area. This is a helper function around the <span style="font-family: Courier New,Courier,monospace">evas_object_image_add()</span> and <span style="font-family: Courier New,Courier,monospace">evas_object_image_filled_set()</span> functions.</p>

<p>Scaled images&#39; quality can differ according to scaling algorithms. Smooth scaling improves the image quality in the process of size reducing or enlarging. Evas runs its own smooth scaling algorithm by default and provides an API for you to disable the function.</p>

<p>The algorithm is implemented using the SIMD (Single Instruction Multiple Data) vectorization in case of software rendering. It is optimized on Intel and ARM CPU through MMX and NEON command respectively.</p>

<p>There is a trade-off between image smoothness and rendering performance. The load gets bigger as the image gets bigger. Users can avoid such scaling overload by using the same size of the image object and the source image.</p>

<p>In the following example, 2 image objects are created to show the effects of smooth scaling. The one with smooth scaling applied appears softer on the screen.</p>

<pre class="prettyprint">
#include &lt;Elementary.h&gt;

int
main(int argc, char **argv)
{
&nbsp;&nbsp;&nbsp;&nbsp;elm_init(argc, argv);

&nbsp;&nbsp;&nbsp;&nbsp;/* Create a window object */
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *win = elm_win_add(NULL, &quot;main&quot;, ELM_WIN_BASIC);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(win, 400, 200);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(win);

&nbsp;&nbsp;&nbsp;&nbsp;/* Return Evas handle from window */
&nbsp;&nbsp;&nbsp;&nbsp;Evas *e = evas_object_evas_get(win);

&nbsp;&nbsp;&nbsp;&nbsp;/* Create an image object */
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *img = evas_object_image_filled_add(e);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_file_set(img, &quot;./logo.png&quot;, NULL);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_move(img, 0, 0);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(img, 200, 200);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(img);

&nbsp;&nbsp;&nbsp;&nbsp;/* Create another image object */
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *img2 = evas_object_image_filled_add(e);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_file_set(img2, &quot;./logo.png&quot;, NULL);

&nbsp;&nbsp;&nbsp;&nbsp;/* Disable smooth scaling */
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_smooth_scale_set(img2, EINA_FALSE);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_move(img2, 200, 0);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(img2, 200, 200);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(img2);

&nbsp;&nbsp;&nbsp;&nbsp;elm_run();

&nbsp;&nbsp;&nbsp;&nbsp;elm_shutdown();

&nbsp;&nbsp;&nbsp;&nbsp;return 0;
}
</pre>

  <table style="border:none;">
  <caption>Figure: Smooth scaling effects</caption>
  <tbody>
  <tr>
   <td style="border:none;"><p align="center"><img alt="Smooth scaling effects" src="../../images/evas_smooth_enabled.png" /></p></td>
   <td style="border:none;"><p align="center"><img alt="Smooth scaling effects" src="../../images/evas_smooth_disabled.png" /></p></td>
  </tr>
  <tr>
   <td style="text-align:center; border:none;">Smooth scaling enabled</td>
   <td style="text-align:center; border:none;">Smooth scaling disabled</td>
  </tr>
  </tbody></table>


<p>Evas caches scaled image data and reuses them. You can save the memory by loading the image in the scaled size to the memory at the beginning. This option is available only for <span style="font-family: Courier New,Courier,monospace">jpeg</span> format at the moment.</p>

<p>The following example shows how to load the image in the scaled size.</p>
<pre class="prettyprint">
#include &lt;Elementary.h&gt;

int
main(int argc, char **argv)
{
&nbsp;&nbsp;&nbsp;&nbsp;elm_init(argc, argv);

&nbsp;&nbsp;&nbsp;&nbsp;/* Create a window object */
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *win = elm_win_add(NULL, &quot;main&quot;, ELM_WIN_BASIC);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(win, 400, 200);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(win);

&nbsp;&nbsp;&nbsp;&nbsp;/* Return Evas handle from window */
&nbsp;&nbsp;&nbsp;&nbsp;Evas *e = evas_object_evas_get(win);

&nbsp;&nbsp;&nbsp;&nbsp;/* Create an image object */
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *img = evas_object_image_filled_add(e);

&nbsp;&nbsp;&nbsp;&nbsp;/*
&nbsp;&nbsp;&nbsp;&nbsp;   Load the image scaled into the object size
&nbsp;&nbsp;&nbsp;&nbsp;   before evas_object_image_file_set() is called
&nbsp;&nbsp;&nbsp;&nbsp;*/
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_load_size_set(img, 300, 300);

&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_file_set(img, &quot;./logo.png&quot;, NULL);
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_move(img, 50, 50);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(img, 300, 300);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(img);

&nbsp;&nbsp;&nbsp;&nbsp;elm_run();

&nbsp;&nbsp;&nbsp;&nbsp;elm_shutdown();

&nbsp;&nbsp;&nbsp;&nbsp;return 0;
}
</pre>
</li>
</ul>

<h3>Setting Raw Data to Image Object</h3>
<p>You can set raw data to the image object manually using the <span style="font-family: Courier New,Courier,monospace">evas_object_image_data_set()</span> function instead of setting an image file as the data source. The image data must be in raw data form. In case of an 200x200 sized image with alpha channel enabled (32 bits per pixel), the size of the image data is 14000 (=200*200*4) bytes.</p>

<p>Image objects fetch metadata such as width or height from the header of the image files. Since the raw data does not have the metadata, you must set the size of the image using the <span style="font-family: Courier New,Courier,monospace">evas_object_image_size_set()</span> function.</p>

<p>The <span style="font-family: Courier New,Courier,monospace">evas_object_image_data_get()</span> function returns the data pointer of an image object and requires a parameter to determine whether the data is modified or not. If you pass <span style="font-family: Courier New,Courier,monospace">EINA_TRUE</span> for <span style="font-family: Courier New,Courier,monospace">for_writing</span>, Evas updates the image pixels in the next rendering cycle.</p>

<p>The <span style="font-family: Courier New,Courier,monospace">evas_object_image_data_update_add()</span> helps to mark the updated area for rendering efficiency.</p>

<p>The following example code and figure show how to specify the area to update:</p>
<pre class="prettyprint">
evas_object_image_data_update_add(image, 100, 100, 50, 50);
evas_object_image_data_update_add(image, 180, 100, 50, 50);
evas_object_image_data_update_add(image, 85, 200, 160, 80);
</pre>
 
  <p class="figure">Figure: Partial image update</p> 
  <p align="center"><img alt="Partial image update" src="../../images/evas_partial_update.png" /></p>  

<p>The following code creates an image object and sets a source file on it. Then it implements the blur effect to the pixel data and saves them using the <span style="font-family: Courier New,Courier,monospace">evas_object_image_save()</span> function.</p>

<pre class="prettyprint">
#include &lt;Elementary.h&gt;

void
image_blur(Evas_Object *img)
{
&nbsp;&nbsp;&nbsp;&nbsp;unsigned char *img_src = evas_object_image_data_get(img, EINA_TRUE);

&nbsp;&nbsp;&nbsp;&nbsp;int w;
&nbsp;&nbsp;&nbsp;&nbsp;int h;
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_size_get(img, &amp;w, &amp;h);
&nbsp;&nbsp;&nbsp;&nbsp;int blur_size = 4;
&nbsp;&nbsp;&nbsp;&nbsp;int x;
&nbsp;&nbsp;&nbsp;&nbsp;int y;
&nbsp;&nbsp;&nbsp;&nbsp;int xx;
&nbsp;&nbsp;&nbsp;&nbsp;int yy;

&nbsp;&nbsp;&nbsp;&nbsp;for (y = 0; y &lt; h; y++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (x = 0; x &lt; w; x++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int avg_color[3] = {0, 0, 0};
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int blur_pixel_cnt = 0;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (xx = x; (xx &lt; x + blur_size) &amp;&amp; (xx &lt; w); xx++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (yy = y; (yy &lt; y + blur_size) &amp;&amp; (yy &lt; h); yy++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int idx = (yy * w * 4) + (xx * 4);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avg_color[0] += img_src[idx + 0];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avg_color[1] += img_src[idx + 1];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avg_color[2] += img_src[idx + 2];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++blur_pixel_cnt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avg_color[0] /= blur_pixel_cnt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avg_color[1] /= blur_pixel_cnt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;avg_color[2] /= blur_pixel_cnt;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (xx = x; (xx &lt; x + blur_size) &amp;&amp; (xx &lt; w); xx++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (yy = y; (yy &lt; y + blur_size) &amp;&amp; (yy &lt; h); yy++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int idx = (yy * w * 4) + (xx * 4);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img_src[idx + 0] = avg_color[0];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img_src[idx + 1] = avg_color[1];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;img_src[idx + 2] = avg_color[2];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_data_update_add(img, 0, 0, w, h);
}

int
main(int argc, char **argv)
{
&nbsp;&nbsp;&nbsp;&nbsp;elm_init(argc, argv);

&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *win = elm_win_add(NULL, &quot;main&quot;, ELM_WIN_BASIC);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(win, 200, 200);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(win);

&nbsp;&nbsp;&nbsp;&nbsp;Evas *e = evas_object_evas_get(win);

&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *img = evas_object_image_filled_add(e);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_file_set(img, &quot;./logo.png&quot;, NULL);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(img, 200, 200);
&nbsp;&nbsp;&nbsp;&nbsp;evas_object_show(img);

&nbsp;&nbsp;&nbsp;&nbsp;image_blur(img);

&nbsp;&nbsp;&nbsp;&nbsp;evas_object_image_save(img, &quot;logo2.png&quot;, NULL, &quot;quality=100 compress=8&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;elm_run();

&nbsp;&nbsp;&nbsp;&nbsp;elm_shutdown();

&nbsp;&nbsp;&nbsp;&nbsp;return 0;
}
</pre>

  <table style="border:none;">
  <caption>Figure: Blur effect</caption>
  <tbody>
  <tr>
   <td style="border:none;"><p align="center"><img alt="Blur effect" src="../../images/evas_blur1.png" /></p></td>
   <td style="border:none;"><p align="center"><img alt="Blur effect" src="../../images/evas_blur2.png" /></p></td>
  </tr>
  <tr>
   <td style="text-align:center; border:none;">Before</td>
   <td style="text-align:center; border:none;">After</td>
  </tr>
  </tbody></table>  

<h4>Giving Performance Hints</h4>
<p>In image viewer applications, you can display an image in full size. The navigation to the adjacent images on your album must be fluid and fast. Thus, while displaying a given image, the program can load the next and previous image in the background to be able to immediately repaint the screen with a new image.</p>

<p>Evas addresses this issue with image preloading:</p>

<pre class="prettyprint">
prev = evas_object_image_filled_add(canvas);
evas_object_image_file_set(prev, &quot;/path/to/prev&quot;, NULL);
evas_object_image_preload(prev, EINA_FALSE);
next = evas_object_image_filled_add(canvas);
evas_object_image_file_set(next, &quot;/path/to/next&quot;, NULL);
evas_object_image_preload(next, EINA_FALSE);
</pre>

<p>If you are loading an image which is too big, set its loading size smaller.</p>

<p>Load a scaled down version of the image in the memory if that is the size you are displaying (this can speed up the loading considerably):</p>

<pre class="prettyprint">
img = evas_object_image_filled_add(canvas);
evas_object_image_file_set(img, &quot;/path/to/next&quot;, NULL);
evas_object_image_load_scale_down_set(img, 2); /* Loading image size is img/2 */
</pre>

<p>If you know you are showing a sub-set of the image pixels, you can avoid loading the complementary data:</p>
<pre class="prettyprint">
evas_object_image_load_region_set(img, x, y, w, h);
</pre>

<h4>Specifying Borders</h4>
<p>With Evas, you can specify image margins to be treated as borders. The margins then maintain their aspects when the image is resized. This makes setting frames around other UI objects easier. The following figure illustrates the border behavior, when the image is resized.</p>

<p class="figure">Figure: Borders in Evas</p> 
<p align="center"><img alt="Borders in Evas" src="../../images/9patch.png" /></p> 
 

 <h2 id="block" name="block">Textblock Objects</h2>

<p>Unlike basic text objects, a textblock handles complex text, managing multiple styles and multiline text based on HTML-like tags. However, these extra features are heavier on memory and processing cost.</p>
<p>The textblock objects is an object that shows big chunks of text. Textblock supports many features, including text formatting, automatic and manual text alignment, embedding items (icons, for example). Textblock has 3 important parts: the text paragraphs, the format nodes and the cursors.</p>
<p>To set markup to format text, use for example <span style="font-family: Courier New,Courier,monospace">&lt;font_size=50&gt;Big!&lt;/font_size&gt;</span>. Set more than one style directive in one tag with <span style="font-family: Courier New,Courier,monospace">&lt;font_size=50 color=#F00&gt;Big and Red!&lt;/font_size&gt;</span>. Note that <span style="font-family: Courier New,Courier,monospace">&lt;/font_size&gt;</span> is used although the format also included color. This is because the first format determines the matching closing tag&#39;s name. You can use anonymous tags, such as <span style="font-family: Courier New,Courier,monospace">&lt;font_size=30&gt;Big&lt;/&gt;</span>, which pop any type of format, but it is advisable to use the named alternatives instead.</p>
<p>Textblock supports the following formats:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">font</span>: Font description in fontconfig such as format, for example <span style="font-family: Courier New,Courier,monospace">&quot;Sans:style=Italic:lang=hi&quot; or &quot;Serif:style=Bold&quot;</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">font_weight</span>: Overrides the weight defined in <span style="font-family: Courier New,Courier,monospace">font</span>. For example, <span style="font-family: Courier New,Courier,monospace">font_weight=Bold</span> is the same as <span style="font-family: Courier New,Courier,monospace">font=:style=Bold</span>. The supported weights are <span style="font-family: Courier New,Courier,monospace">normal</span>, <span style="font-family: Courier New,Courier,monospace">thin</span>, <span style="font-family: Courier New,Courier,monospace">ultralight</span>, <span style="font-family: Courier New,Courier,monospace">light</span>, <span style="font-family: Courier New,Courier,monospace">book</span>, <span style="font-family: Courier New,Courier,monospace">medium</span>, <span style="font-family: Courier New,Courier,monospace">semibold</span>, <span style="font-family: Courier New,Courier,monospace">bold</span>, <span style="font-family: Courier New,Courier,monospace">ultrabold</span>, <span style="font-family: Courier New,Courier,monospace">black</span>, and <span style="font-family: Courier New,Courier,monospace">extrablack</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">font_style</span>: Overrides the style defined in <span style="font-family: Courier New,Courier,monospace">font</span>. For example, <span style="font-family: Courier New,Courier,monospace">font_style=Italic</span> is the same as <span style="font-family: Courier New,Courier,monospace">font=:style=Italic</span>. The supported styles are <span style="font-family: Courier New,Courier,monospace">normal</span>, <span style="font-family: Courier New,Courier,monospace">oblique</span>, and <span style="font-family: Courier New,Courier,monospace">italic</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">font_width</span>: Overrides the width defined in <span style="font-family: Courier New,Courier,monospace">font</span>. For example, <span style="font-family: Courier New,Courier,monospace">font_width=Condensed</span> is the same as <span style="font-family: Courier New,Courier,monospace">font=:style=Condensed</span>. The supported widths are <span style="font-family: Courier New,Courier,monospace">normal</span>, <span style="font-family: Courier New,Courier,monospace">ultracondensed</span>, <span style="font-family: Courier New,Courier,monospace">extracondensed</span>, <span style="font-family: Courier New,Courier,monospace">condensed</span>, <span style="font-family: Courier New,Courier,monospace">semicondensed</span>, <span style="font-family: Courier New,Courier,monospace">semiexpanded</span>, <span style="font-family: Courier New,Courier,monospace">expanded</span>, <span style="font-family: Courier New,Courier,monospace">extraexpanded</span>, and <span style="font-family: Courier New,Courier,monospace">ultraexpanded</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">lang</span>: Overrides the language defined in <span style="font-family: Courier New,Courier,monospace">font</span>. For example, <span style="font-family: Courier New,Courier,monospace">lang=he</span> is the same as <span style="font-family: Courier New,Courier,monospace">font=:lang=he</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">font_fallbacks</span>: A comma delimited list of fonts to try if finding the main font fails.</li>
<li><span style="font-family: Courier New,Courier,monospace">font_size</span>: The font size in points.</li>
<li><span style="font-family: Courier New,Courier,monospace">font_source</span>: The source of the font, for example an eet file.</li>
<li><span style="font-family: Courier New,Courier,monospace">color</span>: The text color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">underline_color</span>: The color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">underline2_color</span>: The color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">outline_color</span>: The color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">shadow_color</span>: The color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">glow_color</span>: The color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">glow2_color</span>: The color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">strikethrough_color</span>: The color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">align</span>: The text alignment in one of the following formats: <span style="font-family: Courier New,Courier,monospace">auto</span> (according to text direction), <span style="font-family: Courier New,Courier,monospace">left</span>, <span style="font-family: Courier New,Courier,monospace">right</span>, <span style="font-family: Courier New,Courier,monospace">center</span>, or <span style="font-family: Courier New,Courier,monospace">middle</span>, which take a value between 0.0 and 1.0 or a value between 0% to 100%.</li>
<li><span style="font-family: Courier New,Courier,monospace">valign</span>: The vertical text alignment in one of the following formats: <span style="font-family: Courier New,Courier,monospace">top</span>, <span style="font-family: Courier New,Courier,monospace">bottom</span>, <span style="font-family: Courier New,Courier,monospace">middle</span>, <span style="font-family: Courier New,Courier,monospace">center</span>, <span style="font-family: Courier New,Courier,monospace">baseline</span>, or <span style="font-family: Courier New,Courier,monospace">base</span>, which take a value between 0.0 and 1.0 or a value between 0% to 100%.</li>
<li><span style="font-family: Courier New,Courier,monospace">wrap</span>: The text wrap in one of the following formats: <span style="font-family: Courier New,Courier,monospace">word</span>, <span style="font-family: Courier New,Courier,monospace">char</span>, <span style="font-family: Courier New,Courier,monospace">mixed</span>, or <span style="font-family: Courier New,Courier,monospace">none</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">left_margin</span>: Either <span style="font-family: Courier New,Courier,monospace">reset</span> or a pixel value indicating the margin.</li>
<li><span style="font-family: Courier New,Courier,monospace">right_margin</span>: Either <span style="font-family: Courier New,Courier,monospace">reset</span> or a pixel value indicating the margin.</li>
<li><span style="font-family: Courier New,Courier,monospace">underline</span>: The style of underlining in one of the following formats: <span style="font-family: Courier New,Courier,monospace">on</span>, <span style="font-family: Courier New,Courier,monospace">off</span>, <span style="font-family: Courier New,Courier,monospace">single</span>, or <span style="font-family: Courier New,Courier,monospace">double</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">strikethrough</span>: The style of text that is either <span style="font-family: Courier New,Courier,monospace">on</span> or <span style="font-family: Courier New,Courier,monospace">off</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">backing_color</span>: The background color in one of the following formats: <span style="font-family: Courier New,Courier,monospace">#RRGGBB</span>, <span style="font-family: Courier New,Courier,monospace">#RRGGBBAA</span>, <span style="font-family: Courier New,Courier,monospace">#RGB</span>, or <span style="font-family: Courier New,Courier,monospace">#RGBA</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">backing</span>: The background color enabled or disabled: <span style="font-family: Courier New,Courier,monospace">on</span> or <span style="font-family: Courier New,Courier,monospace">off</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">style</span>: The style of the text in one of the following formats: <span style="font-family: Courier New,Courier,monospace">off</span>, <span style="font-family: Courier New,Courier,monospace">none</span>, <span style="font-family: Courier New,Courier,monospace">plain</span>, <span style="font-family: Courier New,Courier,monospace">shadow</span>, <span style="font-family: Courier New,Courier,monospace">outline</span>, <span style="font-family: Courier New,Courier,monospace">soft_outline</span>, <span style="font-family: Courier New,Courier,monospace">outline_shadow</span>, <span style="font-family: Courier New,Courier,monospace">outline_soft_shadow</span>, <span style="font-family: Courier New,Courier,monospace">glow</span>, <span style="font-family: Courier New,Courier,monospace">far_shadow</span>, <span style="font-family: Courier New,Courier,monospace">soft_shadow</span>, or <span style="font-family: Courier New,Courier,monospace">far_soft_shadow</span>. The direction is selected by adding <span style="font-family: Courier New,Courier,monospace">bottom_right</span>, <span style="font-family: Courier New,Courier,monospace">bottom</span>, <span style="font-family: Courier New,Courier,monospace">bottom_left</span>, <span style="font-family: Courier New,Courier,monospace">left</span>, <span style="font-family: Courier New,Courier,monospace">top_left</span>, <span style="font-family: Courier New,Courier,monospace">top</span>, <span style="font-family: Courier New,Courier,monospace">top_right</span>, or <span style="font-family: Courier New,Courier,monospace">right</span>. For example, <span style="font-family: Courier New,Courier,monospace">style=shadow,bottom_right</span>.</li>
<li><span style="font-family: Courier New,Courier,monospace">tabstops</span>: The pixel value for tab width.</li>
<li><span style="font-family: Courier New,Courier,monospace">linesize</span>: To force a line size in pixels.</li>
<li><span style="font-family: Courier New,Courier,monospace">linerelsize</span>: Either a floating point value or a percentage indicating the wanted size of the line relative to the calculated size.</li>
<li><span style="font-family: Courier New,Courier,monospace">linegap</span>: To force a line gap in pixels.</li>
<li><span style="font-family: Courier New,Courier,monospace">linerelgap</span>: Either a floating point value or a percentage indicating the wanted size of the line relative to the calculated size.</li>
<li><span style="font-family: Courier New,Courier,monospace">item</span>: Creates an empty space that is filled by an upper layer. Use <span style="font-family: Courier New,Courier,monospace">size</span>, <span style="font-family: Courier New,Courier,monospace">abssize</span>, or <span style="font-family: Courier New,Courier,monospace">relsize</span> to define the item&#39;s size, and an optional vsize = full/ascent to define the item&#39;s position in the line.</li>
<li><span style="font-family: Courier New,Courier,monospace">linefill</span>: Either a float value or percentage indicating how much to fill the line.</li>
<li><span style="font-family: Courier New,Courier,monospace">ellipsis</span>: A value between 0.0 and 1.0 to indicate the type of ellipsis, or -1.0 to indicate that an ellipsis is not wanted.</li>
<li><span style="font-family: Courier New,Courier,monospace">password</span>: Either <span style="font-family: Courier New,Courier,monospace">on</span> or <span style="font-family: Courier New,Courier,monospace">off</span>, this is used to specifically turn replacing chars with the password mode (that is, replacement char) on and off. </li>
</ul>


<h2 id="clip" name="clip">Clipping Objects</h2>

<h3>Limiting Visibility </h3>
<p>An Evas object can be clipped – in other words, its visible area is restricted with the clipper object.</p>

<p>It is often necessary to show only parts of an object, and while it may be possible to create an object that corresponds only to the part that must be shown (which is not always possible), it is usually easier to use a clipper. A clipper is a rectangle that defines what is visible and what is not. To do this, create a solid white rectangle (by default, so you need not use the <span style="font-family: Courier New,Courier,monospace">evas_object_color_set()</span> function) and give it a position and size of what is wanted visible. The following code example shows how to show the center half of <span style="font-family: Courier New,Courier,monospace">my_evas_object</span>: </p>
<pre class="prettyprint">
Evas_Object *clipper = evas_object_rectangle_add(evas_canvas);
evas_object_move(clipper, my_evas_object_x / 4, my_evas_object_y / 4);
evas_object_resize(clipper, my_evas_object_width / 2, my_evas_object_height / 2);
evas_object_clip_set(my_evas_object, clipper);
evas_object_show(clipper);
</pre>

<h3>Layer of Color </h3>
<p>A solid white clipper does not produce a change in the color of the clipped object, only hides what is outside the clipper&#39;s area. Changing the color of an object is accomplished by using a colored clipper. Clippers with color function by multiplying the colors of the clipped object. The following code shows how to remove all the red from an object.</p>
<pre class="prettyprint">
Evas_Object *clipper = evas_object_rectangle_add(evas);
evas_object_move(clipper, my_evas_object_x, my_evas_object_y);
evas_object_resize(clipper, my_evas_object_width, my_evas_object_height);
evas_object_color_set(clipper, 0, 255, 255, 255);
evas_object_clip_set(obj, clipper);
evas_object_show(clipper);
</pre> 


<h2 id="map" name="map">Mapping Objects</h2>

<p>Evas allows different transformations to be applied to all kinds of objects. These are applied by means of UV mapping. With UV mapping, 1 map points in the source object to a 3D space positioning at target. This allows rotation, perspective, scale, and many other effects depending on the map that is used.</p>

<h3>Creating a Map </h3>
<p>A map consists of a set of points, but currently only 4 are supported. Each of these points contains a set of canvas coordinates x and y that are used to alter the geometry of the mapped object, and a z coordinate that indicates the depth of that point. This last coordinate does not normally affect the map, but is used by several of the utility functions to calculate the right position of the point given other parameters.</p>
<p>The coordinates for each point are set with the <span style="font-family: Courier New,Courier,monospace">evas_map_point_coord_set()</span> function. In the following example, there is a rectangle whose coordinates are (100, 100) and (300, 300).</p>
<pre class="prettyprint">
Evas_Object *object = evas_object_rectangle_add(evas);
evas_object_move(object, 100, 100);
evas_object_resize(object, 200, 200);
Evas_Map map = evas_map_new(4);
evas_map_point_coord_set(map, 0, 100, 100, 0);
evas_map_point_coord_set(map, 1, 300, 100, 0);
evas_map_point_coord_set(map, 2, 300, 300, 0);
evas_map_point_coord_set(map, 3, 100, 300, 0);
</pre>
<p>To ease the process:</p>
<ul>
<li>
<p>Use the <span style="font-family: Courier New,Courier,monospace">evas_map_util_points_populate_from_geometry()</span> function, where the map coordinates are set to the given rectangle, and the last parameter is the coordinate in the Z axis, which is the same for all points.</p>
<pre class="prettyprint">
Evas_Object *object = evas_object_rectangle_add(evas);
evas_object_move(object, 100, 100);
evas_object_resize(object, 200, 200);
Evas_Map map = evas_map_new(4);
evas_map_util_points_populate_from_geometry(map, 100, 100, 200, 200, 0);
</pre>
</li>
<li>
<p>You can also use the <span style="font-family: Courier New,Courier,monospace">evas_map_util_points_populate_from_object()</span> function.</p>
<pre class="prettyprint">
Evas_Object *object = evas_object_rectangle_add(evas);
evas_object_move(object, 100, 100);
evas_object_resize(object, 200, 200);
Evas_Map map = evas_map_new(4);
evas_map_util_points_populate_from_object(map, object);
</pre>
</li>
<li>
<p>You can also use <span style="font-family: Courier New,Courier,monospace">evas_map_util_points_populate_from_object_full()</span>, where the last parameter is the coordinate in the Z axis, which is the same for all points. </p>
<pre class="prettyprint">
Evas_Object *object = evas_object_rectangle_add(evas);
evas_object_move(object, 100, 100);
evas_object_resize(object, 200, 200);
Evas_Map map = evas_map_new(4);
evas_map_util_points_populate_from_object_full(map, object, 0);
</pre>
</li>
</ul>
<h3>Manual Point Setting</h3>
<p>Several effects are applied to an object by setting each point of the map to the right coordinates. The following example creates a simulated perspective.</p>
<pre class="prettyprint">
evas_map_point_coord_set(map, 0, 300, 100, 0);
evas_map_point_coord_set(map, 1, 450, 120, 0);
evas_map_point_coord_set(map, 2, 450, 260, 0);
evas_map_point_coord_set(map, 3, 300, 300, 0);
</pre>

<p>The Z coordinate is not used when setting points by hand, and thus its value is not important.</p>

<h3>Applying a Map </h3>
<p>Regardless of the specific way you create a map, to apply it to a specific object, use the following functions:</p>
<pre class="prettyprint">
evas_object_map_set(object, map);
evas_object_map_enable_set(object, EINA_TRUE);
</pre>

<h3>Basic Utility Functions </h3>
<p>Evas provides utility functions for common transformations:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">evas_map_util_rotate()</span>: This function performs a rotation of the <span style="font-family: Courier New,Courier,monospace">angle</span> degrees around the center point with the coordinates (cx, cy).</li>
<li><span style="font-family: Courier New,Courier,monospace">evas_map_util_zoom()</span>: This function performs a <span style="font-family: Courier New,Courier,monospace">zoomx</span> and <span style="font-family: Courier New,Courier,monospace">zoomy</span> zoom in the X and Y directions respectively, with the center point with the coordinates (cx, cy).</li>
</ul>

<p>For example, the following code rotates an object around its center.</p>
<pre class="prettyprint">
int x;
int y;
int w;
int h;
evas_object_geometry_get(object, &amp;x, &amp;y, &amp;w, &amp;h);
Evas_Map *map = evas_map_new(4);
evas_map_util_points_populate_from_object(map, object);
evas_map_util_rotate(map, 45, x + (w / 2), y + (h / 2));
evas_object_map_set(object, map);
evas_object_map_enable_set(object, EINA_TRUE);
evas_map_free(m);
</pre>

<p>The following code rotates an object around the center of the window.</p>
<pre class="prettyprint">
int w;
int h;
evas_output_size_get(evas, &amp;w, &amp;h);
Evas_Map *map = evas_map_new(4);
evas_map_util_points_populate_from_object(map, object);
evas_map_util_rotate(map, 45, w / 2, h / 2);
evas_object_map_set(object, map);
evas_object_map_enable_set(object, EINA_TRUE);
evas_map_free(m);
</pre>

<h3>3D Utility Functions </h3>
<p>Evas provides utility functions for 3D transformations.</p>
<p>To make a 3D rotation, use the <span style="font-family: Courier New,Courier,monospace">evas_map_util_3d_rotate()</span> function. With this code, you can set the Z coordinate of the rotation center, and the angles to rotate through around all axes.</p>
<p>Rotating in the 3D space does not look natural. A more natural look becomes by adding perspective to the transformation, which is done with the <span style="font-family: Courier New,Courier,monospace">evas_map_util_3d_perspective()</span> function on the map after its position has been set. Use the following parameters:</p>

<ul>
<li><span style="font-family: Courier New,Courier,monospace">px</span> and <span style="font-family: Courier New,Courier,monospace">py</span> specify the &quot;infinite distance&quot; point in the 3D conversion, where all lines converge to.</li>
<li><span style="font-family: Courier New,Courier,monospace">z0</span> specifies the Z value at which there is a 1:1 mapping between spatial coordinates and screen coordinates: any points on this Z value do not have their X and Y coordinates modified in the transform, while those further away (Z value higher) shrink into the distance, and those less than this value expand.</li>
<li><span style="font-family: Courier New,Courier,monospace">focal</span> determines the &quot;focal length&quot; of the camera: this is the distance in reality between the camera lens plane (the rendering results are undefined at or closer than this) and the <span style="font-family: Courier New,Courier,monospace">z0</span> value; this function allows for some &quot;depth&quot; control.</li>
</ul>
<h3>Color and Lighting</h3>
<p>Each point in a map can be set to a color, which is multiplied with the object&#39;s own color and linearly interpolated in between adjacent points. To do this, use <span style="font-family: Courier New,Courier,monospace">evas_map_point_color_set(map, index, r, g, b, a)</span> for each point of the map, or <span style="font-family: Courier New,Courier,monospace">evas_map_util_points_color_set()</span> to set every point into the same color.</p>
<p>To add lighting for the objects, which is useful with 3D transforms, use the <span style="font-family: Courier New,Courier,monospace">evas_map_util_3d_lighting()</span> function with the following parameters:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">lightx</span>, <span style="font-family: Courier New,Courier,monospace">lighty</span> and <span style="font-family: Courier New,Courier,monospace">lightz</span> are the local light source coordinates;</li>
<li><span style="font-family: Courier New,Courier,monospace">lightr</span>, <span style="font-family: Courier New,Courier,monospace">lightg</span> and <span style="font-family: Courier New,Courier,monospace">lightb</span> are the local light source colors;</li>
<li><span style="font-family: Courier New,Courier,monospace">ambientr</span>, <span style="font-family: Courier New,Courier,monospace">ambientg</span> and <span style="font-family: Courier New,Courier,monospace">ambientb</span> are the ambient light colors. Evas sets the color of each point based on the distance to the light source, the angle with which the object is facing the light and the ambient light. The orientation of each point is important. If the map is defined counter-clockwise, the object faces away from you and becomes obscured, since no light does not reflect from it.</li>
</ul>

<table class="note">
    <tbody>
        <tr>
            <th class="note">Note</th>
        </tr>
        <tr>
            <td class="note">Except as noted, this content is licensed under <a href="http://opensource.org/licenses/LGPL-2.1" target="_blank">LGPLv2.1+</a>.</td>
        </tr>
    </tbody>
</table>

<script type="text/javascript" src="../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>