<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../css/snippet.css" />
	<script type="text/javascript" src="../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/search.js" charset="utf-8"></script>

  <title>T-trace</title>
</head>

 <body onload="prettyPrint()" style="overflow: auto;">

<div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile native" src="../images/mobile_s_n.png"/> <img alt="Wearable native" src="../images/wearable_s_n.png"/></p>
	</div>
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Content</p>
		<ul class="toc">
			<li><a href="#dialog">T-trace Dialog</a></li>
			<li><a href="#run">Running the T-trace</a></li>
			<li><a href="#result">Viewing the Tracing Result</a></li>
		</ul>
	</div></div>
</div>

<div id="container"><div id="contents"><div class="content">
	
<h1>T-trace</h1>

<p>The T-trace is a profiling tool that allows you to optimize application performance by measuring and visualizing instrumented function calls in the Tizen platform. It helps you to understand what the system is doing while your application is running.</p>

 
<h2 id="dialog" name="dialog">T-trace Dialog</h2> 

<p>The following figure illustrates the T-trace dialog elements.</p>

<p class="figure">Figure: T-trace dialog</p> 
<p style="text-align: center;"> <img alt="T-trace dialog" src="../images/ttrace_dialog.png" /> </p> 

<ol><li><strong>Tags</strong>
<p>You can define which categories to trace. Currently, the T-trace provides several Tizen platform-specific categories, and a few low level system information categories. The Linux kernel and Tizen platform modules (such as EFL, xorg, and mmfw) support the categories.</p>
<p>To enable the categories you want, select the applicable check boxes.</p></li>
<li><strong>Reset</strong>
<p>Select the check box to return all tags and options in the T-trace dialog to their default values.</p></li>
<li><strong>Time(secs)</strong>
<p>Set the time period to be used for tracing. You can select a predefined value of 10, 30, 60, or 120 seconds, enter a value of your own, or select <strong>manual</strong> (which means that no specific tracing time is set and you stop tracing when you want).</p></li>
<li><strong>Buffer(kb)</strong>
<p>Set the target buffer size. You can select a predefined value of 1024, 2048, 4096, or 10240 kb. If the set buffer size is insufficient, the oldest trace data is overwritten to accommodate new data.</p></li>
<li>Main button
<p>The main button allows you to control the tracing process based on the current operation state:</p>
<ul>
<li><strong>Ready to trace</strong>
<p>When the <strong>Ready to trace</strong> button is displayed, click it to start tracing based on the selected tags and settings.</p></li>
<li><strong>No Connection</strong>
<p>When the <strong>No Connection</strong> button is displayed, you cannot perform any trace operations. Connect a target device to the computer to see the <strong>Ready to trace</strong> button.</p></li>
<li><strong>Waiting</strong>
<p>When the <strong>Waiting</strong> button is displayed, the T-trace is working on the target and you must wait for it to finish.</p></li>
<li><strong>Stop</strong>
<p>When the <strong>Stop</strong> button is displayed, click it to stop the tracing process. This button is displayed when the trace operation is started with the time period set to <strong>manual</strong>.</p></li>
<li><strong>Show result</strong>
<p>When the <strong>Show result</strong> button is displayed, the tracing process is finished. Click the button to run the viewer.</p></li></ul></li></ol>


<h2 id="run" name="run">Running the T-trace</h2>

<p>When you run the T-trace, the tracing process gathers traces during a specified time period. After tracing is finished, the T-trace processes the traces and creates a trace report in the HTML format.</p> 

  <table class="note"> 
   <tbody> 
    <tr> 
     <th class="note">Note</th> 
    </tr> 
    <tr> 
     <td class="note">To operate the T-trace, you must first install Python (2.7.x) and Google Chrome&trade; on your computer.</td> 
    </tr> 
   </tbody> 
  </table> 

<p>To run the T-trace in the Tizen IDE:</p>
<ol>
<li>Set up the target device for the debugging mode and connect it to your computer with a USB cable.</li>
<li>Install your application on the target device.</li>
<li>In the <strong>Project Explorer</strong> view, right-click the project and select <strong>Profile as &gt; Profile With T-trace</strong>.
<p>The <strong>T-trace for TizenSDK</strong> dialog opens.</p>
</li>
<li>In the dialog, set the tracing options and click <strong>Ready to trace</strong>.</li>
</ol>

<p>You can also run the T-trace from the command line. The T-trace script is located in the <span style="font-family: Courier New,Courier,monospace">&lt;TIZEN_SDK&gt;/tools/ttrace</span> directory, and it requires that Python (2.7.x) or later to be installed on your computer.</p>

<p>To run the T-trace from the command line:</p>
<ol>
<li>Open the command prompt and move to the T-trace script directory:
<pre class="prettyprint">
$ cd TIZEN_SDK_HOME/tools/ttrace</pre>
</li>
<li>Run the T-trace script with applicable options:
<pre class="prettyprint">
$ python ttrace.py –-time=10 –-buf-size=10240 –o output_filename.html</pre>
<p>For more information on the command options, access the help:</p>
<pre class="prettyprint">
$ python ttrace.py --help</pre>
</li>
</ol>


<h2 id="result" name="result">Viewing the Tracing Result</h2>

<p>The results are stored in the <span style="font-family: Courier New,Courier,monospace">&lt;TIZEN_SDK&gt;/tools/ttrace/trace</span> directory. Both a <span style="font-family: Courier New,Courier,monospace">.text</span> binary-format trace file and a <span style="font-family: Courier New,Courier,monospace">.html</span> result report file are generated. The files are named with a timestamp (YYYYMMDDHHMMSS).</p>

<p>You can view the results using the Google Chrome&trade; browser as a viewer. The viewer is launched with the result report when you click <strong>Show result</strong> in the T-trace dialog. If you run the T-trace from the command line, open the result report manually in the viewer.</p>
 
<p class="figure">Figure: T-trace viewer</p> 
<p style="text-align: center;"> <img alt="T-trace viewer" src="../images/ttrace_viewer.png" /> </p>  

<p>The following table lists the keyboard shortcuts available in the viewer.</p>

<table>
<caption>Table: Viewer keyboard shortcuts</caption>
<tbody>
<tr>
 <th>Keyboard shortcut</th>
 <th>Description</th>
</tr>
 <tr>
 <td>w</td>
 <td>Zoom into the trace timeline.</td>
 </tr>
 <tr>
 <td>s</td>
 <td>Zoom out of the trace timeline.</td>
 </tr>
 <tr>
 <td>a</td>
 <td>Pan left on the trace timeline.</td>
 </tr>
 <tr>
 <td>d</td>
 <td>Pan right on the trace timeline.</td>
 </tr>
 <tr>
 <td>e</td>
 <td>Center the trace timeline on the current mouse location.</td>
 </tr>
 <tr>
 <td>g</td>
 <td>Show the grid at the start of the currently selected task.</td>
 </tr>
 <tr>
 <td>Shift+g</td>
 <td>Show the grid at the end of the currently selected task.</td>
 </tr>
 <tr>
 <td>Right arrow</td>
 <td>Select the next event on the currently selected timeline.</td>
 </tr> 
  <tr>
 <td>Left arrow</td>
 <td>Select the previous event on the currently selected timeline.</td>
 </tr>
  <tr>
 <td>Double-click</td>
 <td>Zoom into the trace timeline.</td>
 </tr>
  <tr>
 <td>Shift+Double-click</td>
 <td>Zoom out of the trace timeline.</td>
 </tr>
 </tbody></table>
 
 <h3>Result Report</h3>
 
<p>The result report allows you to analyze various performance aspects of your application. The report shows how your application interacts with the Tizen framework, according to category tags you selected for tracing. The following table shows the kind of information each tag provides.</p>

<table>
<caption>Table: Tag-specific information</caption>
<tbody>
<tr>
 <th>Tag</th>
 <th>Description</th>
</tr>
 <tr>
 <td>Application manager</td>
 <td>Shows how the application life-cycle management works.</td>
 </tr>
 <tr>
 <td>Camera</td>
 <td>Shows the workflow of the camera module.</td>
 </tr>
 <tr>
 <td>Input</td>
 <td>Shows how to process user input events from, for example, touch and keyboard.</td>
 </tr>
 <tr>
 <td>Video</td>
 <td>Shows the workflow of the video and radio system.</td>
 </tr>
 <!--<tr>
 <td>Web</td>
 <td>Shows the workflow of the Web Runtime and Web Engine.</td>
 </tr>-->
 <tr>
 <td>Window manager</td>
 <td>Shows the state changes of the window system, such as show, hide, resize, and rotation.</td>
 </tr>
 <tr>
 <td>Image</td>
 <td>Shows information on image processing, such as rotation, resize, and encoding.</td>
 </tr> 
 </tbody></table> 

 <p><strong>Application life-cycle analysis example:</strong></p>

<p>You can analyze your application life-cycle using the T-trace in native <!--and Web--> applications. The following figure illustrates the various states of a Tizen application. The T-trace shows you the state changes as well as how much time is consumed at each state while the application is launching, running, and terminating.</p>

<p class="figure">Figure: Application life-cycle</p> 
<p style="text-align: center;"> <img alt="Application life-cycle" src="../images/ttrace_lifecycle.png" /> </p>  

<p>To analyze the application life-cycle, run the T-trace with the <strong>Application manager</strong> tag. <!--For Web applications, enable the  <strong>Web</strong> tag too.--> When the tracing process is finished, the T-trace generates a report, as shown in the following figure.</p>
 
<p class="figure">Figure: Application life-cycle report</p> 
<p style="text-align: center;"> <img alt="Application life-cycle report" src="../images/ttrace_report.png" /> </p> 

<p>In the section for Kernel and application processes, you can see your application state changes and system information, such as the CPU frequency and kernel task scheduling on a common timeline. With this information, you can investigate in which state your application spends unnecessary time and then make changes to optimize the time usage.</p>

 

<script type="text/javascript" src="../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>
