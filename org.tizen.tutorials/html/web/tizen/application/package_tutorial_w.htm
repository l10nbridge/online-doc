<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../../css/snippet.css" />
	<script type="text/javascript" src="../../../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/search.js" charset="utf-8"></script>

	<title>Package: Providing Information about Package Installation and Installed Packages</title>
</head>

<body onload="prettyPrint()" style="overflow: auto;">

<div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile Web" src="../../../images/mobile_s_w.png"/>
		<img alt="Wearable Web" src="../../../images/wearable_s_w.png"/></p>
	</div>
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Content</p>
			<ul class="toc">
				<li><a href="#prerequisites">Prerequisites</a></li>
				<li><a href="#retrieve">Retrieving Package Information</a>

				</li>
				<li><a href="#manage">Managing Packages</a>

				</li>
				<li><a href="#receive">Receiving Package Change Notifications</a>

				</li>
			</ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../../org.tizen.guides/html/web/tizen/application/package_w.htm">Package Guide</a></li>
			<li><a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/package.html">Package API for Mobile Web</a></li>
			<li><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html">Package API for Wearable Web</a></li>			
		</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">

	<h1>Package: Providing Information about Package Installation and Installed Packages</h1>

<p>This tutorial demonstrates how you can manage packages and retrieve information about them.</p>

<p>The Package API is mandatory for both Tizen mobile and wearable profiles, which means that it is supported in all mobile and wearable devices. All mandatory APIs are supported on the Tizen Emulators.</p>

  <h2 id="warmup" name="warmup">Warm-up</h2> 
  <p>Become familiar with the Package API basics by learning about:</p> 
  <ul> 
   <li><a href="#retrieve">Retrieving Package Information</a> <p>Display a list of installed packages on the device, and retrieve package information, such as name, ID, icon path, and version.</p></li> 
   <li><a href="#manage">Managing Packages</a> <p>Install or uninstall packages.</p></li> 
   <li><a href="#receive">Receiving Package Change Notifications</a> <p>Receive notifications if packages are installed, updated, or uninstalled.</p></li> 
  </ul> 		
  
  <h2 id="prerequisites">Prerequisites</h2>
  
<p>To use the Package API, the application has to request permission by adding the following privileges to the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file:</p>
<pre class="prettyprint">
&lt;tizen:privilege name=&quot;http://tizen.org/privilege/package.info&quot;/&gt;
&lt;tizen:privilege name=&quot;http://tizen.org/privilege/packagemanager.install&quot;/&gt;
</pre>

  
                <h2 id="retrieve" name="retrieve">Retrieving Package Information</h2>
				
                <p>Learning how to retrieve information about installed packages allows you to manage device packages from your application:</p>
  <ol>
   <li><p>To retrieve a list of installed packages, use the <span style="font-family: Courier New,Courier,monospace">getPackagesInfo()</span> method of the <span style="font-family: Courier New,Courier,monospace">PackageManager</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/package.html#PackageManager">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html#PackageManager">wearable</a> applications):</p> <pre class="prettyprint lang-js">function onListInstalledPackages(lists)
{
&nbsp;&nbsp;&nbsp;console.log(&quot;The number of installed package is &quot; + lists.length);
}

tizen.package.getPackagesInfo(onListInstalledPackages);</pre> <p>The list of installed packages is returned to the <span style="font-family: Courier New,Courier,monospace">PackageInformationArraySuccessCallback()</span> methods as an array of <span style="font-family: Courier New,Courier,monospace">PackageInformation</span> objects (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/package.html#PackageInformation">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html#PackageInformation">wearable</a> applications).</p></li>
   <li><p>To retrieve basic package information, use the <span style="font-family: Courier New,Courier,monospace">getPackageInfo()</span> method of the <span style="font-family: Courier New,Courier,monospace">PackageManager</span> interface, specifying the package ID. If no package ID is set, the method retrieves information of the application package calling the method.</p> <pre class="prettyprint lang-js">var packageInfo = tizen.package.getPackageInfo(&quot;org.tizen.calculator&quot;);</pre></li>
  </ol>
          
                <h2 id="manage" name="manage">Managing Packages</h2>
			
                <p>Learning how to install and uninstall packages is a basic package management skill:</p>
  <ol>
   <li><p>To install a package, use the <span style="font-family: Courier New,Courier,monospace">install()</span> method of the <span style="font-family: Courier New,Courier,monospace">PackageManager</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/package.html#PackageManager">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html#PackageManager">wearable</a> applications), specifying the local package installation path on your device. You can retrieve the installation progress using the <span style="font-family: Courier New,Courier,monospace">PackageProgressCallback</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/package.html#PackageProgressCallback">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html#PackageProgressCallback">wearable</a> applications).</p> <pre class="prettyprint lang-js">var onInstallation =
{
&nbsp;&nbsp;&nbsp;onprogress: function(packageId, percentage)
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;On installation(&quot; + packageId + &quot;): progress(&quot; + percentage + &quot;)&quot;);
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;oncomplete: function(packageId)
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;Installation(&quot; + packageId + &quot;) Complete&quot;);
&nbsp;&nbsp;&nbsp;}
};

tizen.filesystem.resolve(&quot;downloads/test.wgt&quot;, function(packageFile)
{
&nbsp;&nbsp;&nbsp;tizen.package.install(packageFile.toURI(), onInstallation);
});</pre></li>
   <li><p>To uninstall a package, use the <span style="font-family: Courier New,Courier,monospace">uninstall()</span> method of the <span style="font-family: Courier New,Courier,monospace">PackageManager</span> interface, specifying the package ID. You can retrieve the uninstallation progress using the <span style="font-family: Courier New,Courier,monospace">PackageProgressCallback</span> interface.</p> <pre class="prettyprint lang-js">var onUninstallation =
{
&nbsp;&nbsp;&nbsp;onprogress: function(packageId, percentage)
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;On uninstallation(&quot; + packageId + &quot;): progress(&quot; + percentage + &quot;)&quot;);
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;oncomplete: function(packageId)
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;Uninstallation(&quot; + packageId + &quot;) Complete&quot;);
&nbsp;&nbsp;&nbsp;}
};

tizen.package.uninstall(&quot;TEST_APP_ID&quot;, onUninstallation);</pre></li>
  </ol>
          
                <h2 id="receive" name="receive">Receiving Package Change Notifications</h2>
				
                <p>Learning to receive notifications when the list of installed packages changes allows you to manage device packages from your application:</p>
  <ol>
   <li><p>Define the event handlers for different notifications using the <span style="font-family: Courier New,Courier,monospace">PackageInformationEventCallback</span> listener interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/package.html#PackageInformationEventCallback">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html#PackageInformationEventCallback">wearable</a> applications):</p> <pre class="prettyprint">var packageEventCallback =
{
&nbsp;&nbsp;&nbsp;oninstalled: function(packageInfo)
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;The package &quot; + packageInfo.name + &quot; is installed&quot;);
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;onupdated: function(packageInfo)
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;The package &quot; + packageInfo.name + &quot; is updated&quot;);
&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;onuninstalled: function(packageId)
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;The package &quot; + packageId + &quot; is uninstalled&quot;);
&nbsp;&nbsp;&nbsp;}
};</pre></li>
   <li><p>Register the listener to use the defined event handlers with the <span style="font-family: Courier New,Courier,monospace">setPackageInfoEventListener()</span> method of the <span style="font-family: Courier New,Courier,monospace">PackageManager</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/package.html#PackageManager">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html#PackageManager">wearable</a> applications):</p> <pre class="prettyprint lang-js">tizen.package.setPackageInfoEventListener(packageEventCallback);</pre></li>
   <li><p>To stop receiving notifications, use the <span style="font-family: Courier New,Courier,monospace">unsetPackageInfoEventListener()</span> method of the <span style="font-family: Courier New,Courier,monospace">PackageManager</span> interface:</p> <pre class="prettyprint lang-js">tizen.package.unsetPackageInfoEventListener();</pre></li>
  </ol>
           

<script type="text/javascript" src="../../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../../scripts/showhide.js"></script>

</div></div></div>

<a class="top sms" href="#"><img src="../../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>
