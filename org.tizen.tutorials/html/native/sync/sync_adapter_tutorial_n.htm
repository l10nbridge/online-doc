<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../css/snippet.css" />
	<script type="text/javascript" src="../../scripts/snippet.js"></script>
	<script type="text/javascript" src="../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/search.js" charset="utf-8"></script>

	<title>Sync Adapter: Making sync mechanism implementation easy</title>
</head>

<body onload="prettyPrint()" style="overflow: auto;">

<div id="navigation">
	<div id="profile">
		<p><img alt="Mobile native" src="../../images/mn_icon.png"/></p>
	</div>
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Content</p>
		<ul class="toc">
			<li><a href="#set_callback">Set Callback Functions</a></li>
		</ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
            <li><a href="../../../../org.tizen.guides/html/native/sync/sync_guide_n.htm">Sync Guides</a></li>
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYNC__ADAPTER__MODULE.html">Sync Adapter API</a></li>
		</ul>
	</div></div>
</div>

<div id="container"><div id="contents"><div class="content">
<h1>Sync Adapter: Making sync mechanism implementation easy</h1>
<div class="cont"><div class="static-cont">

	<p>This tutorial demonstrates how you can set callbacks which will perform start or cancel sync operation. The Sync Adapter API provides function which sets callback functions to be called by Sync Manager for starting or canceling sync operation:</p>

  <h2>Warm-up</h2>
    <p>Become familiar with the Sync Adapter API basics by learning about:</p>
	<ul>
	<li><a href="#set_callback">Set Callback Functions</a>
	<p>Set client callback functions for starting or canceling sync operation.</p></li>
	</ul>

<div class="devicespecs-util mt5 clfix">
		<ul class="dutil">
			<li><a href="#" class="showA">Show All</a></li>
			<li class="none"><a href="#" class="hideA">Hide All</a></li>
		</ul>
	</div>
	<!-- Folds -->
	<ul class="devicespecifications">
		<li>
			<div class="devicespec-tit">
				<h2 id="set_callback" name="set_callback" class="items-tit-h2">Set Callback Functions</h2>
				<span class="fr"><a href="#" class="bt-arr"><em>Hide</em></a></span>
			</div>
			<div class="devicespec-con">

			<p> To set callbacks to receive notification for a time to sync operation.

<ol>
<li>To use the features of the <a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYNC__ADAPTER__MODULE.html">Sync Adapter</a> API, include the &lt;sync_adapter.h&gt; header file in your application:
<pre class="prettyprint">
#include &lt;sync_adapter.h&gt;
</pre>
</li>

<li>Initialize Sync Adapter's instance using the sync_adapter_init() function:
<pre class="prettyprint">
int result;
const char* capability = "http://tizen.org/account/capability/calendar";
result = sync_adapter_init(capability);
</pre>
In the case of accountless, as follows:
<pre class="prettyprint">
result = sync_adapter_init(NULL);
</pre>
</li>

<li>Using below API is required for sync operation subscribe to notifications about specific rule for synchronization scheduling, use the sync_adapter_set_callbacks() function to set a callback functions. When specific event is detected, the sync_adapter_start_sync_cb or sync_adapter_cancel_sync_cb is invoked.
The following example subscribes the callback functions to receive notifications when the specific event or condition is detected on device. Then, the callback functions to be invoked by Sync Manager for sync operation:
<pre class="prettyprint">
result = sync_adapter_set_callbacks(on_start_cb, on_cancel_cb);
</pre>
</li>

<li>When the on_start_cb() callback is invoked, sync process predefined is performed inside the callback function. in the case of on_cancel_cb() is same.<pre class="prettyprint">
int on_start_cb(account_h account, bundle *extras, const char *capability)
{
	   //process for starting sync operation.
}

int on_cancel_cb(account_h account, const char *capability)
{
	   //process for canceling sync operation.
}
</pre>
</li>

<li>When sync operation is no longer used, destroy the instance of Sync Adapter:
<pre class="prettyprint">
result = sync_adapter_unset_callbacks();
sync_adapter_destroy();
</pre>
</li>

</li>
</ol>
			</div>
		</li>

	</ul>
</div>
</div>

<script type="text/javascript" src="../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../scripts/showhide.js"></script>

</div></div></div>

<a class="top sms" href="#"><img src="../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>

