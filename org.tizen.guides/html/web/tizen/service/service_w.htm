<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../../css/snippet.css" />
	<script type="text/javascript" src="../../../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/search.js" charset="utf-8"></script>
  <title>Service Application</title> 
 </head> 
 <body onload="prettyPrint()" style="overflow: auto;">
 
 <div id="toc-navigation">
	<div id="profile">
		<p><img alt="Wearable Web" src="../../../images/wearable_s_w_optional.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
	<p class="toc-title">Content</p>
		<ul class="toc">
				<li><a href="#fund">Fundamentals</a></li>
				<li><a href="#life">Life-cycle</a></li>
				<li><a href="#package_mgmt">Package Management</a></li>
				<li><a href="#conf">Configuration Extensions</a></li>
				<li><a href="#feature">Required Feature</a></li>		
		</ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../../org.tizen.tutorials/html/web/tizen/service/service_tutorial_w.htm">Service Application Tutorial</a></li>   
			</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">
  <h1>Service Application</h1> 
  
<p>This feature is supported in wearable applications only. The Web service application is an optional feature, which means that it may not be supported in all wearable devices.</p> 
  
  <p>A service application is a type of Tizen Web application that provides an environment for running JavaScript in the background without a graphical user interface (the application follows the <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm" target="_blank">ECMA-262 specification</a>). The service application is used to perform tasks which need to run periodically or continuously but do not require user interaction. For example, a service application can be used for getting data or listening to platform events in the background. As service applications do not have UI components, they run on top of a more light-weight runtime than UI applications. Therefore, you can expect them to perform better and consume less memory.</p>

<p>Service applications are packaged with a UI application. They can be <a href="../../../../../org.tizen.tutorials/html/web/tizen/service/service_tutorial_w.htm#launch">launched</a> by another application through the <span style="font-family: Courier New,Courier,monospace">launch()</span> and <span style="font-family: Courier New,Courier,monospace">launchAppControl()</span> functions of the <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html">Application</a> API by using an explicit application ID. You can also register them to be launched automatically at boot time.</p>

<p>The device main menu does not contain any icons for service applications, because the applications run in the background. The task switcher does not show them either. Service applications can run simultaneously with other service and UI applications.</p>
    <table class="note">
   <tbody>
    <tr>
     <th class="note">Note</th>
    </tr>
    <tr>
     <td class="note">The wearable service application requires <a href="../../../../../org.tizen.gettingstarted/html/web/details/sec_privileges_w.htm">partner-level certification</a> in Tizen 2.3.</td>
    </tr>
   </tbody>
  </table>


<h2 id="fund" name="fund">Fundamentals</h2>

<p>You can use a selection of the following Tizen wearable Web Device APIs to interact with the platform or other service applications. More Device APIs for service applications are supported in the next release.</p>

<table>
<caption>Table: Fundamental APIs</caption>
<tbody>
<tr>
 <th>API</th>
 <th>Description</th>
</tr>
<tr>
 <td><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/tizen.html">Tizen</a></td>
 <td>The base object for accessing the Tizen wearable Web Device APIs.</td>
</tr>
<tr>
 <td><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/alarm.html">Alarm</a></td>
 <td>This API provides functions for setting and unsetting alarms.</td>
</tr>
<tr>
 <td><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html">Application</a></td>
 <td>This API provides information about the currently running and installed applications and ways to launch other applications.	
<p>Note that the <span style="font-family: Courier New,Courier,monospace">getRequestedAppControl()</span> function is only valid inside the <span style="font-family: Courier New,Courier,monospace">onRequest()</span> callback.</p></td>
</tr>
<tr>
 <td><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html">Package</a></td>
 <td>This API provides functions to install and uninstall Tizen packages and to get information about installed packages.</td>
</tr>
<tr>
 <td><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/filesystem.html">Filesystem</a></td>
 <td>This API provides functions to access the file system of a device and to read, write, copy, move, and delete files.</td>
</tr>
<tr>
 <td><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/messageport.html">Message Port</a></td>
 <td>This API provides functions for an application to communicate with other applications.</td>
</tr>
<tr>
 <td><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/power.html">Power</a></td>
 <td>This API provides interfaces and methods for controlling power resources.
 <p>Note that the <span style="font-family: Courier New,Courier,monospace">isScreenOn()</span>, <span style="font-family: Courier New,Courier,monospace">restoreScreenBrightness()</span>, <span style="font-family: Courier New,Courier,monospace">turnScreenOn()</span>, <span style="font-family: Courier New,Courier,monospace">turnScreenOff()</span>, <span style="font-family: Courier New,Courier,monospace">setScreenBrightness()</span>, and <span style="font-family: Courier New,Courier,monospace">getScreenBrightness()</span> functions are not supported for wearable Web service applications.</p></td>
</tr>
<tr>
 <td><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/systeminfo.html">System Information</a></td>
 <td>This API provides information about the device&#39;s display, network, storage, and other capabilities.</td>
</tr>
</tbody>	
</table>

<h2 id="life" name="life">Life-cycle</h2>
<p>To make sure that you can <a href="../../../../../org.tizen.tutorials/html/web/tizen/service/service_tutorial_w.htm#create">run a service application</a>, export a number of functions using the <a href="http://wiki.commonjs.org/wiki/Modules/1.1" target="_blank">CommonJS Modules</a> API. The functions need to be added to the <span style="font-family: Courier New,Courier,monospace">module.exports</span> object which is provided by the environment. These functions are called when there are life-cycle changes or application control events which are triggered by the application management framework.</p>
 
 <p class="figure">Figure: State transitions</p> 
 <p align="center"><img alt="State transitions" src="../../../images/service_app.png" /></p>

 
<ul>
<li><span style="font-family: Courier New,Courier,monospace">onStart()</span>: The entry point of the service. It is called after the service runtime finishes the set-up.</li>
<li><span style="font-family: Courier New,Courier,monospace">onRequest()</span>: The listener for application control callbacks. It is provided to handle requests from other applications. You can understand the intention of the request and reply to it using the <span style="font-family: Courier New,Courier,monospace">tizen.application.getCurrentApplication().getRequestedAppControl()</span> function. This callback is also called when the application is first launched as an application launch is considered to be a request as well.</li>
<li><span style="font-family: Courier New,Courier,monospace">onExit()</span>: This is called when the <a href="../../../../../org.tizen.tutorials/html/web/tizen/service/service_tutorial_w.htm#terminate">service ends</a>. You can release resources or save the context by using this callback.</li></ul>

<h2 id="package_mgmt" name="package_mgmt">Package Management</h2>
<p>Service applications are <a href="../../../../../org.tizen.tutorials/html/web/tizen/service/service_tutorial_w.htm#package">packaged</a> with at least one UI application in a Web application package file. The Web application package file is installed, updated, and uninstalled as a single <a href="../../../../../org.tizen.gettingstarted/html/web/app_model/application_model_w.htm#package">package</a>, making the life-cycles of the service applications and the UI application synchronous.</p>

<p>When privileges are defined, their scope covers the entire package. Hence privileges do not have to be specified for service applications because they are packaged with at least 1 UI application in a Web application package file.</p>

<h2 id="conf" name="conf">Configuration Extensions</h2>
<p>To ensure that a service application is acknowledged by the platform, the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file of the application must be extended.</p>
<p>Define the <span style="font-family: Courier New,Courier,monospace">&lt;tizen:service&gt;</span> element and check the configuration in the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file.</p>
<p>The following is an example of a service application extension element:</p>
<pre class="prettyprint">
&lt;widget&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:service id=&quot;[App_ID]&quot; auto-restart=&quot;true&quot; on-boot=&quot;true&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tizen:content src=&quot;[Start_JS_File]&quot;/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tizen:name&gt;[App_Name]&lt;/tizen:name&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tizen:icon src=&quot;[App_Icon]&quot;/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tizen:description&gt;[Description]&lt;/tizen:description&gt;
&nbsp;&nbsp;&nbsp;&lt;/tizen:service&gt;
&lt;/widget&gt;
</pre>

<p><span style="font-family: Courier New,Courier,monospace">&lt;tizen:service&gt;</span> is a child element of the <span style="font-family: Courier New,Courier,monospace">&lt;widget&gt;</span> element in the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file. With <span style="font-family: Courier New,Courier,monospace">&lt;tizen:service&gt;</span>, you can set the traits of a service application, such as application ID, auto restart, and boot launching capability. Under <span style="font-family: Courier New,Courier,monospace">&lt;tizen:service&gt;</span>, you can also set the starting script, the name, and the icon for the service application.</p>
<p>The definition of all service elements is listed and explained in the <a href="../../../../../org.tizen.devtools/html/web_tools/config_editor_w.htm#ww_extend">Extending Configuration Elements</a>.</p>

<h2 id="feature" name="feature">Required Feature</h2>
<p>The following feature must be specified in the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file if you want your Web application to be visible only on devices that support the Web Service Application:</p>
<pre class="prettyprint">
&lt;widget&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:feature name=&quot;http://tizen.org/feature/web.service&quot;/&gt;
&lt;/widget&gt;
</pre>

<script type="text/javascript" src="../../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>
