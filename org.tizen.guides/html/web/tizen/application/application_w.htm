<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../../css/snippet.css" />
	<script type="text/javascript" src="../../../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/search.js" charset="utf-8"></script>
  <title>Application</title> 
 </head> 
 <body onload="prettyPrint()" style="overflow: auto;">
 
 <div id="toc-navigation">
	<div id="profile">
        <p><img alt="Mobile Web" src="../../../images/mobile_s_w.png"/> <img alt="Wearable Web" src="../../../images/wearable_s_w.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Content</p>
		<ul class="toc">
			<li><a href="#controls">Application Controls</a></li>
			<li><a href="#launch">Launching an Application with Application Controls</a></li>
			<li><a href="#exporting">Exporting Application Control Functionality</a></li>
		</ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../../org.tizen.tutorials/html/web/tizen/application/application_tutorial_w.htm">Application Tutorial</a></li> 
			<li><a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html">Application API for Mobile Web</a></li>
			<li><a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html">Application API for Wearable Web</a></li>			
			</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">
  <h1>Application</h1> 
 
  <p>The Application API provides you with application management and launch features which enable you to:</p>
  <ul>
   <li>Retrieve information about the applications that are installed or currently running on a device. Information such as application name, icon path, version details, and application ID can be retrieved.</li>
   <li>Receive notifications when applications are updated, removed or installed.</li>
   <li>Perform application management tasks such as launching, closing, or exiting applications.</li>
</ul>

<p>The Application API is mandatory for both Tizen mobile and wearable profiles, which means that it is supported on all mobile and wearable devices. All mandatory APIs are supported on the Tizen Emulators.</p>

  <p>The Tizen Application API provides means to interact with other applications using the <span style="font-family: Courier New,Courier,monospace">ApplicationControl</span> (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#ApplicationControl">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#ApplicationControl">wearable</a> applications) and <span style="font-family: Courier New,Courier,monospace">RequestedApplicationControl</span> (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#RequestedApplicationControl">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#RequestedApplicationControl">wearable</a> applications) interfaces. An application can use an <a href="#controls">application control</a> to request another application to perform a specific operation. The operation can be, for example, making a phone call, browsing local files so that a user can pick an image, or playing a video in a video player. A Web application can also register itself as able to perform such operations. It can then be launched by another application and respond by using the <span style="font-family: Courier New,Courier,monospace">RequestedApplicationControl</span> interface.</p>
  <p>The main application management and launch features are:</p> 
  <ul> 
   <li>Application management <p>You can <a href="../../../../../org.tizen.tutorials/html/web/tizen/application/application_tutorial_w.htm#manage">manage and retrieve information about the current application</a> with the <span style="font-family: Courier New,Courier,monospace">Application</span> object (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#Application">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#Application">wearable</a> applications). The <span style="font-family: Courier New,Courier,monospace">Application</span> object is retrieved using the <span style="font-family: Courier New,Courier,monospace">getCurrentApplication()</span> method of the <span style="font-family: Courier New,Courier,monospace">ApplicationManager</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#ApplicationManager">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#ApplicationManager">wearable</a> applications). You can also exit or hide the current application using the <span style="font-family: Courier New,Courier,monospace">Application</span> interface.</p> </li>
   <li>Application information retrieval <p>You can <a href="../../../../../org.tizen.tutorials/html/web/tizen/application/application_tutorial_w.htm#retrieve">retrieve information about applications</a> in various ways:</p> 
    <ul> 
     <li>The <span style="font-family: Courier New,Courier,monospace">getAppInfo()</span> and <span style="font-family: Courier New,Courier,monospace">getAppsInfo()</span> methods of the <span style="font-family: Courier New,Courier,monospace">ApplicationManager</span> interface can be used to access the <span style="font-family: Courier New,Courier,monospace">ApplicationInformation</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#ApplicationInformation">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#ApplicationInformation">wearable</a> applications) to retrieve information about installed applications, such as name, icon path, and version.</li>
     <li>The <span style="font-family: Courier New,Courier,monospace">getAppContext()</span> and <span style="font-family: Courier New,Courier, monospace">getAppsContext()</span> methods of the <span style="font-family: Courier New,Courier,monospace">ApplicationManager</span> interface can be used to access the <span style="font-family: Courier New,Courier,monospace">ApplicationContext</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#ApplicationContext">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#ApplicationContext">wearable</a> applications) to retrieve the application ID and context ID of the running application. </li>
    </ul></li>
     The application ID can be used to retrieve application information, or to launch an application. The context ID is a unique identifier given by the platform to a running application.
   <li>Application change notifications <p>You can <a href="../../../../../org.tizen.tutorials/html/web/tizen/application/application_tutorial_w.htm#receive">receive notifications</a> when there is a change in the list of installed applications.</p> <p>The <span style="font-family: Courier New,Courier,monospace">setPackageInfoEventListener()</span> method of the <span style="font-family: Courier New,Courier,monospace">PackageManager</span> interface in the Package API module registers an event listener which starts asynchronously. To unset the listener, use the <span style="font-family: Courier New,Courier,monospace">unsetPackageInfoEventListener()</span> method. You can use the <span style="font-family: Courier New,Courier,monospace">PackageInformationEventCallback</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/package.html#PackageInformationEventCallback">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/package.html#PackageInformationEventCallback">wearable</a> applications) to define listener event handlers for receiving the notifications.</p></li>
   <li>Application control <p>You can <a href="../../../../../org.tizen.tutorials/html/web/tizen/application/application_tutorial_w.htm#launch">launch other applications</a> based on their functionality using the <span style="font-family: Courier New,Courier,monospace">launchAppControl()</span> method of the <span style="font-family: Courier New,Courier,monospace">ApplicationManager</span> interface.</p></li> 
   	<li>Handling incoming application control requests
    <p>You can <a href="../../../../../org.tizen.tutorials/html/web/tizen/application/application_tutorial_w.htm#handle">handle an incoming application control request</a> using the <span style="font-family: Courier New,Courier,monospace">getRequestedAppControl()</span> method of the <span style="font-family: Courier New,Courier,monospace">Application</span> interface. The <span style="font-family: Courier New,Courier,monospace">RequestedApplicationControl</span> interface (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#RequestedApplicationControl">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#RequestedApplicationControl">wearable</a> applications) is used to respond to incoming application control requests.</p></li>

  </ul> 

 
  <h2 id="controls" name="controls">Application Controls</h2> 
  <p>Application control is a mechanism for using operations such as calling, Web browsing, and playing media items, which are exported by other applications. It allows you to conveniently launch other applications whose functionalities you need in your application. If you need to use functionality from another application, launching an application control allows you to request the system to launch that application according to your requirements. You can launch applications based on your immediate needs - you do not need to know their identifiers or specifications.</p>

<p>An application control consists of an operation, URI, MIME type, and some data, and it describes the request to be performed by the newly launched application. This information is used to resolve the application control. When the system gets an application control request, it finds the proper application control provider application by resolving the application control, and then launches the provider application. Once the provider application has performed the requested task, it must pass control back to the requesting application and provide the result of the operation.</p>


  <p>The provider application calls the <span style="font-family: Courier New,Courier,monospace">getRequestedAppControl()</span> method of the <span style="font-family: Courier New,Courier,monospace">Application</span> interface to get the reference of the <span style="font-family: Courier New,Courier,monospace">RequestedApplicationControl</span> object. This object contains the application control passed by the <span style="font-family: Courier New,Courier,monospace">launchAppControl()</span> method from the calling application. Then, the provider application calls either the <span style="font-family: Courier New,Courier,monospace">replyResult()</span> method (in case of success) or the <span style="font-family: Courier New,Courier,monospace">replyFailure()</span> method (in case of failure) of the <span style="font-family: Courier New,Courier,monospace">RequestedApplicationControl</span> interface to return control back to the requesting application. The result of the provided operation (if any), is delivered as an array of <span style="font-family: Courier New,Courier,monospace">ApplicationControlData</span> objects (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#ApplicationControlData">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#ApplicationControlData">wearable</a> applications). The result is received by the original calling application through the <span style="font-family: Courier New,Courier,monospace">ApplicationControlDataArrayReplyCallback</span> event handler (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#ApplicationControlDataArrayReplyCallback">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#ApplicationControlDataArrayReplyCallback">wearable</a> applications). </p>
  <p>An application control uses the following primary information:</p>
<ul><li>Application ID 
<p>Used to identify the provider application of the requested application control. From Tizen 2.4 onwards, platform-defined application controls and aliased application IDs which were defined in previous Tizen versions may not be supported. If they are used, the application control behaviour is undefined and cannot be guaranteed.</p></li>

<li>Operation 
<p>Describes an action which is to be performed by the provider application. The operation ID of the platform-provided operation is in the <span style="font-family: Courier New,Courier,monospace">http://tizen.org/appcontrol/operation/&lt;verb&gt;</span> format. For example, <span style="font-family: Courier New,Courier,monospace">http://tizen.org/appcontrol/operation/view</span>. Valid operations can be found <a href="common_appcontrol_w.htm">here</a>.</p>
</li></ul>

<p>For more information on how to export application control functionality from your application to allow other applications to use it, see <a href="#exporting">Exporting Application Control Functionality</a>.</p> 

<h2 id="launch" name="launch">Launching an Application with Application Controls</h2> 

  <p>There are different types of application control requests for <a href="../../../../../org.tizen.tutorials/html/web/tizen/application/application_tutorial_w.htm#launch">launching other applications</a>.</p>
  <ul>
   <li><a href="#explicit">Explicit launch</a> <p>You determine which application must be launched by explicitly specifying an application ID. The application ID determines which application is launched and the application performs the operation as specified in the application control request.</p></li>
   <li><a href="#implicit">Implicit launch</a> <p>You provide information to describe the request to be performed by the newly launched application without specifying the application ID. The system uses the information to resolve the application control. It does this by trying to find a proper application to perform the application control request and then launching the selected application.</p></li>
  </ul> 

<h3 name="explicit" id="explicit">Explicit Launch</h3>
<p>If you specify the exact application ID of the application for the <span style="font-family: Courier New,Courier,monospace">launchAppControl()</span> method of the <span style="font-family: Courier New,Courier,monospace">Application</span> interface, you can request the application control from a specific application. The application ID determines which application is launched and the application performs the operation as specified in the control request.</p>

<table class="note"> 
     <tbody> 
      <tr> 
       <th class="note">Note</th> 
      </tr> 
      <tr> 
       <td class="note">An explicit launch request cannot be completed if the user does not have the specified application on their device. Hence implicit launches can be more effective because the system can find an available application to complete the request. An implicit launch can also enhance the user experience because it can allow the user to select a preferred application to complete the task.</td>
      </tr> 
     </tbody> 
    </table>
<h3 name="implicit" id="implicit">Implicit Launch</h3> 
<p>If you do not explicitly provide an exact application ID with the application control request in the <span style="font-family: Courier New,Courier,monospace">launchAppControl()</span> method, you must provide enough information for the system to determine which of the available applications can best handle the control request. For example, the nature of the service or the file types that the application can handle.</p>

<p>An application control consists of an operation ID, URI, MIME type, some additional data and a launch mode setting. The system compares some of the attributes of the control request against the service descriptions of the installed applications to determine which of the applications are suitable for the request. The request is resolved only if all specified information matches the service descriptions retrieved from the installed applications. The application control <span style="font-family: Courier New,Courier,monospace">data</span> attribute is not used in resolving the control request.</p>

  <p>The following attributes are used to resolve application control requests:</p>
  <ul>
   <li>Operation <p>Mandatory string that defines the action to be performed by the application control. You can define your own operation to describe a specific action of your application.</p></li>
   <li>URI scheme <p>Data on which the action is performed. For example, if you want to use the <span style="font-family: Courier New,Courier,monospace">http://tizen.org/appcontrol/operation/view</span> operation to view a specific image, the URI must be the URI of the image (which can be obtained using the <span style="font-family: Courier New,Courier,monospace">toURI()</span> method after resolving the file path). The same operation can be used to launch a Web page in a browser, except that the URI in that case is the URL of the Website, such as <span style="font-family: Courier New,Courier,monospace">https://www.tizen.org/</span>.</p></li>
   <li>MIME type <p>Specific type of the URI. For example, if you want only want to view JPEG images, you should use the <span style="font-family: Courier New,Courier,monospace">image/jpeg</span> MIME type. The MIME type can be important because it ensures that an application that is capable of supporting a specified MIME type is found.</p></li>
  </ul>
  <p>Valid operations can be found <a href="common_appcontrol_w.htm">here</a>. You can also check which operations allow a URI to be specified and which MIME types an operation supports.</p>
  <p>The following code example shows an <span style="font-family: Courier New,Courier,monospace">ApplicationControl</span> instance (in <a href="../../../../../org.tizen.web.apireference/html/device_api/mobile/tizen/application.html#ApplicationControl">mobile</a> and <a href="../../../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#ApplicationControl">wearable</a> applications) that launches an application to pick images. If there are multiple applications that can fulfill the request, the system shows a pop-up which allows the user to select an application of their choice:</p>
  <pre class="prettyprint">
var appControl = new tizen.ApplicationControl(&quot;http://tizen.org/appcontrol/operation/pick&quot;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null, &quot;image/*&quot;, null, null);

tizen.application.launchAppControl(appControl, null, successCb, errCb, null);
</pre> 

<h3 name="platform" id="platform">Selecting and Launching a Suitable Application</h3>
<p>If you want to select and launch an application that provides a specific operation, you can use the <span style="font-family: Courier New,Courier,monospace">findAppControl()</span> method of <span style="font-family: Courier New,Courier,monospace">Application</span> interface to search for applications which provide the functionalities that you need. The following code example demonstrates an implicit launch of an application to provide the image crop operation that is found using the <span style="font-family: Courier New,Courier,monospace">findAppControl()</span> method:</p>
<pre class="prettyprint">
/* Assuming that the filesystem virtual root &quot;images&quot; has been resolved and saved in variable images */
var appControl = new tizen.ApplicationControl(&quot;http://tizen.org/appcontrol/operation/view&quot;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;images.resolve(&quot;image12.jpg&quot;).toURI(),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;image/*&quot;, null , null);
tizen.application.findAppControl(appControl, function(appInfos, appCtrl) 
{
&nbsp;&nbsp;&nbsp;if (appInfos.length &gt;= 1) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tizen.application.launchAppControl(appCtrl, appInfos[0].id, successCB, errCB, null);
&nbsp;&nbsp;&nbsp;}
}, function(e) {/* Error handling */});</pre>	


  <h3 id="app_group" name="app_group">Application Group</h3>
  <p>
  An application can be launched in a separate instance or in the same group as a calling application.  The way in which an application is launched is determined by the launch mode.
  There are two launch modes, <span style="font-family: Courier New,Courier,monospace">SINGLE</span>
  and <span style="font-family: Courier New,Courier,monospace">GROUP</span>.
  For more information see <a href="./appgroup_w.htm">Application Group</a>
  </p>


	<h2 id="exporting" name="exporting">Exporting Application Control Functionality</h2> 
  
  <p>The system compares the attributes of an application control request against the service descriptions of installed applications to determine which of the available applications are suitable for the request. Installed applications have a service description, which contains information about the requests that they can handle. The request is resolved only if all specified information in the request matches with the service description retrieved from an installed application. The application control <span style="font-family: Courier New,Courier,monospace">data</span> attribute is not used in resolving the control request.</p>
<p>To allow other applications to use the functionalities of your application and launch your application implicitly without an application ID, you can define one or more application control service descriptions in the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file of your application. Each description specifies the operation, URI scheme, and MIME type of the application control service your application can offer.</p>

<p>The following code example shows a service description which allows an application to handle requests to view JPEG images:</p>
<pre class="prettyprint">&lt;tizen:app-control&gt;
&nbsp;&nbsp;&nbsp;&lt;src name=&quot;view.html&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;operation name=&quot;http://tizen.org/appcontrol/operation/view&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;uri name=&quot;file&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;mime name=&quot;image/jpeg&quot;/&gt;
&lt;/tizen:app-control&gt;</pre>

<p>The <span style="font-family: Courier New,Courier,monospace">src</span> field describes the application page (usually a HTML file) that handles the request. The <span style="font-family: Courier New,Courier,monospace">operation</span> field is mandatory, while the <span style="font-family: Courier New,Courier,monospace">uri</span> and <span style="font-family: Courier New,Courier,monospace">mime</span> fields are optional. If the value of the <span style="font-family: Courier New,Courier,monospace">uri</span> field is <span style="font-family: Courier New,Courier,monospace">file</span>, the value can be left out.</p>

<p>The <span style="font-family: Courier New,Courier,monospace">uri</span> field in the service description is used to inform the platform about how to interpret and process the request URI. For example, the <span style="font-family: Courier New,Courier,monospace">http</span> <span style="font-family: Courier New,Courier,monospace">uri</span> scheme informs the platform to interpret and process the URI as a Web resource using HTTP. If the <span style="font-family: Courier New,Courier,monospace">uri</span> field value is set to <span style="font-family: Courier New,Courier,monospace">file</span>, leave the attribute out of the service description. </p>
<p>For example, consider the following example of an <span style="font-family: Courier New,Courier,monospace">ApplicationControl</span> instance:</p>

<pre class="prettyprint">
/* Assuming that the filesystem virtual root &quot;images&quot; has been resolved and saved in variable images */
var appControl = new tizen.ApplicationControl(&quot;http://tizen.org/appcontrol/operation/view&quot;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;images.resolve(&quot;image12.jpg&quot;).toURI(),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null, null , null);</pre>

<p>An application with the following service description does not launch based on the above application control request:</p>
<pre class="prettyprint">
&lt;tizen:app-control&gt;
&nbsp;&nbsp;&nbsp;&lt;operation name=&quot;http://tizen.org/appcontrol/operation/view&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;uri name=&quot;file&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;mime name=&quot;image/*&quot;/&gt;
&lt;/tizen:app-control&gt;</pre>

<p>However, an application with the following service description definitely launches:</p>
<pre class="prettyprint">
&lt;tizen:app-control&gt;
&nbsp;&nbsp;&nbsp;&lt;operation name=&quot;http://tizen.org/appcontrol/operation/view&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;mime name=&quot;image/*&quot;/&gt;
&lt;/tizen:app-control&gt;</pre>

<p>Note that if multiple service descriptions in your application have common parameters (such as the same operation), they must be written out once for each service description and each enclosed in a <span style="font-family: Courier New,Courier,monospace">&lt;tizen:app-control&gt;</span> element. For example, if your application can handle both image and audio file MIME types with the view operation, two <span style="font-family: Courier New,Courier,monospace">&lt;tizen:app-control&gt;</span> elements with different MIME types  and the same <span style="font-family: Courier New,Courier,monospace">http://tizen.org/appcontrol/operation/view</span> operation are required. The service description does not work if the <span style="font-family: Courier New,Courier,monospace">http://tizen.org/appcontrol/operation/view</span> is only written in one of the elements. The following example shows how to define the service descriptions for two MIME types with the same operation in the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file:</p>
<pre class="prettyprint">&lt;tizen:app-control&gt;
&nbsp;&nbsp;&nbsp;&lt;operation name=&quot;http://tizen.org/appcontrol/operation/view&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;mime name=&quot;image/*&quot;/&gt;
&lt;/tizen:app-control&gt;

&lt;tizen:app-control&gt;
&nbsp;&nbsp;&nbsp;&lt;operation name=&quot;http://tizen.org/appcontrol/operation/view&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;mime name=&quot;audio/*&quot;/&gt;
&lt;/tizen:app-control&gt;</pre>

<h3 id="appcontrol_event" name="appcontrol_event">Using the appcontrol Event Instead of Page Reloading</h3>

<p>When a Web application receives an application control request from another application, the receiving application finds the proper page for that request and loads that page. If the found page is already loaded and displayed, the page is reloaded (refreshed) to process the incoming application control request. However, in some cases, a Web application is able to handle the application control request without reloading the page in order to keep the previous context.</p>
<p>From Tizen 2.4 onwards, the Web runtime provides a way to handle application control requests without page reloading by extending the <span style="font-family: Courier New,Courier,monospace">&lt;tizen:app-control&gt;</span> element of the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file and sending a new <span style="font-family: Courier New,Courier,monospace">appcontrol</span> event to the receiving application.</p>
<p>The following code example demonstrates a service description in the <span style="font-family: Courier New,Courier,monospace">config.xml</span> file, which can handle an image editing application control request and does not reload the Web page:</p>
<pre class="prettyprint">
&lt;tizen:app-control&gt;
&nbsp;&nbsp;&nbsp;&lt;src name=&quot;edit.html&quot; reload=&quot;disable&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;operation name=&quot;http://tizen.org/appcontrol/operation/edit&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;mime name=&quot;image/*&quot;/&gt;
&lt;/tizen:app-control&gt;</pre>

<p>The <span style="font-family: Courier New,Courier,monospace">reload</span> attribute is added to the <span style="font-family: Courier New,Courier,monospace">src</span> element (in <a href="../../../../../org.tizen.devtools/html/web_tools/config_editor_w.htm#mw_appcontrol">mobile</a> and <a href="../../../../../org.tizen.devtools/html/web_tools/config_editor_w.htm#appcontrol">wearable</a> applications), and used to set whether the page must be reloaded when an application control request is received. The <span style="font-family: Courier New,Courier,monospace">reload</span> attribute is optional and the default value is <span style="font-family: Courier New,Courier,monospace">enable</span>. If the <span style="font-family: Courier New,Courier,monospace">reload</span> attribute is not set in the <span style="font-family: Courier New,Courier,monospace">src</span> element, the default value is set to <span style="font-family: Courier New,Courier,monospace">enable</span> and the page reloads.</p>
<p>If the currently loaded page is selected by an incoming application control request, and the <span style="font-family: Courier New,Courier,monospace">reload</span> attribute of the service description is set to <span style="font-family: Courier New,Courier,monospace">disable</span>, an <span style="font-family: Courier New,Courier,monospace">appcontrol</span> event is dispatched to that page instead of reloading it. By using an <span style="font-family: Courier New,Courier,monospace">appcontrol</span> event listener, the Web application can get the requested information by calling the <span style="font-family: Courier New,Courier,monospace">getRequestedAppControl()</span> method of the <span style="font-family: Courier New,Courier,monospace">Application</span> interface. An <span style="font-family: Courier New,Courier,monospace">appcontrol</span> event is only dispatched, if the <span style="font-family: Courier New,Courier,monospace">reload</span> attribute of the service description is set to <span style="font-family: Courier New,Courier,monospace">disable</span>.</p>
<p>The following example demonstrates adding an <span style="font-family: Courier New,Courier,monospace">appcontrol</span> event listener and handling an event:</p>
<pre class="prettyprint">
window.addEventListener(&quot;appcontrol&quot;, function onAppControl()
{
&nbsp;&nbsp;&nbsp;var reqAppControl = tizen.application.getCurrentApplication.getRequestedAppControl();
&nbsp;&nbsp;&nbsp;if (reqAppControl)
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Handle the application control request
&nbsp;&nbsp;&nbsp;}
});</pre>

<h2 id="broadcast_event" name="broadcast_event">Broadcasting and listening to the events</h2>

<p>Since Tizen 2.4 Web applications can broadcast own events. Events can be broadcasted to all listeners which are listening for these events.</p>
<p>Web applications can also broadcast trusted events only for trusted listeners with the same certificate as the sender's application.</p>
<p>The following code example demonstrates how to broadcast an event:</p>
<pre class="prettyprint">
var app = tizen.application.getCurrentApplication();
var appEvent = {name: "custom_user_event"};
var data = {foo: "bar"};

app.broadcastEvent(appEvent, data);

// for trusted events
app.broadcastTrustedEvent(appEvent, data);
</pre>

<p>If you want to receive event data from other application addEventListener() with sender's application ID and event name should be invoked.</p>
<pre class="prettyprint">
var watchId = app.addEventListener({appId: "a234567890.TestWidget", name: "custom_user_event"}, function(event, data) {
&nbsp;&nbsp;&nbsp;console.log("Data: " + JSON.stringify(data));
&nbsp;&nbsp;&nbsp;// do something
});
</pre>

<p>If you want to stop receiving event data from other application removeEventListener() with proper watchId should be invoked.</p>
<pre class="prettyprint">
app.removeEventListener(watchId);
</pre>

<h2 id="background_category" name="background_category">Allowing Applications to Run in the Background</h2>

<p>When a web application becomes invisible (moves to the background), the web application is suspended. To continue to execute a web application in the background, the
<span style="font-family: Courier New,Courier,monospace">background-support</span> element of the <span style="font-family: Courier New,Courier,monospace">&lt;tizen:setting&gt; </span>tag must be explicitly set to <span style="font-family: Courier New,Courier,monospace">enable</span>.</P>

<p>However since Tizen 2.4, the background process management policy has been changed. The system does not allow applications to run in the background except for when they are explicitly declared to do so. Background categories allow an application to run in the background. For more information on background categories, see</p>
<a href="../../../native/app/application_n.htm#allow_bg">Allowed background application policy</a>

<table class="note">
     <tbody>
      <tr>
       <th class="note">Note</th>
      </tr>
      <tr>
       <td class="note">To guarantee a web application will run in the background,  at least one <span style="font-family: Courier New,Courier,monospace">background-category</span> must be declared and the <span style="font-family: Courier New,Courier,monospace">background-support</span> element of the <span style="font-family: Courier New,Courier,monospace">&lt;tizen:setting&gt; </span>tag must be set  to <span style="font-family: Courier New,Courier,monospace">enable</span>  in the config.xml file.</td>
      </tr>
     </tbody>
    </table>

<p>The following config.xml exmaple shows how an application can be configured to run in the background:</p>
<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;widget xmlns=&quot;http://www.w3.org/ns/widgets&quot; xmlns:tizen=&quot;http://tizen.org/ns/widgets&quot; id=&quot;http://yourdomain/BackgroundCategory&quot; version=&quot;1.0.0&quot; viewmodes=&quot;maximized&quot;&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:application id=&quot;background.category&quot; package=&quot;background&quot; required_version=&quot;2.4&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;content src=&quot;index.html&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;icon src=&quot;icon.png&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;name&gt;BackgroundCategoryTest&lt;/name&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:background-category value=&quot;media&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:background-category value=&quot;download&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:background-category value=&quot;background-network&quot;/&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:setting background-support=&quot;enable&quot;/&gt;
&lt;/widget&gt;
</pre>

<script type="text/javascript" src="../../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>
