<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../../css/snippet.css" />
	<script type="text/javascript" src="../../../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/search.js" charset="utf-8"></script>
  <title>JavaScript and CSS Minification</title> 
 </head> 
 <body onload="prettyPrint()" style="overflow: auto;">
 
 <div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile Web" src="../../../images/mobile_s_w.png"/> <img alt="Wearable Web" src="../../../images/wearable_s_w.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
	<p class="toc-title">Content</p>
		<ul class="toc">
			<li><a href="#grunt">Installing and Using Grunt</a></li>
			<li><a href="#improvement">Improvement through Grunt</a></li>
		</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">
 <h1>JavaScript and CSS Minification</h1>
<p>File minification improves application performance as unnecessary data is being removed. For example, page loading time can be decreased by reducing the number of JavaScript and CSS files.</p>
<p>Minifying tools, such as <a href="https://developers.google.com/closure/compiler/" target="_blank">Closure Compiler</a> and <a href="http://gruntjs.com/" target="_blank">Grunt</a>, include features that can combine and reduce JavaScript file. The following table shows Closure Compiler and Grunt features in comparison.</p>
<table>
	<caption>Table: Comparison of minifying tools</caption>
	<tbody>
		<tr>
			<th>Item</th>
			<th>Closure Compiler</th>
			<th>Grunt</th>
		</tr>
		<tr>
			<td>Summary</td>
			<td>
					<p>JavaScript-optimized compiler created by Google</p></td>
			<td>
					<p>Task-based automatic JavaScript build tool</p>
</td>

		</tr>
<tr>
	<td>Features</td>
			<td><ul>
					<li>File compilation, minimizing size</li>
					<li>Can be integrated with Ant Builder for automatic features</li>
</ul></td>
			<td><ul>
					<li>File compilation plug-in</li>
					<li>Minimizing JavaScript and CSS</li>
					<li>Various plug-ins (JavaScript, CSS compilation, and compression)</li>
					<li>Application performance improvement based on the decrease of request count, transferred data, and transfer time</li>
</ul></td>
		</tr>
<tr>
			<td>Usage</td>
			<td><ul>
				<li>Java applications<p>Provided as a <span style="font-family: Courier New,Courier,monospace">.jar</span> file, used as a command line.</p></li>
				<li><a href="http://closure-compiler.appspot.com/home" target="_blank">Web application</a></li>
				<li>RESTful API</li>
</ul></td>
			<td><ul>
				<li><span style="font-family: Courier New,Courier,monospace">Node.js</span> installation</li>
				<li><span style="font-family: Courier New,Courier,monospace">grunt-cli</span> installation</li>
				<li><span style="font-family: Courier New,Courier,monospace">package.json</span> must be inserted to the project root</li>
				<li>Task definition in the <span style="font-family: Courier New,Courier,monospace">gruntfile.js</span> file</li>
</ul></td>
		</tr>
	</tbody>
</table>
<p>Grunt has advantages in terms of expandability by providing various plug-ins. For more information about Grunt, see:</p>
<ul>
	<li><a href="#grunt">Installing and using Grunt</a></li>
	<li><a href="#improvement">Improvement through Grunt</a></li>
</ul>
 <h2 id="grunt" name="grunt">Installing and Using Grunt</h2>
 <p>The Grunt tool provides application performance improvement based on the decrease of request count, transferred data, and transfer time.</p>
 
  <h3 id="prerequisites" name="prerequisites">Prerequisites</h3>
 <p>The commands used for installing and using Grunt work in the same manner, without any changes, across most of the major operating systems. To run the commands, you may need to use sudo (for Linux and BSD), or run your command shell as Administrator (for Windows&reg;).</p>
 <h3 id="install" name="install">Installing Grunt</h3>
 <ol>
	<li>Install the <a href="http://www.nodejs.org/" target="_blank">Node.js</a> platform. The platform includes the Node.js package manager, npm, which is used to install Grunt CLI (command line interface).</li>
	<li>Install Grunt CLI: 
	<pre class="prettyprint">npm install -g grunt-cli /* -g: global type */</pre></li>
 </ol>
 <h3 id="use" name="use">Using Grunt</h3>
 <ol>
	<li>Change to the root directory of the project:
	<pre class="prettyprint">cd &lt;Project root&gt;</pre></li>
	<li>Install Grunt and create the <span style="font-family: Courier New,Courier,monospace">Gruntfile.js</span> file:
	<pre class="prettyprint">npm install grunt --save-dev</pre></li>
	<li>Create the <span style="font-family: Courier New,Courier,monospace">package.json</span> file: <p>When executing the following command, interactive prompt that receives information on the project is executed. Through the information entered, the <span style="font-family: Courier New,Courier,monospace">package.json</span> file is created.</p>
	<pre class="prettyprint">npm init</pre></li>
	<li>Install Grunt plug-in:
	<pre class="prettyprint">/* Install grunt concat */
npm install grunt-contrib-concat --save-dev

/* Install grunt contrib uglify */
npm install grunt-contrib-uglify --save-dev

/* Install grunt contrib cssmin */
npm install grunt-contrib-cssmin --save-dev
</pre></li>
	<li>Run the Grunt plug-in:
	<pre class="prettyprint">grunt</pre>
	<p>Using the <span style="font-family: Courier New,Courier,monospace">Gruntfile.js</span> file, tasks, such as <span style="font-family: Courier New,Courier,monospace">concat</span>, <span style="font-family: Courier New,Courier,monospace">uglify</span>, and <span style="font-family: Courier New,Courier,monospace">cssmin</span>, are registered.</p></li>
 </ol>
  <h2 id="improvement" name="improvement">Improvement through Grunt</h2>
 <p>After running the Grunt plug-in, the below comparison result is shown through Chrome inspector. The expected results vary depending on the application, but since the improvement effects are certain, it is recommended to use Grunt.</p>
 <table class="note"> 
     <tbody> 
      <tr> 
       <th class="note">Note</th> 
      </tr> 
      <tr> 
       <td class="note">For the sake of comparing improvement, in the following examples, 2 Web applications have been arbitrarily chosen and named App#1 and App#2.</td> 
      </tr> 
     </tbody>
</table>
<table border="1">
	<caption>Table: Result for App #01</caption>
	<tbody>
		<tr>
			<th colspan="2" rowspan="2">Item</th>
			<th colspan="2">Request (count)</th>
			<th colspan="2">Transferred data (mb)</th>
			<th colspan="2">Onload time (s)</th>
		</tr>
		<tr>
			<th>Result</th>
			<th>Improvement</th>
			<th>Result</th>
			<th>Improvement</th>
			<th>Result</th>
			<th>Improvement</th>
		</tr>
		<tr>
			<td colspan="2" align="center">Original</td>
			<td>254</td>
			<td>-</td>
			<td>6.66</td>
			<td>-</td>
			<td>3.28</td>
			<td>-</td>
		</tr>
		<tr>
			<td rowspan="3" align="center">Minification applied (accumulated result)</td>
			<td><span style="font-family: Courier New,Courier,monospace">#01_grunt_concat</span></td>
			<td><strong>68</strong></td>
			<td><strong>-186</strong></td>
			<td>6.62</td>
			<td>-0.04</td>
			<td><strong>2.43</strong></td>
			<td><strong>-0.85</strong></td>
		</tr>
		<tr>
			<td><span style="font-family: Courier New,Courier,monospace">#02_grunt_uglify</span></td>
			<td>68</td>
			<td>-</td>
			<td><strong>1.90</strong></td>
			<td><strong>-4.72</strong></td>
			<td><strong>1.59</strong></td>
			<td><strong>-0.85</strong></td>
		</tr>
		<tr>
			<td><span style="font-family: Courier New,Courier,monospace">#03_grunt_cssmin</span></td>
			<td>68</td>
			<td>-</td>
			<td><strong>1.87</strong></td>
			<td><strong>-0.03</strong></td>
			<td><strong>1.61</strong></td>
			<td><strong>0.02</strong></td>
		</tr>
		<tr>
			<td colspan="2" align="center">Total improvement</td>
			<td colspan="2" align="center">73.23% improvement</td>
			<td colspan="2" align="center">71.92% improvement</td>
			<td colspan="2" align="center">51.07% improvement</td>
		</tr>
	</tbody>
</table>
<table border="1">
	<caption>Table: Result for App #02</caption>
	<tbody>
		<tr>
			<th colspan="2" rowspan="2">Item</th>
			<th colspan="2">Request (count)</th>
			<th colspan="2">Transferred data (mb)</th>
			<th colspan="2">Onload time (s)</th>
		</tr>
		<tr>
			<th>Result</th>
			<th>Improvement</th>
			<th>Result</th>
			<th>Improvement</th>
			<th>Result</th>
			<th>Improvement</th>
		</tr>
		<tr>
			<td colspan="2" align="center">Original</td>
			<td>235</td>
			<td>-</td>
			<td>7.89</td>
			<td>-</td>
			<td>5.80</td>
			<td>-</td>
		</tr>
		<tr>
			<td rowspan="3" align="center">Minification applied (accumulated result)</td>
			<td><span style="font-family: Courier New,Courier,monospace">#01_grunt_concat</span></td>
			<td><strong>106</strong></td>
			<td><strong>-129</strong></td>
			<td>7.87</td>
			<td>-0.02</td>
			<td><strong>5.15</strong></td>
			<td><strong>-0.65</strong></td>
		</tr>
		<tr>
			<td><span style="font-family: Courier New,Courier,monospace">#02_grunt_uglify</span></td>
			<td>106</td>
			<td>-</td>
			<td><strong>5.85 </strong></td>
			<td><strong>-2.02</strong></td>
			<td><strong>4.95</strong></td>
			<td><strong>-0.19</strong></td>
		</tr>
		<tr>
			<td><span style="font-family: Courier New,Courier,monospace">#03_grunt_cssmin</span></td>
			<td>106</td>
			<td>-</td>
			<td><strong>5.84</strong></td>
			<td><strong>-0.01</strong></td>
			<td><strong>4.89</strong></td>
			<td><strong>-0.06</strong></td>
		</tr>
		<tr>
			<td colspan="2" align="center">Total improvement</td>
			<td colspan="2" align="center">54.89% improvement</td>
			<td colspan="2" align="center">25.98% improvement</td>
			<td colspan="2" align="center">15.63% improvement</td>
		</tr>
	</tbody>
</table>
<script type="text/javascript" src="../../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>