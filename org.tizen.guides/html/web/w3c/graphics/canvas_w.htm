<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../../css/snippet.css" />
	<script type="text/javascript" src="../../../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/search.js" charset="utf-8"></script>
  <title>HTML5 Canvas</title> 
 </head> 
 <body onload="prettyPrint()" style="overflow: auto;">
 
 <div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile Web" src="../../../images/mw_icon.png"/> <img alt="Wearable Web" src="../../../images/ww_icon.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">

		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../../org.tizen.tutorials/html/web/w3c/graphics/canvas_tutorial_w.htm">HTML5 Canvas Tutorial</a></li> 
			<li><a href="../../../../../org.tizen.web.apireference/html/w3c_api/w3c_api_m.html#canvas">HTML5 canvas element API for Mobile Web</a></li>
			<li><a href="../../../../../org.tizen.web.apireference/html/w3c_api/w3c_api_w.html#canvas">HTML5 canvas element API for Wearable Web</a></li>
			</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">
   <h1>HTML5 Canvas</h1>
 
<p>The HTML5 canvas allows you to use graphics on the screen, and draw and manage various shapes. The HTML Canvas 2D Context API (in <a href="../../../../../org.tizen.web.apireference/html/w3c_api/w3c_api_m.html#canvas2d">mobile</a> or <a href="../../../../../org.tizen.web.apireference/html/w3c_api/w3c_api_w.html#canvas2d">wearable</a> applications) defines a special canvas element that expresses images or shapes with JavaScript. To use the canvas, you must <a href="../../../../../org.tizen.tutorials/html/web/w3c/graphics/canvas_tutorial_w.htm#canvas">insert a &lt;canvas&gt; element</a> in the HTML page.</p> 
 
<p>In the mobile applications only, in HTML5, the HTML5 SVG API (in <a href="../../../../../org.tizen.web.apireference/html/w3c_api/w3c_api_m.html#svg">mobile</a> or <a href="../../../../../org.tizen.web.apireference/html/w3c_api/w3c_api_w.html#svg">wearable</a> applications) provides similar features as the canvas. Their difference is that SVG expresses graphics using vectors, while the canvas is based on pixels. To express complex graphics, use the canvas, and to express graphics with a liberal expansion or reduction, use <a href="svg_w.htm">SVG</a>.  
</p>
<table class="note"> 
     <tbody> 
      <tr> 
       <th class="note">Note</th> 
      </tr> 
      <tr> 
       <td class="note">The canvas currently supports 2D graphics only, since the 3D graphics specification is still in progress. The <a href="https://www.khronos.org/registry/webgl/specs/1.0/" target="_blank">WebGL</a> API is currently called 3D Canvas, and is used to express 3D graphics. For more information on the performance differences between Canvas 2D and WebGL in mobile applications, see <a href="#comparison">Performance Comparison of Canvas 2D and WebGL</a>.</td> 
      </tr> 
     </tbody> 
</table>

<p>The main features of the Canvas Element API include:</p>
<ul>
<li>Using images
<p>To <a href="../../../../../org.tizen.tutorials/html/web/w3c/graphics/canvas_tutorial_w.htm#image">use images in the canvas</a>, use the <span style="font-family: Courier New,Courier,monospace">drawImage()</span> method of the HTML Canvas 2D Context API. The method receives information, such as the image URL and position, and where it is
indicated, and then creates the image in the canvas. The created image is pixel-based.</p>
<table class="note"> 
     <tbody> 
      <tr> 
       <th class="note">Note</th> 
      </tr> 
      <tr> 
       <td class="note">To edit the created image, you must comply with the same-origin policy.</td> 
      </tr> 
     </tbody> 
</table>
</li>
<li>Drawing shapes
<p>With the HTML Canvas 2D Context API, you can <a href="../../../../../org.tizen.tutorials/html/web/w3c/graphics/canvas_tutorial_w.htm#shape">draw various shapes</a>, such as rectangles (<span style="font-family: Courier New,Courier,monospace">rect()</span>), circles (<span style="font-family: Courier New,Courier,monospace">arc()</span> and <span style="font-family: Courier New,Courier,monospace">arcTo()</span>), and lines (<span style="font-family: Courier New,Courier,monospace">lineTo()</span> and <span style="font-family: Courier New,Courier,monospace">bezierCurveTo()</span>) to a canvas. You can define the position and size of the shapes, and also merge shapes with other shape objects.</p>
<p>You can also <a href="../../../../../org.tizen.tutorials/html/web/w3c/graphics/canvas_tutorial_w.htm#mask">draw and mask objects</a> on the canvas.</p>
</li>
<li>Using styles and transformations
<p>You can use a canvas to <a href="../../../../../org.tizen.tutorials/html/web/w3c/graphics/canvas_tutorial_w.htm#text">create text or lines</a> other than images and shapes. For all canvas objects (images, shapes, text, and lines), you can define colors (the <span style="font-family: Courier New,Courier,monospace">fillStyle</span> and <span style="font-family: Courier New,Courier,monospace">strokeStyle</span> attributes), shadows (the <span style="font-family: Courier New,Courier,monospace">shadowColor</span> and <span style="font-family: Courier New,Courier,monospace">shadowBlur</span> attributes), and gradation (the <span style="font-family: Courier New,Courier,monospace">createLinearGradient()</span> method). You can also use the transformation methods, such as <span style="font-family: Courier New,Courier,monospace">scale()</span>, <span style="font-family: Courier New,Courier,monospace">translate()</span>, <span style="font-family: Courier New,Courier,monospace">transform()</span>, and <span style="font-family: Courier New,Courier,monospace">rotate()</span>, to implement, for example, transparency or shape gradient transformations.</p>
</li>
</ul>
 <h2 id="comparison" name="comparison">Performance Comparison of Canvas 2D and WebGL in Mobile Applications</h2>

<p>In Web documents prior to HTML5, only simple image loading was supported. To create graphic animations, you had to use a separate plug-in. However, as the graphic-related APIs have become more standardized, you can now express graphics by using only JavaScript, without a separate plug-in.</p>  

<p>When developing Web applications that need to express complex graphics, such as games, the most important issue to consider is graphic performance. Currently, the HTML Canvas 2D Context API and <a href="https://www.khronos.org/registry/webgl/specs/1.0/" target="_blank">WebGL</a> are used to express graphic elements in many games. The following example illustrates how to create an effective graphic animation by comparing the performance of the renderers in the Canvas 2D Context API and WebGL.</p> 
 
<p>To compare the performance, 2 simple Web applications must be created, using respectively the Canvas 2D Context API and WebGL:</p>

<ol>
<li>Create the applications with the following logic:
<ol type="a"><li>Load an image.</li> 
<li>Render the loaded image in the random location of the canvas.</li>  
<li>Use the	<span style="font-family: Courier New,Courier,monospace">requestAnimationFrame()</span> method of the Timing control for script-based animations API (in <a href="../../../../../org.tizen.web.apireference/html/w3c_api/w3c_api_m.html#timing">mobile</a> or <a href="../../../../../org.tizen.web.apireference/html/w3c_api/w3c_api_w.html#timing">wearable</a> applications) to change the color of the loaded image, based on different times.</li>  
<li>Create a logic that measures FPS (frames per second) in order to check the performance.</li></ol></li>  
<li>Execute the applications and measure the FPS.</li>  
<li>Increase only the number of objects so that the same 1~N images, under the same conditions, are shown repeatedly based on 1~N.</li>  
<li>Measure the FPS as the number of repeatedly shown objects increase.</li> </ol> 

<p>The following figure shows the result of the test: As the number of objects increase, the performance of the Canvas 2D Context API rapidly decreases when compared to WebGL (the result is subject to change according to the complexity of the application logic). As such, when expressing many graphic objects all differently, it is much more efficient to use WebGL than the Canvas 2D Context API.</p>

  <p class="figure">Figure: Test result</p> 
  <p align="center"><img alt="Test result" src="../../../images/comp_test_result.png" /></p>
 
<p>There is one problem with using WebGL; the ratio of mobile browsers supporting it is quite low compared to the Canvas 2D Context API, and even when it is supported, usually only partial features are included (support for 3D acceleration, reflection effect, and camera effect is particularly low). The following figure shows the support status of WebGL in computer (top) and mobile (bottom) browsers, as published in <a href="http://webglstats.com/" target="_blank">http://webglstats.com/</a> in June 2013.</p> 

  <p class="figure">Figure: WebGL support in computer and mobile browsers</p> 
  <p align="center"><img alt="WebGL support in computer and mobile browsers" src="../../../images/comp_test_support.png" /></p>

<p>Many mobile browsers do not support WebGL or only partially support WebGL. Even though Tizen supports WebGL, it is recommended to use the Canvas 2D Context API for small amount of 2D drawings, since the API is supported in most mobile browsers. However, for performance critical applications, use WebGL for faster 2D performance.</p>  

 
<script type="text/javascript" src="../../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>