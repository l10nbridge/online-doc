<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../css/snippet.css" />
	<script type="text/javascript" src="../../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/search.js" charset="utf-8"></script>
  <title>Application Icons</title> 
 </head> 
 <body onload="prettyPrint()" style="overflow: auto;">
 
 <div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile native" src="../../images/mobile_s_n.png"/> <img alt="Wearable native" src="../../images/wearable_s_n.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Dependencies</p>
		<ul class="toc">
			<li>Tizen Platform 2.4 and Higher for Mobile</li>
			<li>Tizen Platform 2.3.1 and Higher for Wearable</li>
		</ul>
		<p class="toc-title">Content</p>
		<ul class="toc">
			<li><a href="#badge">Badges</a></li>
			<li><a href="#shortcut">Shortcuts</a></li>
			<li><a href="#prerequisites">Prerequisites</a></li>
			<li><a href="#create">Creating and Removing a Badge</a></li>
			<li><a href="#manage">Managing the Badge</a></li>
			<li><a href="#add">Adding a Shortcut</a></li>
			<li><a href="#add_widget">Adding a Widget</a></li>
		</ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__BADGE__MODULE.html">Badge API for Mobile Native</a></li>
			<li><a href="../../../../org.tizen.native.wearable.apireference/group__BADGE__MODULE.html">Badge API for Wearable Native</a></li>
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__SHORTCUT__MODULE.html">Shortcut API for Mobile Native</a></li>
			<li><a href="https://developer.tizen.org/development/sample/native/AppFW/Badges" target="_blank">Badges Sample Description</a></li>
		</ul>
	</div></div>
</div>

<div id="container"><div id="contents"><div class="content">

<h1>Application Icons</h1>

<p>You can show the mobile application icon as a shortcut on the home screen to allow the user to easily access it. In the device application list, you can show a badge with the application icon to provide additional information about the application state or notifications to the user.</p>

<h2 id="badge">Badges</h2>

<p>You can use badges in your application to inform the user about notifications and events. A badge is an image displayed on the application icon.</p>

<p>To <a href="#create">create a badge</a>, use the <span style="font-family: Courier New,Courier,monospace">badge_add()</span> function. The application that creates the badge can also update and remove it. When applications are signed with the same certificate, they can control each other&#39;s badges.</p>
<p>If an application not signed with the same certificate must be allowed <a href="#manage">manage a badge</a>, use the <span style="font-family: Courier New,Courier,monospace">badge_add()</span> function with a writable application ID. The writable application ID enables another application to control your application to manage the badge. You can also configure your application to handle the badge itself.</p>

   <p class="figure">Figure: Badge</p> 
   <p align="center"><img alt="Badge" src="../../images/badge.png" /></p> 
   
<p>Before you start, remember to <a href="#prerequisites">prepare your application to use the badge functionality</a>.</p>

<h2 id="shortcut">Shortcuts in Mobile Applications</h2>

<p>You can add your shortcut for the Home application.</p>

<p>To <a href="#add">add a shortcut</a>, use the <span style="font-family: Courier New,Courier,monospace">shortcut_add_to_home()</span> function, which requests the Home application to add a new shortcut. You can also <a href="#add_widget">add a widget</a>.</p>
<p>Before you start, remember to <a href="#prerequisites">prepare your application to use the shortcut functionality</a>.</p>
<p class="figure">Figure: Shortcuts</p> 
<p align="center"><img alt="Shortcuts" src="../../images/shortcut.png" /></p>
<p>There are 2 types of shortcuts:</p>
<ul>
<li><span style="font-family: Courier New,Courier,monospace">LAUNCH_BY_APP</span>: Creates a shortcut to launch an application by a given application ID. </li>
<li><span style="font-family: Courier New,Courier,monospace">LAUNCH_BY_URI</span>: Creates a shortcut to launch an application by a given URI. The URI is passed to the <span style="font-family: Courier New,Courier,monospace">app_control_set_uri()</span> function. For example, if you want to create a shortcut to open an image file, set the URI as <span style="font-family: Courier New,Courier,monospace">file:///home/myhome/Photos/1_photo.jpg</span>.</li>
</ul>

<h2>Warm-up</h2>

<p>Become familiar with the Badge and Shortcut API basics by learning about:</p>
<ul>
	<li><a href="#prerequisites">Prerequisites</a>
	<p>Prepare your application to use the application icon functionality.</p></li>
	<li><a href="#create">Creating and Removing a Badge</a>
	<p>Create a badge for an application and remove it.</p></li>
	<li><a href="#manage">Managing the Badge</a>
	<p>Get and set the count and display attributes for the badge.</p></li>
	<li><a href="#add">Adding a Shortcut</a>
	<p>Add a shortcut to the home screen.</p></li>
	<li><a href="#add_widget">Adding a Widget</a>
	<p>Add a widget to the home screen.</p></li> 
</ul>  

<h2 id="prerequisites">Prerequisites</h2>

<p>To enable your application to use the application icon functionality:</p>
<ol>
<li>
<p>To use the Badge API (in <a href="../../../../org.tizen.native.mobile.apireference/group__BADGE__MODULE.html">mobile</a> and <a href="../../../../org.tizen.native.wearable.apireference/group__BADGE__MODULE.html">wearable</a> applications), the application has to request permission by adding the following privilege to the <span style="font-family: Courier New,Courier,monospace;">tizen-manifest.xml</span> file:</p>
<pre class="prettyprint">
&lt;privileges&gt;
&nbsp;&nbsp;&nbsp;&lt;privilege&gt;http://tizen.org/privilege/notification&lt;/privilege&gt;
&lt;/privileges&gt;
</pre>
</li>
<li><p>To use the functions and data types of the Badge API, include the <span style="font-family: Courier New,Courier,monospace">&lt;badge.h&gt;</span> header file in your application:</p>
<pre class="prettyprint">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;unistd.h&gt;
#include &lt;badge.h&gt;
</pre>
<p>To ensure that a Badge function has been executed properly, make sure that the return is equal to <span style="font-family: Courier New,Courier,monospace">BADGE_ERROR_NONE</span>.</p>
</li>

<li>Declare the variables for the return value and application (package name):

<pre class="prettyprint">
static int ret = 0;

#define TEST_PKG &quot;org.tizen.badgeapp&quot;
</pre>
</li>
<li>To use the <a href="../../../../org.tizen.native.mobile.apireference/group__SHORTCUT__MODULE.html">Shortcut</a> API, the application has to request permission by adding the following privilege to the <span style="font-family: Courier New,Courier,monospace">tizen-manifest.xml</span> file:
<pre class="prettyprint">
&lt;privileges&gt;
&nbsp;&nbsp;&nbsp;&lt;privilege&gt;http://tizen.org/privilege/shortcut&lt;/privilege&gt;
&lt;/privileges&gt;
</pre>
</li>
<li>To use the functions and data types of the Shortcut API, include the <span style="font-family: Courier New,Courier,monospace">&lt;shortcut_manager.h&gt;</span> header file in your application:
<pre class="prettyprint">
#include &lt;shortcut_manager.h&gt;
</pre>
</li>
</ol>

 <h2 id="create" name="create">Creating and Removing a Badge</h2>
 
<p>To create and remove badges:</p> 
 
<ul><li>
<p>To create a badge for an application, call the <span style="font-family: Courier New,Courier,monospace">badge_add()</span> function.</p>
<p>The parameter defines the application for which the badge is added. If the application is adding a badge for itself, the parameter can be null.</p>
<pre class="prettyprint">
ret = badge_add(TEST_PKG);
if (ret != BADGE_ERROR_NONE)
&nbsp;&nbsp;&nbsp;&nbsp;/* Error handling */
</pre></li>

<li>
<p>To remove the badge from the application, call the <span style="font-family: Courier New,Courier,monospace">badge_remove()</span> function. The only parameter is the ID of the application whose badge to remove.</p>

<pre class="prettyprint">
ret = badge_remove(TEST_PKG);
if (ret != BADGE_ERROR_NONE)
&nbsp;&nbsp;&nbsp;&nbsp;/* Error handling */
</pre></li></ul>

 <h2 id="manage" name="manage">Managing the Badge</h2>

<p>To manage the badge:</p>

<ul>
<li>Get the count attribute with the <span style="font-family: Courier New,Courier,monospace">badge_get_count()</span> function. The count attribute is displayed in the right corner of the badge and its value must be an integer.
<p>The parameters are the name of the application whose badge count is retrieved, and the current badge count.</p>
<pre class="prettyprint">
unsigned int count = 0;
ret = badge_get_count(TEST_PKG, &amp;count);
if (ret != BADGE_ERROR_NONE)
&nbsp;&nbsp;&nbsp;&nbsp;/* Error handling */
</pre>
</li>

<li>Set the count attribute with the <span style="font-family: Courier New,Courier,monospace">badge_set_count()</span> function.
<p>The parameters are the name of the application whose badge count is updated, and the new badge count.</p>
<pre class="prettyprint">
ret = badge_set_count(TEST_PKG, count+1);
if (ret != BADGE_ERROR_NONE)
&nbsp;&nbsp;&nbsp;&nbsp;/* Error handling */
</pre>
</li>
<li>Get the display attribute and check whether the badge is visible with the <span style="font-family: Courier New,Courier,monospace">badge_get_display()</span> function. 
<p>The parameters are the application which owns the badge, and the value of the display attribute (1 = badge is visible, 0 = badge is hidden).</p>
<pre class="prettyprint">
unsigned int is_displayed = false;
ret = badge_get_display(TEST_PKG, &amp;is_displayed);
if (ret != BADGE_ERROR_NONE)
&nbsp;&nbsp;&nbsp;&nbsp;/* Error handling */
</pre>
</li>
<li>Set the display attribute with the <span style="font-family: Courier New,Courier,monospace">badge_set_display()</span> function to hide or show the badge. 
<p>The parameters are the application which owns the badge, and the display attribute (1 = badge is visible, 0 = badge is hidden).</p>
<pre class="prettyprint">
ret = badge_set_display(TEST_PKG, 1);
if (ret != BADGE_ERROR_NONE)
&nbsp;&nbsp;&nbsp;&nbsp;/* Error handling */
</pre>
</li>
</ul>

<h2 id="add" name="add">Adding a Shortcut in Mobile Applications</h2>

<p>To add a shortcut to the home screen:</p>

<ol>
<li><p>Add a shortcut using the <span style="font-family: Courier New,Courier,monospace">shortcut_add_to_home()</span> function:</p>

<pre class="prettyprint">
shortcut_add_to_home(&quot;Music Player&quot;, LAUNCH_BY_APP, NULL, &quot;/path/to/icon&quot;, 1, result_cb, NULL);
</pre>

<p>The icon parameter can be set to <span style="font-family: Courier New,Courier,monospace">NULL</span> to add a default icon for the application.</p></li>

<li><p>Define a callback function to track possible errors:</p>
<pre class="prettyprint">
static int
result_cb(int ret, void *data)
{
&nbsp;&nbsp;&nbsp;&nbsp;if (ret &lt; 0)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Error handling */
&nbsp;&nbsp;&nbsp;&nbsp;else
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* No error detected */
}
</pre></li></ol>

<h2 id="add_widget" name="add_widget">Adding a Widget in Mobile Applications</h2>
<p>To add a widget to the home screen:</p>
<ol>
<li><p>Before adding a widget on the home screen, a widget application must be prepared. For more information on creating a widget application, see the <a href="widget_app_n.htm">Widget Application</a> guide.</p></li>

<li><p>Add a widget with the <span style="font-family: Courier New,Courier,monospace">shortcut_add_to_home_widget()</span> function:</p>

<pre class="prettyprint">
shortcut_add_to_home_widget(&quot;alter_name&quot;, WIDGET_SIZE_1x1, &quot;org.tizen.testwidget&quot;,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/opt/media/Pictures/alter_icon.png&quot;, -1.0f, 0, result_cb, NULL);
</pre>

<p>To add a widget, you have to know the widget ID and supported sizes. The alter name and icon are shown when the widget is not available.</p></li>

<li><p>Define a callback function to track possible errors:</p>
<pre class="prettyprint">
static int
result_cb(int ret, void *data)
{
&nbsp;&nbsp;&nbsp;&nbsp;if (ret &lt; 0)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Error handling */
&nbsp;&nbsp;&nbsp;&nbsp;else
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* No error detected */
}
</pre></li></ol>

<script type="text/javascript" src="../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>	