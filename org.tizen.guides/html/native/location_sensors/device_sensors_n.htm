<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../css/snippet.css" />
	<script type="text/javascript" src="../../scripts/snippet.js"></script>
	<script type="text/javascript" src="../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/search.js" charset="utf-8"></script>

	<title>Device Sensors</title>
</head>

<body onload="prettyPrint()" style="overflow: auto;">

<div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile native" src="../../images/mobile_s_n.png"/> <img alt="Wearable native" src="../../images/wearable_s_n.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Dependencies</p>
		<ul class="toc">
			<li>Tizen Platform 2.4 and Higher for Mobile</li>
			<li>Tizen Platform 2.3.1 and Higher for Wearable</li>
		</ul>	
		<p class="toc-title">Content</p>
		<ul class="toc">
			<li><a href="#handle">Sensor Handle</a></li>
			<li><a href="#listener">Sensor Listener</a></li>
			<li><a href="#prerequisites">Prerequisites</a></li>		
			<li><a href="#sensorlistener">Creating a Sensor Listener</a></li>
			<li><a href="#subscribe">Subscribing for Sensor Events</a></li>
			<li><a href="#record">Requesting Sensor Data Recording</a></li>
			<li><a href="#query">Querying Recorded Sensor Data</a></li>
		</ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYSTEM__SENSOR__MODULE.html">Sensor API for Mobile Native</a></li>
			<li><a href="../../../../org.tizen.native.wearable.apireference/group__CAPI__SYSTEM__SENSOR__MODULE.html">Sensor API for Wearable Native</a></li>
			<li><a href="https://developer.tizen.org/development/sample/native/System/Pedometer" target="_blank">Pedometer Sample Description</a></li>
			<li><a href="https://developer.tizen.org/development/sample/native/System/Sensor" target="_blank">Sensor Sample Description</a></li>
		</ul>
	</div></div>
</div>

<div id="container"><div id="contents"><div class="content">
<h1>Device Sensors</h1>
  <p>Tizen provides functions for managing sensors and receiving sensor data.</p>
  
<p>The main features of the Sensor API include:</p>
  <ul>
<li><a href="#handle">Sensor Handle</a></li>
<li><a href="#listener">Sensor Listener</a></li>
  </ul>

  <table class="note">
   <tbody>
    <tr>
     <th class="note">Note</th>
    </tr>
    <tr>
     <td class="note">All devices may not support all sensor types. For more information, see <a href="../device/system_n.htm">System Information</a>.</td>
    </tr>
   </tbody>
  </table>
 
   <h2 name="handle" id="handle">Sensor Handle</h2>
  <p>A device can have various physical and virtual sensors. Tizen supports the following sensor types:</p>
  <ul> 
   <li><a href="#accelerometer">Accelerometer</a></li>
   <li><a href="#gravity">Gravity Sensor</a></li>
   <li><a href="#lin_accelerometer">Linear Acceleration Sensor</a></li>
   <li><a href="#magnetic">Magnetic Sensor</a></li>
   <li><a href="#uncal_magnetic">Uncalibrated Magnetic Sensor</a></li>
   <li><a href="#rotation">Rotation Vector Sensor</a></li>
   <li><a href="#gyro_rotation">Gyroscope Rotation Vector Sensor</a></li>
   <li><a href="#mag_rotation">Geomagnetic Rotation Vector Sensor</a></li>
   <li><a href="#orientation">Orientation Sensor</a></li>
   <li><a href="#gyro">Gyroscope</a></li>
   <li><a href="#uncal_gyro">Uncalibrated Gyroscope</a></li>
   <li><a href="#light">Light Sensor</a></li>
   <li><a href="#proximity">Proximity Sensor</a></li>
   <li><a href="#pressure">Pressure Sensor</a></li>
   <li><a href="#ultraviolet">Ultraviolet Sensor</a></li>
   <li><a href="#temperature">Temperature Sensor</a></li>
   <li><a href="#humidity">Humidity Sensor</a></li>
   <li><a href="#hrm">Heart Rate Monitor Sensor</a></li>
   <li><a href="#hrm_green">Heart Rate Monitor LED Green Sensor</a></li>
   <li><a href="#hrm_ir">Heart Rate Monitor LED IR Sensor</a></li>
   <li><a href="#hrm_red">Heart Rate Monitor LED Red Sensor</a></li>
   <li><a href="#pedometer">Pedometer</a></li>
   <li><a href="#sleep_monitor">Sleep Monitor</a></li>
  </ul> 
  <p>The Sensor API enables your application to <a href="#sensorlistener">create a sensor listener</a> and <a href="#subscribe">subscribe for sensor events</a> from the device&#39;s internal sensors to monitor when sensor values change. The application can receive the sensor data only when the data is modified. You can also <a href="#record">request the device to record sensor data</a> and <a href="#query">query for previously recorded data</a>.</p>
  <table class="note">
   <tbody>
    <tr>
     <th class="note">Note</th>
    </tr>
    <tr>
     <td class="note">All sensors may not be available on all devices. You can <a href="#retrieve">check whether a sensor is supported</a>. </td>
    </tr>
   </tbody>
  </table>
  <p>The Sensor API finds sensors, and monitors their availability. Key sensor features provided by the Sensor API include getting and setting the following:</p>
  <ul>
   <li>Sensor name</li>
   <li>Sensor vendor</li>
   <li>Sensor type</li>
   <li>Resolution</li>
   <li>Sensing interval</li>
   <li>Measurement range</li>
  </ul>

<p>Before you start, remember to <a href="#prerequisites">prepare your application to use the sensor functionality</a>.</p>
  
<h3 id="accelerometer" name="accelerometer">Accelerometer</h3>
<p>The accelerometer measures changes in the velocity of a device. It is a combination of gravity and linear acceleration components. The accelerometer measures the device&#39;s accelerometer vector in 3 axes relative to its body frame.</p>

<p>An acceleration shift of 1g always exists on the axis aligned to Earth&#39;s gravity. If the device is at rest, the sensor data reads 1g (the gravity offset) on one of the device axis and tells you which device axis is aligned to the direction of gravity. A falling device which has reached terminal velocity ideally shows the accelerometer value of 0 on all axis. The change in the effect of Earth&#39;s gravity is observed on the 3 device axes by rotating the device along any of the 3 axes. </p>
<p>The linear acceleration components which correspond to the measure of the linear motion subjected on the device can be obtained by removing the gravity components from the accelerometer data.</p>

<p>The accelerometer provides 3 components of acceleration (X, Y, and Z), as the following figure illustrates.</p>
<p class="figure">Figure: Accelerometer vector and axes</p>
<p align="center"><img alt="Accelerometer vector and axes" src="../../images/sensor_types_accelerometer_vector.png" /></p>
<p>The accelerometer outputs 4 values: 3 Cartesian axis values and a timestamp. The accelerometer sensor measures and returns axes values in &quot;m/s<sup>2</sup>&quot; (meters per second squared). When a device is moved in the &plusmn;X, &plusmn;Y, or &plusmn;Z direction, the corresponding output increases (+) or decreases (-).</p>

  <p>The following table lists the measurement data that the accelerometer provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the accelerometer
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -19.6<p>Max. value = 19.6</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -19.6<p>Max. value = 19.6</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -19.6<p>Max. value = 19.6</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
   </tbody>
  </table>
  <p>The following table provides information about the accelerometer output for a device at rest.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Accelerometer output for a device at rest
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Position</th>
     <th>1</th>
     <th>2</th>
     <th>3</th>
     <th>4</th>
     <th>5</th>
     <th>6</th>
    </tr>
    <tr>
     <td>Diagram</td>
     <td><img alt="Accelerometer output" src="../../images/uix_acceleration_sensor_output_up_top.png" /></td>
     <td><img alt="Accelerometer output" src="../../images/uix_acceleration_sensor_output_up_left.png" /></td>
     <td><img alt="Accelerometer output" src="../../images/uix_acceleration_sensor_output_up_down.png" /></td>
     <td><img alt="Accelerometer output" src="../../images/uix_acceleration_sensor_output_up_right.png" /></td>
     <td><img alt="Accelerometer output" src="../../images/uix_acceleration_sensor_output_top_bottom.png" /></td>
     <td><img alt="Accelerometer output" src="../../images/uix_acceleration_sensor_output_bottom_top.png" /></td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td align="center">0g </td>
     <td align="center">1g</td>
     <td align="center">0g</td>
     <td align="center">-1g</td>
     <td align="center">0g</td>
     <td align="center">0g</td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td align="center">1g </td>
     <td align="center"> 0g</td>
     <td align="center">-1g</td>
     <td align="center"> 0g</td>
     <td align="center">0g</td>
     <td align="center">0g</td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td align="center">0g </td>
     <td align="center">0g</td>
     <td align="center">0g</td>
     <td align="center">0g</td>
     <td align="center">1g</td>
     <td align="center">-1g</td>
    </tr>
    <tr>
     <td>Axis up (down)</td>
     <td align="center">Y </td>
     <td align="center">X</td>
     <td align="center">-Y</td>
     <td align="center">-X</td>
     <td align="center">Z</td>
     <td align="center">-Z</td>
    </tr>
    <tr>
     <td>X-polarity</td>
     <td align="center">0 </td>
     <td align="center">+</td>
     <td align="center">0</td>
     <td align="center">-</td>
     <td align="center">0</td>
     <td align="center">0</td>
    </tr>
    <tr>
     <td>Y-polarity</td>
     <td align="center">+ </td>
     <td align="center">0</td>
     <td align="center">-</td>
     <td align="center">0</td>
     <td align="center">0</td>
     <td align="center">0</td>
    </tr>
    <tr>
     <td>Z-polarity</td>
     <td align="center">0</td>
     <td align="center">0</td>
     <td align="center">0</td>
     <td align="center">0</td>
     <td align="center">+</td>
     <td align="center">-</td>
    </tr>
   </tbody>
  </table>
  
  <h3 id="gravity" name="gravity">Gravity Sensor</h3>
  <p>The gravity sensor is a virtual sensor derived from the 3-axis acceleration sensor. The 3-axis gravity components provide a measure of the effect of Earth&#39;s gravity observed on the device reference axes. The gravity components measured on a device vary based on the change in the device orientation, and hence they provide a measure of the rotation subjected to the device.</p>
  <p class="figure">Figure: Gravity sensor vector and axes</p>
  <p align="center"><img alt="Gravity sensor vector and axes" src="../../images/sensor_types_gravity_frame.png" /></p>
  <p>The gravity sensor outputs 4 values: 3 Cartesian axis values and a timestamp. The gravity sensor measures and returns axes values in &quot;m/s<sup>2</sup>&quot; (meters per second squared). When a device is rotated in the &plusmn;X, &plusmn;Y, or &plusmn;Z direction, the corresponding output increases (+) or decreases (-).</p>

  <p>The following table lists the measurement data that the gravity sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the gravity sensor 
   </caption>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -9.8<p>Max. value = 9.8</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -9.8<p>Max. value = 9.8</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -9.8<p>Max. value = 9.8</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
   </tbody>
  </table>
  
  
  <h3 id="lin_accelerometer" name="lin_accelerometer">Linear Acceleration Sensor</h3>
  <p>The linear acceleration sensor is derived from the accelerometer by excluding the gravity value, and it measures the user-driven changes in the velocity. The linear acceleration sensor is used to detect the dynamic movement of the device and analyze the user&#39;s motion profile. The 3-axes linear acceleration components provide a measure of the combined linear motion subjected to the device in the euclidean space.</p>
  <p>The linear acceleration sensor provides 3 components of acceleration (X, Y, and Z), as the following figure illustrates.</p>
  <p class="figure">Figure: User-acceleration sensor vector and axes</p>
  <p align="center"><img alt="User-acceleration sensor vector and axes" src="../../images/sensor_types_useracceleration_vector.png" /></p>
  <p>The linear acceleration sensor outputs 4 values: 3 Cartesian axis values and a timestamp. The linear acceleration sensor measures and returns axes values in &quot;m/s<sup>2</sup>&quot; (meters per second squared). When a device is accelerated in the &plusmn;X, &plusmn;Y, or &plusmn;Z direction, the corresponding output increases (+) or decreases (-). The acceleration output is shown in the same direction as the user-driven force.</p>
  <p>The following table lists the measurement data that the linear acceleration sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the linear acceleration sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -19.6 <p>Max. value = 19.6</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -19.6 <p>Max. value = 19.6</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -19.6 <p>Max. value = 19.6</p> </td>
     <td>m/s<sup>2</sup></td>
    </tr>
   </tbody>
  </table>
 
  
 <h3 id="magnetic" name="magnetic">Magnetic Sensor</h3>
  <p>The magnetic sensor is a 3-axis electronic compass (sometimes referred to as a &quot;magnetometer&quot; or &quot;geomagnetic sensor&quot;). It can also be used in determining the azimuth component of the device orientation provided that the tilt of the device is already computed. The magnetic sensor measures the Earth&#39;s magnetic field strength and fluctuations, and splits the measurement into X, Y, and Z components.</p>
<p>The following factors can have an impact on the sensor readings:</p>
  <ul>
   <li>The weather or the season of the year</li>
   <li>Your location on the planet</li>
   <li>Nearby, strong magnetic fields, such as magnets, electric coils, or objects which contain a ferrite element</li>
  </ul>
  <p>The following table lists the measurement data that the magnetic sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the magnetic sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>μT (micro Tesla)</td>
    </tr>
    <tr>
     <td>values[1]: Y</td> 
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td> 
     <td>μT (micro Tesla)</td> 
    </tr> 
    <tr> 
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>μT (micro Tesla)</td>
    </tr>
   </tbody>
  </table>
  <p>The magnetic sensor uses the 3-axis Cartesian space coordinate system, as the following figure illustrates.</p>
  <p class="figure">Figure: Magnetic field vector and axes</p>
  <p align="center"><img alt="Magnetic field vector and axes" src="../../images/sensor_types_magnetic_vector.png" /></p>
    
<h3 id="uncal_magnetic" name="uncal_magnetic">Uncalibrated Magnetic Sensor</h3>
 <p>The uncalibrated magnetic sensor is a 3-axis electronic compass (sometimes referred to as a &quot;magnetometer&quot; or &quot;geomagnetic sensor&quot;). It can also be used in determining the azimuth component of the device orientation provided that the tilt of the device is already computed. It measures the Earth&#39;s magnetic field strength and fluctuations, and splits the measurement into X, Y, and Z components. The uncalibrated magnetic sensor is similar in functionality to a magnetic sensor, but does not perform hard iron calibration. Factory calibration and temperature compensation are applied.</p>

  <p>The following factors can have an impact on the sensor readings:</p>
  <ul>
   <li>The weather or the season of the year</li>
   <li>Your location on the planet</li>
   <li>Nearby, strong magnetic fields, such as magnets, electric coils, or objects which contain a ferrite element</li>
  </ul>
  <p>The following table lists the measurement data that the uncalibrated magnetic sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the uncalibrated magnetic sensor
   </caption>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>μT (micro Tesla)</td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>μT (micro Tesla)</td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>μT (micro Tesla)</td>
    </tr>
    <tr>
     <td>values[3]: X-axis bias</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>μT (micro Tesla)</td>
    </tr>
    <tr>
     <td>values[4]: Y-axis bias</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>μT (micro Tesla)</td>
    </tr>
    <tr>
     <td>values[5]: Z-axis bias</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>μT (micro Tesla)</td>
    </tr>
   </tbody>
  </table>
	
   <h3 id="rotation" name="rotation">Rotation Vector Sensor</h3>
  <p>The rotation vector sensor represents the orientation of the device as a combination of an angle and an axis, in which the device has rotated through a specific angle around an axis (x, y, or z). The rotation vector is the output of a software/hardware-based sensor fusion solution, which uses the accelerometer, gyroscope, and magnetic sensor as inputs to compute the orientation of the device.</p>

  <p>The following table lists the measurement data that the rotation vector sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the rotation vector
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr> 
     <th>Measurement</th>
     <th>Type</th>
	 <th>Range</th>
     <th>Unit</th> 
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
	 <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>Accuracy</td>
     <td><span style="font-family: Courier New,Courier,monospace">sensor_data_accuracy_e</span></td>
	 <td>-</td>
     <td>int</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
	 <td>-</td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
	 <td>-</td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
	 <td>-</td>
    </tr>
    <tr>
     <td>values[3]: W</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
	 <td>-</td>
    </tr>
   </tbody>
  </table>
 
<h3 id="gyro_rotation" name="gyro_rotation">Gyroscope Rotation Vector Sensor</h3>
   <p>The gyroscope rotation vector sensor is the output of a software/hardware-based sensor fusion solution which uses the accelerometer and gyroscope to compute the orientation of the device. In this sensor, the pitch and roll equivalent representations are free of drift while the azimuth equivalent component is allowed to drift due to the absence of the magnetic sensor. The gyroscope rotation vector sensor represents the orientation of the device as a combination of an angle and an axis in which the device has rotated through a specific angle around an axis (x, y, or z).</p>

  <p>The following table lists the measurement data that the gyroscope rotation vector sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the gyroscope rotation vector sensor
   </caption>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
        <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
        <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>Accuracy</td>
     <td><span style="font-family: Courier New,Courier,monospace">sensor_data_accuracy_e</span></td>
        <td>-</td>
     <td>int</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
        <td>-</td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
        <td>-</td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
        <td>-</td>
    </tr>
    <tr>
     <td>values[3]: W</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
        <td>-</td>
    </tr>
   </tbody>
  </table>

   <h3 id="mag_rotation" name="mag_rotation">Geomagnetic Rotation Vector Sensor</h3>
   <p>The geomagnetic rotation vector sensor is the output of a software/hardware-based sensor fusion solution which uses the accelerometer and magnetic sensors to compute the orientation of the device. In this sensor, the computed orientation is free of any drift, but it is inaccurate compared to a sensor fusion solution using the gyroscope sensor. The geomagnetic rotation vector sensor represents the orientation of the device as a combination of an angle and an axis in which the device has rotated through a specific angle around an axis (x, y, or z).</p>

  <p>The following table lists the measurement data that the geomagnetic rotation vector sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the geomagnetic rotation vector sensor
   </caption>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
        <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
        <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>Accuracy</td>
     <td><span style="font-family: Courier New,Courier,monospace">sensor_data_accuracy_e</span></td>
        <td>-</td>
     <td>int</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
        <td>-</td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
        <td>-</td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
        <td>-</td>
    </tr>
    <tr>
     <td>values[3]: W</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -1 <p>Max. value = 1</p> </td>
        <td>-</td>
    </tr>
   </tbody>
  </table>

 
  
  <h3 id="orientation" name="orientation">Orientation Sensor</h3>
  <p>The orientation sensor combines the 3-axis accelerometer, 3-axis magnetic sensor, and 3-axis gyroscope to determine the orientation (rotation angles) of the device. The orientation is the output of a software/hardware-based sensor fusion solution which uses the accelerometer, magnetic sensor, and gyroscope. The orientation sensor output is an alternative representation to the rotation vector sensor output used to determine the rotation of the device, and it is calculated in terms of Euler angles:</p>
  <ul>
   <li>Azimuth</li>
   <li>Pitch</li>
   <li>Roll</li>
  </ul>

  <p>The following table lists the measurement data that the orientation sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the orientation sensor
   </caption>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: Azimuth</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = 0<p>Max. value = 360</p> </td>
     <td>Degrees (&deg;)</td>
    </tr>
    <tr>
     <td>values[1]: Pitch</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -180<p>Max. value = 180</p></td>
     <td>Degrees (&deg;)</td>
    </tr>
    <tr>
     <td>values[2]: Roll</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -90<p>Max. value = 90</p></td>
     <td>Degrees (&deg;)</td>
    </tr>
   </tbody>
  </table>

<p>The angular positions are measured using a fixed frame reference (X<sub>E</sub>, Y<sub>E</sub>, Z<sub>E</sub>).</p>
 
  <p class="figure">Figure: Angular positions and the fixed frame reference</p>
  <p align="center"><img alt="Angular positions and the fixed frame reference" src="../../images/sensor_types_deviceorientation_frame.png" /></p>
  
  
   <h3 id="gyro" name="gyro">Gyroscope</h3>
  <p>The gyroscope detects angular velocity or angular rates of a device. The 3D gyroscope data is considered to be very sensitive in detecting incremental rotation angles. The rotation angles obtained by integrating the angular rates over longer duration is inaccurate due to the build-up of drift.</p>
  <p class="figure">Figure: Gyroscope vector and axes</p>
  <p align="center"><img alt="Gyroscope vector and axes" src="../../images/sensor_types_gyro_vector.png" /></p>
  <p>The following table lists the measurement data that the gyroscope provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the gyroscope
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
   </tbody>
  </table>
 
<h3 id="uncal_gyro" name="uncal_gyro">Uncalibrated Gyroscope</h3>
  <p>The uncalibrated gyroscope detects angular velocity or angular rates of a device. The 3D uncalibrated gyroscope sensor is considered to be very sensitive in detecting incremental rotation angles. The rotation angles obtained by integrating the angular rates over longer duration is inaccurate due to the build-up of drift. The uncalibrated gyroscope data also consists of drift compensation values for each axis, which can be used to subtract the drift from the detected angular rates. The values of drift for the 3 axes are obtained from the output of a software/hardware-based sensor fusion solution.</p>
  <p>The following table lists the measurement data that the uncalibrated gyroscope provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the uncalibrated gyroscope
   </caption>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: X</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
    <tr>
     <td>values[1]: Y</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
    <tr>
     <td>values[2]: Z</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
    <tr>
     <td>values[3]: Drift around the X axis</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
    <tr>
     <td>values[4]: Drift around the Y axis</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
    <tr>
     <td>values[5]: Drift around the Z axis</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -573.0 <p>Max. value = 573.0</p></td>
     <td>Degrees/s (&deg;/s)</td>
    </tr>
   </tbody>
  </table>

 
   <h3 id="light" name="light">Light Sensor</h3>
  <p>The light sensor detects the brightness of ambient light. It can be used to measure the brightness level.</p>
  <p>As an example use case, the light sensor can be used to control the brightness of the screen. In a dark environment, the light sensor detects the brightness of the environment and can be used to increase the device screen backlight brightness level. In a brighter environment, the backlight brightness level is lowered to save battery power.</p>
  <p>The following table lists the measurement data that the light sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the light sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td> 
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: Level</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = 0 <p>Max. value = 45875</p></td>
     <td>Lux</td>
    </tr>
   </tbody>
  </table>
  
  <h3 id="proximity" name="proximity">Proximity Sensor</h3>
  <p>The proximity sensor detects the presence of nearby objects in close proximity to the sensor. It can be used to measure the distance between nearby objects and the device.</p>
  <p>As an example use case, the proximity sensor can be used to lock or unlock the device screen. When the device user holds the device to their ear, the proximity sensor detects the user as an object, and automatically locks the device screen. When the user moves the device away from their ear to input data, the proximity sensor determines that there are no nearby objects, and unlocks the screen.</p>
  <p>The following table lists the measurement data that the proximity sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the proximity sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
    <tr>
     <td>values[0]: proximity</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>-</td>
     <td>-</td>
    </tr>
   </tbody>
  </table>
 
    <h3 id="pressure" name="pressure">Pressure Sensor</h3>
  <p>The pressure sensor measures the atmospheric pressure in the device&#39;s surrounding environment.</p>
  <p>The following table lists the measurement data that the pressure sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the pressure sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
     <tr>
     <td>values[0]: pressure</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = 260 <p>Max. value = 1260</p></td>
     <td>hPa</td>
    </tr>
   </tbody>
  </table>

    <h3 id="ultraviolet" name="ultraviolet">Ultraviolet Sensor</h3>
  <p>The ultraviolet (UV) sensor measures the ultraviolet index. The sensor detects and provides a measure of the UV rays being exposed to the device.</p>
  <p>The following table lists the measurement data that the ultraviolet sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the ultraviolet sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr> 
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
     <tr>
     <td>values[0]: uv index</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = 0 <p>Max. value = 15</p></td>
     <td>uv index</td>
    </tr>
   </tbody>
  </table>
  
    <h3 id="temperature" name="temperature">Temperature Sensor</h3>
  <p>The temperature sensor measures the ambient room temperature in the device&#39;s surrounding environment.</p>
  <p>The following table lists the measurement data that the temperature sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the temperature sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
     <tr>
     <td>values[0]: temperature</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>Min. value = -30 <p>Max. value = 100</p></td>
     <td>&#8451;</td>
    </tr>
   </tbody>
  </table> 

     <h3 id="humidity" name="humidity">Humidity Sensor</h3>
  <p>The humidity sensor measures the relative ambient air humidity in percentage.</p>
  <p>The following table lists the measurement data that the humidity sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the humidity sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
     <tr>
     <td>values[0]: humidity</td>
     <td><span style="font-family: Courier New,Courier,monospace">float</span></td>
     <td>100</td>
     <td>%</td>
    </tr>
   </tbody>
  </table> 
  

    <h3 id="hrm" name="hrm">Heart Rate Monitor Sensor</h3>
        <p>The Heart Rate Monitor (HRM) sensor measures a person&#39;s heart rate in real time.</p>
        <p>The following table lists the measurement data that the HRM sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the HRM sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
     <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
     <tr>
     <td>values[0]: Beats per minute</td>
     <td><span style="font-family: Courier New,Courier,monospace">int</span></td>
     <td>Min. value = 0 <p>Max. value = 240</p></td>
     <td>-</td>
    </tr>
   </tbody>
  </table>

     <h3 id="hrm_green" name="hrm_green">Heart Rate Monitor LED Green Sensor</h3>
        <p>The Heart Rate Monitor (HRM) LED green sensor measures the amount of green light that is reflected back from a person&#39;s blood vessel.</p>
        <p>The following table lists the measurement data that the HRM LED green sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the HRM LED green sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
     <tr>
     <td>values[0]: HRM green light value</td>
     <td><span style="font-family: Courier New,Courier,monospace">int</span></td>
     <td>Min. value = 0 <p>Max. value = 1081216</p></td>
     <td>-</td>
    </tr>
   </tbody>
  </table>

     <h3 id="hrm_ir" name="hrm_ir">Heart Rate Monitor LED IR Sensor</h3>
        <p>The Heart Rate Monitor (HRM) LED infrared (IR) sensor measures the amount of infrared light that is reflected back from a person&#39;s blood vessel.</p>
        <p>The following table lists the measurement data that the HRM LED IR sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the HRM LED IR sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
     <tr>
     <td>values[0]: HRM IR light value</td>
     <td><span style="font-family: Courier New,Courier,monospace">int</span></td>
     <td>Min. value = 0 <p>Max. value = 1081216</p></td>
     <td>-</td>
    </tr>
   </tbody>
  </table>

     <h3 id="hrm_red" name="hrm_red">Heart Rate Monitor LED Red Sensor</h3>
        <p>The Heart Rate Monitor (HRM) LED red sensor measures the amount of red light that is reflected back from a person&#39;s blood vessel.</p>
        <p>The following table lists the measurement data that the HRM LED red sensor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the HRM LED red sensor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Type</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td><span style="font-family: Courier New,Courier,monospace">unsigned long long</span></td>
     <td>-</td>
     <td>Microseconds</td>
    </tr>
     <tr>
     <td>values[0]: HRM red light value</td>
     <td><span style="font-family: Courier New,Courier,monospace">int</span></td>
     <td>Min. value = 0 <p>Max. value = 1081216</p></td>
     <td>-</td>
    </tr>
   </tbody>
  </table>
  

  <h3 id="pedometer" name="pedometer">Pedometer</h3>
  <p>The pedometer detects the user&#39;s steps, and returns the number of steps taken by the user since the last reboot, while at least 1 application is using the pedometer. The timestamp of the event denotes the time when the last step was taken. In addition to the number of steps, it also returns other tracking data to further describe the user&#39;s activity status. For example, it provides the user&#39;s moving distance and burned calories. All the values are reset to zero when the system reboots.</p>
  <p>Normally, a callback function is invoked whenever a new step is detected. However, to be power-efficient, the sensor can internally accumulate its detected events while the system sleeps. In this case, the accumulated data is reported when the system wakes up, that is, the display is switched on. In addition, even though the display is not switched on explicitly, the sensor can wake up the device to deliver its accumulated data occasionally.</p>
  <p>If you want to track the user&#39;s steps continuously, do not stop the sensor listener to be sure that it keeps running. If there is no application listening to the sensor, it stops counting the steps.</p>
  <p>The following table lists the measurement data that the pedometer provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the pedometer
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Range</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
	 <td>-</td>
     <td>Microseconds</td>
    </tr>
	<tr>
     <td>values[0]: number of steps</td>
	 <td>Min. value = 0
<p>Max. value = 2<sup>24</sup></p></td>
     <td>Steps</td>
    </tr>
	<tr>
     <td>values[1]: number of walking steps</td>
	 <td>Min. value = 0
<p>Max. value = 2<sup>24</sup></p></td>
     <td>Steps</td>
    </tr>
	<tr>
	 <td>values[2]: number of running steps</td>
	 <td>Min. value = 0
<p>Max. value = 2<sup>24</sup></p></td>
     <td>Steps</td>
    </tr>
	<tr>
	 <td>values[3]: moving distance</td>
     <td>Min. value = 0</td>
     <td>Meters</td>
    </tr>
	<tr>
	 <td>values[4]: calories burned</td>
     <td>Min. value = 0</td>
     <td>kcal</td>
    </tr>
	<tr>
	 <td>values[5]: last speed</td>
     <td>Min. value = 0</td>
     <td>km/h</td>
    </tr>
	<tr>
	 <td>values[6]: last stepping frequency</td>
     <td>Min. value = 0</td>
     <td>Steps/second</td>
    </tr>
	<tr>
	 <td>values[7]: last pedestrian state</td>
     <td>-</td>
     <td>-</td>
    </tr>
   </tbody>
  </table>

  <p>The pedestrian state is <span style="font-family: Courier New,Courier,monospace">SENSOR_PEDOMETER_STATE_UNKNOWN</span>, <span style="font-family: Courier New,Courier,monospace">SENSOR_PEDOMETER_STATE_STOP</span>, <span style="font-family: Courier New,Courier,monospace">SENSOR_PEDOMETER_STATE_WALK</span>, or <span style="font-family: Courier New,Courier,monospace">SENSOR_PEDOMETER_STATE_RUN</span>.</p>

  <h3 id="sleep_monitor" name="sleep_monitor">Sleep Monitor</h3>
  <p>The sleep monitor tracks the user&#39;s sleep quality. Once per minute, it reports whether the user sleeps. As this sensor usually needs to track the sleep quality over several hours, it must be power-efficient and work in a batch manner. While the system sleeps, or the display is off, the sensor keeps its detected data internally. When the sensor is unable to keep more data (its internal buffer is full), it wakes up the system and flushes all collected data. When flushing, the callback function is invoked repeatedly. The timestamp of each event can be used to figure out when the user was sleeping.</p>

  <p>The following table lists the measurement data that the sleep monitor provides.</p>
  <table border="1" style="width: 100%">
   <caption>
     Table: Measurement data detected by the sleep monitor
   </caption>
   <colgroup>
    <col />
    <col />
    <col />
   </colgroup>
   <tbody>
    <tr>
     <th>Measurement</th>
     <th>Unit</th>
    </tr>
    <tr>
     <td>Timestamp</td>
     <td>Microseconds</td>
    </tr>
	<tr>
     <td>values[0]: user&#39;s sleep state</td>
     <td>-</td>
    </tr>
   </tbody>
  </table>

  <p>The sleep state is <span style="font-family: Courier New,Courier,monospace">SENSOR_SLEEP_STATE_UNKNOWN</span>, <span style="font-family: Courier New,Courier,monospace">SENSOR_SLEEP_STATE_WAKE</span>, or <span style="font-family: Courier New,Courier,monospace">SENSOR_SLEEP_STATE_SLEEP</span>.</p>
  <p>Depending on the device you are using, the available raw sensors are different and the sleep detection algorithm can also differ. In addition to the sleep state field, some specific device models can provide further data, as defined by the model manufacturer.</p>

 
  <h2 id="listener" name="listener">Sensor Listener</h2>
  <p>The Sensor API detects sensors and monitors their availability. The key sensor listening features provided by the Sensor API include:</p>
<ul><li>Adding and removing sensor listeners</li>
<li>Checking available sensors</li>
<li>Getting sensor data</li></ul>

<p>When running an application on the Emulator, you can use the Event Injector view to provide sensor data for the application.</p>

<p>Sensor listeners can be added or removed at any time. Listeners receive registered sensor events and deliver the event data to applications at predefined intervals. The applications can add multiple sensor listeners for the same sensor type.</p>

  
<h2>Warm-up</h2>
    <p>Become familiar with the Sensor API basics by learning about:</p> 
	<ul>
	<li><a href="#prerequisites">Prerequisites</a>
	<p>Prepare your application to use the device sensor functionality.</p></li>	
	<li><a href="#sensorlistener">Creating a Sensor Listener</a>
	<p>Find a sensor of a given type and create a listener for it.</p></li>
	<li><a href="#subscribe">Subscribing for Sensor Events</a>
	<p>Start to listen to sensor data changes through the created listener.</p></li>
	<li><a href="#record">Requesting Sensor Data Recording</a>
	<p>Start to record sensor data from a specific type of sensor.</p></li>
	<li><a href="#query">Querying Recorded Sensor Data</a>
	<p>Query the sensor data recorded in the device.</p></li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<p>To use the functions and data types of the Sensor API (in <a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYSTEM__SENSOR__MODULE.html">mobile</a> and <a href="../../../../org.tizen.native.wearable.apireference/group__CAPI__SYSTEM__SENSOR__MODULE.html">wearable</a> applications), include the <span style="font-family: Courier New,Courier,monospace">&lt;sensor.h&gt;</span> header file in your application:</p>
<pre class="prettyprint">
#include &lt;sensor.h&gt;
</pre>

<h2 id="sensorlistener" name="sensorlistener">Creating a Sensor Listener</h2>
 
<p>If an application wants to observe data from a specific sensor, it must first check whether the sensor is supported. Then, you can create a sensor listener handle on the sensor:</p>
 
 <ol>
<li>To observe a specific sensor type, for example, accelerometer, check its availability:
<pre class="prettyprint">
bool supported = false;

sensor_is_supported(SENSOR_ACCELEROMETER, &amp;supported); 
if (!supported) {
&nbsp;&nbsp;&nbsp;&nbsp;/* Accelerometer is not supported in the current device */
}
</pre>
</li>
<li>For a specific supported sensor type, a device can have multiple sensors.
<p>You can acquire all sensors or just the default sensor (designated by the device vendor) of a given type. The following example shows how to get the default accelerometer of the device:</p>
<pre class="prettyprint">
sensor_h sensor;
sensor_get_default_sensor(SENSOR_ACCELEROMETER, &amp;sensor);
</pre>
</li>
<li>After getting a sensor handle, you can create a listener handle upon the sensor handle:
<pre class="prettyprint">
sensor_listener_h listener;
sensor_create_listener(sensor, &amp;listener);
</pre>
</li> 
</ol>
 
<h2 id="subscribe" name="subscribe">Subscribing for Sensor Events</h2>
 
<p>If a listener is created successfully, it is able to observe sensor data changes through the listener. In addition, you can set several parameters, including the update interval of the sensor data and the power-save behavior of the listener. The following example shows how to set the parameters and listen to changes of sensor data:</p>
 
<ol>
<li>To listen to sensor events, define a callback function and register it to the listener:
<pre class="prettyprint">
/* Define callback */
void
example_sensor_callback(sensor_h sensor, sensor_event_s *event, void *user_data)
{
&nbsp;&nbsp;&nbsp;&nbsp;/* If a callback function is used to listen to different sensor types, it can check the sensor type */
&nbsp;&nbsp;&nbsp;&nbsp;sensor_type_e type;
&nbsp;&nbsp;&nbsp;&nbsp;sensor_get_type(sensor, &amp;type);

&nbsp;&nbsp;&nbsp;&nbsp;if (type == SENSOR_ACCELEROMETER) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned long long timestamp = event-&gt;timestamp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int accuracy = event-&gt;accuracy;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float x = event-&gt;values[0];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float y = event-&gt;values[1];
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float z = event-&gt;values[2];
&nbsp;&nbsp;&nbsp;&nbsp;}
}

/* Register callback */
sensor_listener_set_event_cb(listener, 100, example_sensor_callback, NULL);
</pre>
<p>In the above example, the update interval for the sensor data is set to 100 ms.</p>
</li>

<li>To listen to sensor events, start the listener:
<pre class="prettyprint">
sensor_listener_start(listener);
</pre>
<p>The callback function starts to be called at least once per the given interval. You can start multiple listeners on the same sensor with different intervals. In this case, the shortest interval is chosen.</p>
<p>Some sensors are event-driven, meaning that they emit sensor events only if their data changes. For example, the proximity sensor emits its data only if the proximity value actually changes. For event-driven sensors, the update interval is ignored.</p>
</li>

<li>While the listener is running, you can change the listener settings:
<ul>
<li>You can change the listener update interval:
<pre class="prettyprint">
sensor_listener_set_interval(listener, 200);
</pre>
<p>The above example changes the update interval of a given listener to 200 ms.</p>
</li>

<li>You can change the power-save behavior of the listener.
<p>By default, the listener automatically stops listening for the sensor data, if the display is switched off or the device goes to the power-save mode. You can override such behavior:</p>
<pre class="prettyprint">
sensor_listener_set_attribute_int(listener, SENSOR_ATTRIBUTE_PAUSE_POLICY, SENSOR_PAUSE_NONE);
</pre>
<p>The above example makes the listener to listen for the sensor data regardless of the display state and the power-save mode. However, it does not prevent the device from going to the sleep mode. To listen for the sensor data, the device must be awake anyway.</p>
</li>
</ul>
</li>
<li>When the sensor data is no more necessary, stop the listener:
<pre class="prettyprint">
sensor_listener_stop(listener);
</pre>
</li>
<li>When a listener is no longer needed, release its resources explicitly:
<pre class="prettyprint">
sensor_destroy_listener(listener);
</pre>
</li>
</ol>


<h2 id="record" name="record">Requesting Sensor Data Recording</h2>

<p>Tizen supports long-term data recording for specific sensor types. For example, it can collect pedometer data for a month, by simply requesting the device to record pedometer data:</p>

<ol>
<li>All sensor types cannot be recorded. Check whether a sensor is supported and allows recording in the current device, before actually making the record request.
<pre class="prettyprint">
bool supported = false;

sensor_recorder_is_supported(SENSOR_HUMAN_PEDOMETER, &amp;supported);
if (!supported) {
&nbsp;&nbsp;&nbsp;&nbsp;/* Pedometer is not supported or cannot be recorded in the current device */
}
</pre>
 </li>

<li>You can set various recording options based on your needs.
<p>For example, in case of the pedometer, its retention period can be designated. The following example shows how to create an option handle to record pedometer data for a month:</p>
<pre class="prettyprint">
sensor_recorder_option_h option;

sensor_recorder_create_option(&amp;option);
sensor_recorder_option_set_int(option, SENSOR_RECORDER_OPTION_RETENTION_PERIOD, 30 * 24); /* 720 hours (30 days) */
</pre>
</li>

<li>With the option handle, send the recording request for the pedometer data:
<pre class="prettyprint">
sensor_recorder_start(SENSOR_HUMAN_PEDOMETER, option);
</pre>
<p>Even if the application terminates or the device reboots, the system automatically continues to record pedometer data. As the retention period is set to 720 hours in the above example, the data older than 720 hours is erased automatically. If multiple applications set different retention periods, the longest one is chosen.</p>
</li>
 
<li>When you no longer need to record pedometer data, stop the recording:
<pre class="prettyprint">
sensor_recorder_stop(SENSOR_HUMAN_PEDOMETER);
</pre>
<p>However, remember that the recording is not actually stopped, if another application has requested for the same sensor to be recorded.</p>
</li>
</ol>
 
<h2 id="query" name="query">Querying Recorded Sensor Data</h2>
 
<p>You can query the recorded sensor data with several query parameters. The query parameters differ between sensor types. In case of the pedometer, for example, you can get the daily step counts for the last 7 days by setting the necessary parameters:</p>
 
<ol>
<li>Create a query.
<p>In the following example, you get an aggregated data record per day (since <span style="font-family: Courier New,Courier,monospace">SENSOR_RECORDER_QUERY_TIME_INTERVAL</span> is set to 24 hours) and a day starts at 7 AM (not at midnight, since <span style="font-family: Courier New,Courier,monospace">SENSOR_RECORDER_QUERY_ANCHOR_TIME</span> is set to 7 AM).</p>
<pre class="prettyprint">
sensor_recorder_query_h query;
sensor_recorder_create_query(&amp;query);
/* Start 7 days ago */
sensor_recorder_query_set_time(query, SENSOR_RECORDER_QUERY_START_TIME,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(time_t)(time(NULL) - (7 * 24 * 3600)));
/* End now */
sensor_recorder_query_set_time(query, SENSOR_RECORDER_QUERY_END_TIME, time(NULL));
/* Aggregate every 24 hours */ 
sensor_recorder_query_set_int(query, SENSOR_RECORDER_QUERY_TIME_INTERVAL, 24 * 60);
/* Start the aggregation at 7 AM */
sensor_recorder_query_set_time(query, SENSOR_RECORDER_QUERY_ANCHOR_TIME, (time_t)(7 * 3600));
</pre>
</li>
<li>With the query handle, retrieve the actual aggregated data:
<pre class="prettyprint">
sensor_recorder_read(SENSOR_HUMAN_PEDOMETER, query, example_sensor_recorder_callback, NULL);
</pre>
<p>The <span style="font-family: Courier New,Courier,monospace">sensor_recorder_read()</span> function is asynchronous. The synchronous variant is <span style="font-family: Courier New,Courier,monospace">sensor_recorder_read_sync()</span>.</p>
</li>
<li>Inside the <span style="font-family: Courier New,Courier,monospace">example_sensor_recorder_callback()</span> callback, each record attribute can be extracted:
<pre class="prettyprint">
void
example_sensor_recorder_callback(sensor_type_e type, sensor_recorder_data_h data, int remains,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sensor_error_e error, void *user_data)
{
&nbsp;&nbsp;&nbsp;&nbsp;int step;
&nbsp;&nbsp;&nbsp;&nbsp;double distance;
&nbsp;&nbsp;&nbsp;&nbsp;time_t start;
&nbsp;&nbsp;&nbsp;&nbsp;time_t end;

&nbsp;&nbsp;&nbsp;&nbsp;if (error != SENSOR_ERROR_NONE)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;

&nbsp;&nbsp;&nbsp;&nbsp;sensor_recorder_get_time(data, &amp;start, &amp;end);
&nbsp;&nbsp;&nbsp;&nbsp;sensor_recorder_get_int(data, SENSOR_RECORDER_DATA_STEPS, &amp;step);
&nbsp;&nbsp;&nbsp;&nbsp;sensor_recorder_get_double(data, SENSOR_RECORDER_DATA_DISTANCE, &amp;distance);
}
</pre>
</li>
</ol>
    
<script type="text/javascript" src="../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>

