<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../css/snippet.css" />
	<script type="text/javascript" src="../../scripts/snippet.js"></script>
	<script type="text/javascript" src="../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../scripts/search.js" charset="utf-8"></script>

	<title>Sync</title>
</head>

<body onload="prettyPrint()" style="overflow: auto;">

<div id="navigation">
	<div id="profile">
		<p><img alt="Mobile native" src="../../images/mn_icon.png"/></p>
	</div>

	<div id="toc_border"><div id="toc">

		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../org.tizen.tutorials/html/native/sync/sync_tutorials_n.htm">Sync Tutorial</a></li>
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYNC__ADAPTER__FRAMEWORK.html">Sync Adapter API</a></li>
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYNC__MANAGER__FRAMEWORK.html">Sync Manager API</a></li>
		</ul>
	</div></div>
</div>

<div id="container"><div id="contents"><div class="content">
<h1>Sync</h1>
<p>Sync Manager provides notification for service application for maintaining consistency of application's data between server and device. The <a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYNC__FRAMEWORK.html">Sync API</a> enables to manage synchronization schedule for apps.</p>

<br>
<p>The main features of the <a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYNC__ADAPTER__FRAMEWORK.html">Sync Adapter</a> API include:</p>
<ul>
<li>Register callbacks for notification of a time to start / cancel sync job</li>
<li>Use app control to start or cancel sync operation, then an application's daemon doesn't need to stay awake</li>
</ul>
 <table class="note">
   <tbody>
    <tr>
     <th class="note">Note</th>
    </tr>
    <tr>
     <td class="note">You can test the Sync Adapter functionality only on mobile device and SDK. The wearable device does not support this feature.</td>
    </tr>
   </tbody>
 </table>
<br>

<p>The main features of the <a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__SYNC__MANAGER__FRAMEWORK.html">Sync Manager</a> API include:</p>
<ul>
<li>Add / Remove On demand sync job schedule</li>
<li>Add / Remove Periodic sync job schedule</li>
</ul>
 <table class="note">
   <tbody>
    <tr>
     <th class="note">Note</th>
    </tr>
    <tr>
     <td class="note">You can test the Sync Manager functionality only on mobile device and SDK. The wearable device does not support this feature.</td>
    </tr>
   </tbody>
 </table>
<br>


<h2 name="sync_rules" id="sync_rules">Sync Rules</h2>

<p>Sync Manager operates sync job based on following five rules:</p>
<p class="figure">Table: Five rules for sync job scheduling</p>
  <table border="1">
   <tbody>
    <tr>
     <th>Rules</th>
     <th>Descriptions</th>
    </tr>
    <tr>
     <td><br>Data on server changes</td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>When data changed on server, a push message arrives from a server. The server sends the push message to Account Provider Service and service applications.</p></span></td>
    </tr>
    <tr>
     <td><br>Data on device changes</td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>It is based on capabilities. Data Change Listener notices changes by using Calendar <b>/</b> Contacts API. If there are any changes of Calendar <b>/</b> Contacts data, Sync Manager notices the changes and scheduls a sync job. <br>Changing data on Calendar DB includes in the case of Book, Event, and Todo changes. Changing data on Contacts DB includes add, remove, and modify a contacts.</p></span></td>
    </tr>
    <tr>
     <td><br>Network availability</td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>When a change in network status detected, a sync job occurs in the case of changing status of BT, WiFi, and Data Network.</p></span></td>
    </tr>
    <tr>
     <td><br>On demand</td>
     <td><p><span style="font-family: Courier New,Courier,monospace"><p>Sync schedule on demand is provided through the <a href="../../../../org.tizen.mobile.native.apireference/group__CAPI__SYNC__MANAGER__MODULE.html">Sync Manager</a> API. For using this feature, you can use the API, <b>'sync_manager_add_sync_job(account_h account, const char *capability, bundle *extra)'</b> function. It provides feature for scheduling sync job just one time.</p><p></p></span></td>
    </tr>
    <tr>
     <td><br>Sync schedule intervals</td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>Sync schedule intervals is provided through the <a href="../../../../org.tizen.mobile.native.apireference/group__CAPI__SYNC__MANAGER__MODULE.html">Sync Manager</a> API. For using this feature, you can use the API, <b>'sync_manager_add_periodic_sync_job(account_h account, const char *capability, bundle *extra, sync_period_e sync_period)'</b> function.
It provides feature for scheduling sync job regularly. Also, you can appoint intervals with using several enum values which provided through the Sync Manager API. <b>'sync_period'</b>.</p></span></td>
    </tr>
   </tbody>
  </table><br>


<h2 name="sync_capabilities" id="sync_capabilities">Sync Capabilities</h2>

<p>There are two capabilities. Those can receive data changed notifications of calendar, contacts by setting these capabilities. Also, if you use bundle API, you can deliver in the form of user_data to callback function by using key value pair.</p>
<p class="figure">Table: The kind of sync job options</p>
  <table border="1">
   <tbody>
    <tr>
     <th>Options</th>
     <th>Descriptions</th>
    </tr>
    <tr>
     <td><br>"http://tizen.org/account/capability/calendar"</td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>An capability for receiving notification when calendar data changed. Adding, updating, and deleting calendar data such as event, book, and todo.</p></span></td>
    </tr>
    <tr>
     <td><br>"http://tizen.org/account/capability/contact"</td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>An capability for receiving notification when contacts data changed. Adding, updating, and deleting contacts data such as name, phone number, E-mail.</p></span></td>
    </tr>
   </tbody>
  </table><br>


<h2 name="sync_options" id="sync_options">Sync Options</h2>

<p>There are two options which can set attributes of the sync job. It is required using bundle API to set the sync job. So, with the <a href="../../tutorials/sync_tutorial/sync_manager_tutorial.htm">Sync Manager Tutorial</a> and <a href="../../tutorials/app_tutorial/bundle_tutorial.htm">Bundle Tutorial</a>, you can set the sync option for syncing 'On demand' and 'Periodic' job. Also, if you use bundle API, you can deliver in the form of user_data to callback function by using key value pair.</p>
<p class="figure">Table: The kind of sync job options</p>
  <table border="1">
   <tbody>
    <tr>
     <th>Options</th>
     <th>Descriptions</th>
    </tr>
    <tr>
     <td><br>SYNC_OPTION_NO_RETRY</td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>An sync option to denote if retrying the sync request is allowed or not. If the option is set as false, a sync operation will retry when the job failed.</p></span></td>
    </tr>
    <tr>
     <td><br>SYNC_OPTION_EXPEDITED</td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>All of sync jobs are passed into sync job queue. This option is limited to the case of priorities. So, it just means giving priority. If the option is set as true, it gives a priority relative to the other jobs. In other words, both 'On demand' and 'Periodic' jobs which came to the queue simultaneously are influenced by the option.</p></span></td>
    </tr>
   </tbody>
  </table><br>


<h2 id="app_control" name="app_control">App Control</h2>

<p>App Control is a standard mechanism for using specific operations exported by applications in Tizen. With the <a href="../../../../org.tizen.mobile.native.apireference/group__CAPI__SYNC__ADAPTER__MODULE.html">Sync Adapter</a> API, you can receive notifications without using separately App Control API when starting <b>/</b> canceling sync job is scheduled. Also, apps doesn't be running state for receiving the notification anymore.
Below table is explaining the state of App Control operation which is related to a sync operation. Apps doesn't need to know about it, because those operations are set in daemon primitively.
<p class="figure">Table: The kind of App Control operations</p>
  <table border="1">
   <tbody>
    <tr>
     <th>Operations</th>
     <th>Values</th>
     <th>Descriptions</th>
    </tr>
    <tr>
     <td><br>APP_CONTROL_OPERATION_START_SYNC</td>
	 <td><span style="font-family: Courier New,Courier,monospace"><p>"http://tizen.org/appcontrol/operation/start_sync"</p></span></td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>start a sync operation by invoking service application callback.</p></span></td>
    </tr>
    <tr>
     <td><br>APP_CONTROL_OPERATION_CANCEL_SYNC</td>
	 <td><span style="font-family: Courier New,Courier,monospace"><p>"http://tizen.org/appcontrol/operation/cancel_sync"</p></span></td>
     <td><span style="font-family: Courier New,Courier,monospace"><p>cancel a sync operation by invoking service application callback.</p></span></td>
    </tr>
   </tbody>
  </table><br>


<script type="text/javascript" src="../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>

