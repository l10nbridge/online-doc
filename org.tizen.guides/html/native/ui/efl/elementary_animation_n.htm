<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../../../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../../../css/snippet.css" />
	<script type="text/javascript" src="../../../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../../../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../../../scripts/search.js" charset="utf-8"></script>
  <title>Elementary Animations</title> 
 </head> 
 <body onload="prettyPrint()" style="overflow: auto;">
 
 <div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile native" src="../../../images/mobile_s_n.png"/> <img alt="Wearable native" src="../../../images/wearable_s_n.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Dependencies</p>
		<ul class="toc">
			<li>Tizen Platform 2.4 and Higher for Mobile</li>
			<li>Tizen Platform 2.3.1 and Higher for Wearable</li>
		</ul>
		<p class="toc-title">Content</p>
		<ul class="toc">
			<li><a href="#Manage_Objects">Managing Transition Objects</a></li>
			<li><a href="#Use_Image">Using Images in a Transition</a></li>
			<li><a href="#Control_Transition">Controlling the Transition Properties</a></li>
			<li><a href="#Transitions2">Handling Transition Types</a></li>
			<li><a href="#Combine_Transitions">Using Parallel Transitions</a></li>
			<li><a href="#Animation_Chain">Chaining Multiple Transitions Together</a></li>
			<li><a href="#Custom_Transition">Creating Custom Transitions</a></li>	
		</ul>
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../../../org.tizen.native.mobile.apireference/group__Elementary.html">Elementary API for Mobile Native</a></li>
			<li><a href="../../../../../org.tizen.native.wearable.apireference/group__Elementary.html">Elementary API for Mobile Wearable</a></li>
			</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">

  <h1>Elementary Animations</h1> 

<p>Elementary animations allow you to apply various transition effects, such as translation and rotation, to Evas objects. Elementary animations are mostly based on Ecore animators, but provide some transition methods at a higher abstraction level. Elementary animations provide a simpler way of animating objects than Ecore animators or Edje animations.</p>

<p>Use Elementary animations only when Edje animations are not sufficient. Edje animations are better at handling transitions, have more flexibility, and can be manipulated inside themes. The only drawback is that Edje animations have their own definition language (the EDC files). If you want to code with the C language, use Elementary animations.</p>

<p>Elementary animations are based on the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object, which stores all the information related to the transition effects to be used, the affected objects (you can perform transitions on 1 or more objects), and the animation details (such as the duration and number of repetitions). To use Elementary animations, you must create an <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object and define the desired transitions using the object functions. After the transitions are registered, they are automatically managed: their callback functions are called for the set duration, and they are deleted upon completion.</p>

<p>To create a transition, build the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object using the <span style="font-family: Courier New,Courier,monospace;">elm_transit_add()</span> function, define an Evas object to be animated, and add transition type effects and properties. The created transit object starts playing as soon as the application enters the main loop.</p>
<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
/* Define Evas object to be animated */
/* Add effects and properties */

/* Start the transition */
elm_transit_go(transit);
</pre>

<h2 id="Manage_Objects" name="Manage_Objects">Managing Transition Objects</h2>

<p>To manage the objects on which the transition is performed:</p>
<ul>
<li>To add your Evas objects to a transition, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_object_add()</span> function. The first parameter is the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> instance and the second is the Evas object to animate.

<table class="note">
<tbody>
<tr>
<th class="note">Note</th>
</tr>
<tr>
<td class="note">The Evas object can be a low-level component, such as a rectangle, but also a UI component, such as a button, image, or calendar.
<p>To animate an Evas object handled by a container, such as a box, you need to either unpack the object before the animation or animate the whole container.</p></td>
</tr>
</tbody>
</table>
</li>
<li>To determine on which objects the transition is performed (which objects have been added to the transition), use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_objects_get()</span> function to retrieve a list of objects.
</li>
<li>To remove objects from the transition, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_object_remove()</span> function. The first parameter is the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> instance and the second is the Evas object to remove.

<table class="note">
<tbody>
<tr>
<th class="note">Note</th>
</tr>
<tr>
<td class="note">After you have added at least 1 Evas object to your transition, the transition is automatically deleted when the object list becomes empty (either because the translation has been terminated or all objects have been deleted).
<p>Otherwise, you have to delete the transition manually using the <span style="font-family: Courier New,Courier,monospace;">elm_transit_del()</span> function. If you delete the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> instance while the transition is running, the transition stops.</p></td>
</tr>
</tbody>
</table>
</li>
</ul>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
/* Add an object */
elm_transit_object_add(transit, obj);

/* Retrieve list of added objects */
elm_transit_objects_get(transit);

/* Remove the object */
/* If this is the only object, the transition is deleted automatically */
elm_transit_object remove(transit, obj);

/* If there are other objects, delete the transition manually */
elm_transit_del(transit);
</pre>

<h2 id="Use_Image" name="Use_Image">Using Images in a Transition</h2>

<p>You can animate images in 2 ways: you can manage the UI components which have the images, or you can add the images to an Elementary transition and animate them as Evas objects.</p>

<p>To add images to a transition:</p>
<ol>
<li>Create an Eina list and add the paths of the images you want to animate to the list.</li>
<li>Add the image list to the transition with the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_image_animation_add()</span> function.</li>
<li>Define the image transitions the same way as any other object transitions.</li>
</ol>

<table class="note">
<tbody>
<tr>
<th class="note">Note</th>
</tr>
<tr>
<td class="note">This list and its contents are deleted after the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object ends the transition effect.</td>
</tr>
</tbody>
</table>


<pre class="prettyprint">
char buf[PATH_MAX];
Eina_List *images = NULL;
Elm_Transit *transit = elm_transit_add();
snprintf(buf, sizeof(buf), &quot;%s/images/btn_default.png&quot;, PACKAGE_DATA_DIR);
images = eina_list_append(images, eina_stringshare_add(buf));
snprintf(buf, sizeof(buf), &quot;%s/images/btn_hover.png&quot;, PACKAGE_DATA_DIR);
images = eina_list_append(images, eina_stringshare_add(buf));
elm_transit_effect_image_animation_add(transit, images);

/* Define the transition type and properties */
</pre>


<h2 id="Control_Transition" name="Control_Transition">Controlling the Transition Properties</h2>

<p>You can control the duration, timeline, acceleration, repeat, and auto-reverse properties of the transition.</p>

<h3 id="Animation_Duration" name="Animation_Duration">Duration</h3>

<p>You must set the transition duration for the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object.</p>
<p>To manage the duration:</p>
<ul>
<li>To set the duration, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_duration_set()</span> function. The first parameter is the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> instance and the second is the duration in seconds.

<table class="note">
<tbody>
<tr>
<th class="note">Note</th>
</tr>
<tr>
<td class="note">The purpose of the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object is to abstract the low-level details of object interpolation, so you cannot create an infinite transition by specifying the duration. However, you can make your transition last forever using the repeat function.</td>
</tr>
</tbody>
</table>

<p>The following example shows how to make a complete revolution of the target Evas object in 2 seconds:</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, my_evas_object);
/* Set a 360 degree rotation as the transition type */
elm_transit_effect_rotation_add(transit, 0.0, 360);
/* Set the duration */
elm_transit_duration_set(transit, 2.0);
elm_transit_go(transit);
</pre>
</li>
<li>To get the transition duration, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_duration_get()</span> function.
</li>
</ul>

<h3 id="Animation_Timeline" name="Animation_Timeline">Timeline</h3>
<p>To manage the timeline:</p>
<ul>
<li>After you have defined all the properties that define your transition, start the transition with the <span style="font-family: Courier New,Courier,monospace;">elm_transit_go()</span> function.
</li>
<li>You can maintain full control over the execution process even after the transition has started. You can pause the transition by setting the paused parameter of the <span style="font-family: Courier New,Courier,monospace;">elm_transit_paused_set()</span> function to <span style="font-family: Courier New,Courier,monospace;">EINA_TRUE</span>. You can resume the transition with the same function by setting the paused parameter to <span style="font-family: Courier New,Courier,monospace;">EINA_FALSE</span>.</li>
<li>To determine whether the transition is currently paused, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_paused_get()</span> function.</li>
<li>You can remain informed about the present transition flow and get the current frame with the <span style="font-family: Courier New,Courier,monospace;">elm_transit_progress_value_get()</span> function. This function returns the timeline position of the animation, ranging between 0.0 (start) and 1.0 (end).</li>
</ul>
<pre class="prettyprint">
elm_transit_go(transit);
/* Pause */
elm_transit_paused_set(transit, EINA_TRUE);
/* Resume */
elm_transit_paused_set(transit, EINA_FALSE);
/* Get the timeline position */
elm_transit_progress_value_get(transit);
</pre>

<h3 id="Acceleration_Mode" name="Acceleration_Mode">Acceleration</h3>

<p>You can control the acceleration (tween) mode of the animation. The <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object supports a number of built-in interpolation methods, which provide different acceleration modes. By default, all interpolations are linear.</p> 
<p>To manage the tween mode:</p>
<ul>
<li>To change the tween mode, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_tween_mode_set()</span> function. The first parameter is the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> instance and the second is the tween mode of the transition, which is defined by the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit_Tween_Mode</span> enumeration (in <a href="../../../../../org.tizen.native.mobile.apireference/group__Transit.html#ga954ecd9ba6266a18a0bde0e5861ccc53">mobile</a> and <a href="../../../../../org.tizen.native.wearable.apireference/group__Transit.html#ga954ecd9ba6266a18a0bde0e5861ccc53">wearable</a> applications).

<pre class="prettyprint">
elm_transit_tween_mode_set(transit, ELM_TRANSIT_TWEEN_MODE_LINEAR);
</pre>
</li>
<li>To get the current tween mode, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_tween_mode_get()</span> function.
</li>
</ul>

<h3 id="Animation_Repeat" name="Animation_Repeat">Repeat</h3>

<p>To manage the repeat property:</p>
<ul>
<li>To set a transition to repeat, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_repeat_times_set()</span> function. The first parameter is the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> instance and the second is the number of times the transition is repeated.

<table class="note">
<tbody>
<tr>
<th class="note">Note</th>
</tr>
<tr>
<td class="note">If the <span style="font-family: Courier New,Courier,monospace;">repeat</span> parameter is set to 0, the transition does not loop at all. If set to 1, the transition runs twice. If set to a negative value, the transition repeats forever.</td>
</tr>
</tbody>
</table>
<p>The following example shows how to make an Evas object spin for 3 complete revolutions in 6 seconds:</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, my_evas_object);
/* Set a 360 degree rotation as the transition type */
elm_transit_effect_rotation_add(transit, 0.0, 360);
/* Set the duration of one rotation to 2 seconds */
elm_transit_duration_set(transit, 2.0);
/* Set the number of repeats to 3 */
elm_transit_repeat_set(transit, 3.0);
elm_transit_go(transit);
</pre>
</li>
<li>
<p>To get the repeat value, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_repeat_times_get()</span> function. The default value is 0.</p>
</li>
</ul>

<h3 id="Auto_Reverse" name="Auto_Reverse">Auto-reverse</h3>

<p>To manage the auto-reverse property:</p>
<ul>
<li>To automatically reverse the transition once it finishes, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_auto_reverse_set()</span> function. The first parameter is the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> instance and the second is the reverse state. If the reverse state is set to <span style="font-family: Courier New,Courier,monospace;">EINA_TRUE</span>, the function performs the same transition backwards as soon as the first transition is complete.

<table class="note">
<tbody>
<tr>
<th class="note">Note</th>
</tr>
<tr>
<td class="note">
    Reversing the transition doubles the duration of the transition. Moreover, if the transition is set to repeat, the transition runs back and forth until the repeat count is finished.
    <p>If both the auto-reverse and repeat properties are set, the total duration is: 2 * &lt;duration&gt; * &lt;repeat&gt;.</p>
</td>
</tr>
</tbody>
</table>

<p>The following example shows how to make an object perform half a turn and then reverse the animation to its original position in 4 seconds:</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, my_evas_object);
/* Set a 360 degree rotation as the transition type */
elm_transit_effect_rotation_add(transit, 0.0, 360);
/* Set the duration of one rotation to 2 seconds */
elm_transit_duration_set(transit, 2.0);
/* Set the auto-reverse on */
elm_transit_auto_reverse_set(transit, EINA_TRUE);
elm_transit_go(transit);
</pre>
</li>
<li>
<p>To determine whether the auto-reverse mode is enabled, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_auto_reverse_get()</span> function.</p>
</li>
</ul>

<h2 id="Transitions2" name="Transitions2">Handling Transition Types</h2>

<p>There are 2 main transition types:</p>
<ul>
<li>Transitions that are applied to the object properties, such as position, size, angle, and color.</li>
<li>Transitions from one object to another, where the first object is hidden to let the second one appear.</li>
</ul>
<p>All transitions are based on the same principle: first set the start and the end values for the properties to animate, then define the lifespan of the animation, and finally settle the preferred interpolation method (such as linear, acceleration, or bounce).</p>

<p>You must declare the transitions after the parent window has been created, since the transition effects make use of the geometric properties of the parent window. If the parent window does not yet exist when calculating the interpolation, the interpolation can be created based on the wrong information.</p>

<p>The <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object provides several built-in transition definitions that are useful for the most common cases, so you do not have to code them from scratch. The following list defines how you can add different transition type effects to the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> instance. To delete an added effect, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_del()</span> function.</p>

<p>To add effects for different transition types:</p>
<ul>
<li>Translation
<p>To perform a translation on an Evas object (move it from one position to another), use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_translation_add()</span> function.</p>


<p>The following example shows how to slide an Evas object (a rectangle) on a diagonal line from the top-left corner of the screen 280 pixels down and right. The transition uses a constant speed and happens in 1 second.</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, rectangle);
elm_transit_effect_translation_add(transit, 0, 0, 280, 280);
elm_transit_duration_set(transit, 1);
elm_transit_go(transit);
</pre>
</li>
<li>Color transition

<p>Color transitions allow you to dynamically change the color of Evas objects using the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_color_add()</span> function. You can also control the opacity of the color (the background of the object, not the object itself) through an alpha channel parameter.</p>

<p>The following example shows how to change a rectangle from red to blue in 3 seconds:</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, rectangle);
elm_transit_effect_color_add(transit, /* Target object */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255, 0, 0, 255, /* From color, with alpha channel 255 */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0, 0, 255, 255); /* To color, with alpha channel 255 */
elm_transit_duration_set(transit, 3);
elm_transit_go(transit);
</pre>
</li>
<li>Rotation
<p>To implement a rotation transition on any Evas object, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_rotation_add()</span> function. The function defines the start and end angles of the rotation.</p>

<p>If you apply a rotation on multiple objects, they individually mill around and do not act as a group. If you want several objects to revolve around a common point, you must encapsulate the objects into a single parent object and apply the rotation to the parent object, as shown in the following example:</p>

<pre class="prettyprint">
/* Parent container */
Evas_Object *parent = elm_box_add(my_window);
evas_object_show(parent);
elm_box_horizontal_set(parent, EINA_TRUE);
elm_box_homogeneous_set(parent, EINA_TRUE);

/* Button 1 */
Evas_Object *btn1 = elm_button_add(parent);
elm_object_text_set(btn1, &quot;Btn1&quot;);
elm_box_pack_start(parent, btn1);
evas_object_show(btn1);

/* Button 2 */
Evas_Object *btn2 = elm_button_add(parent);
elm_object_text_set(btn2, &quot;Btn2&quot;);
elm_box_pack_end(parent, btn2);
evas_object_show(btn2);

/* Make the parent container do a 360-degree spin in 2 seconds */
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, parent);
elm_transit_effect_rotation_add(transit, 0.0, 360);
elm_transit_duration_set(transit, 2.0);
elm_transit_go(transit);
</pre>
</li>
<li>Wipe effect

<p>The wipe effect is designed to dynamically hide or show any element on the scene using the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_wipe_add()</span> function.</p>
<p>The following example shows how to make an object disappear progressively from left to right in 2 seconds:</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, my_evas_object);
elm_transit_effect_wipe_add(transit,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELM_TRANSIT_EFFECT_TYPE_HIDE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELM_TRANSIT_EFFECT_WIPE_DIR_RIGHT);
elm_transit_duration_set(transit, 2.0);
elm_transit_go(transit);
</pre>
</li>
<li>Zoom effect
<p>To implement a zoom effect, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_zoom_add()</span> function. The function defines the size of the object at the start and end of the animation. The start size is defined as the scale of the object, with the value 1 representing the initial scale of the object. The end size is defined based on the start size, so that the value 2 means that the object size (height and width) is doubled. </p>

<p>The zoom effect does not change the width and height ratio of the object. To customize the zoom effect on the width and height attributes, use the resizing effect described below.</p>

<p>The following example shows how to implement a zoom-out transition. At the end of the 2-second transition, the animated object is half its original size.</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, my_evas_object);
elm_transit_effect_zoom_add(transit, 1, 0.5);
elm_transit_duration_set(transit, 2.0);
elm_transit_go(transit);
</pre>
</li>

<li>Resizing effect

<p>The resizing effect allows you to design an interpolation of the width and height attributes of one or more target elements using the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_resizing_add()</span> function. The function defines the width and height of the object at the start and end of the animation.</p>

<table class="note">
<tbody>
<tr>
<th class="note">Note</th>
</tr>
<tr>
<td class="note">Do not use this function to hide an Evas object by setting one of the length attributes to zero. Use the wipe effect described above instead.</td>
</tr>
</tbody>
</table>

<p>The following example shows how to make a rectangle exchange its width and height properties in a 2-second transition:</p>

<pre class="prettyprint">
Evas_Coord w, h;
evas_object_geometry_get(my_evas_object, NULL, NULL, &amp;w, &amp;h);

Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, my_evas_object);
elm_transit_effect_resize_add(transit, /* Transition object */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w, h, /* Original size */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h, w); /* Target size */
elm_transit_duration_set(transit, 2.0);
elm_transit_go(transit);
</pre>
</li>
<li>Flip effect
<p>The flip effect is a pseudo-3D effect where the first object in a pair is the front object and the second one is the back object. When the transition launches, the front object rotates around a preferred axis in order to let the back object take its place.</p>
<p>This flip effect combines the target Evas objects in pairs in the order they are listed in the transit object list. If you have more than 2 objects, each even object in the list is paired with the following odd object so that the even objects are shown at the beginning of the animation, and the odd objects when the transition is complete.</p>

<p>To implement a flip effect, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_flip_add()</span> function.</p>

<p>The following example shows how to create a coin that flips indefinitely. The example uses images as Elementary UI components for demonstration purposes. If you want to <a href="#Use_Image">use the images directly as Evas objects</a>, use the  <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_image_animation_add()</span> function.</p>

<pre class="prettyprint">
/* Coin head image */
Evas_Object *coin_heads = elm_image_add(ad-&gt;win);
if (!elm_image_file_set(coin_heads, IMG_DIR&quot;/coin_heads.png&quot;, NULL))
&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;error: could not load image&quot;);
elm_win_resize_object_add(ad-&gt;win, coin_heads);

/* Coin tail image */
Evas_Object *coin_tails = elm_image_add(ad-&gt;win);
if (!elm_image_file_set(coin_tails, IMG_DIR&quot;/coin_tails.png&quot;, NULL))
&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;error: could not load image&quot;);
elm_win_resize_object_add(ad-&gt;win, coin_tails);

/* Transition definition */
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, coin_heads);
elm_transit_object_add(transit, coin_tails);
/* Flip takes 2 seconds */
elm_transit_duration_set(transit, 2.0);
elm_transit_auto_reverse_set(transit, EINA_TRUE);
/* Repeats indefinitely */
elm_transit_repeat_times_set(transit, -1);
/* Flips clockwise around the X axis */
elm_transit_effect_flip_add(transit, ELM_TRANSIT_EFFECT_FLIP_AXIS_X, EINA_TRUE);
elm_transit_go(transit);
</pre>

<p class="figure">Figure: Coin flip</p>
<p align="center"><img alt="Coin flip" src="../../../images/coin_flip_effect.png" /></p>
</li>

<li>Resizable flip effect
<p>In the flip example above, 2 objects of the same size are used. You can also flip objects with different size attributes, such as buttons with dimensions that depend on their content (such as labels).</p>
<p>If you decide to use the standard flip effect, the size of the object changes at the moment one object becomes completely hidden and the other one begins to show up. To interpolate the size attributes in the transition, use the resizable flip effect with the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_resizable_flip_add()</span> function. The function works the exact same way as the standard flip effect function.</p>
</li>
<li>Fade effect

<p>To transition from one Evas object to another one using a fading effect where the first object slowly disappears to let the second object take its place, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_fade_add()</span> function.</p>

<p>The effect is applied to each pair of objects in the order in which they are listed in the transit object list. The first object in the pair is the before object and the second one is the after object.</p>

<p>Building on the coin flip example above, the following example shows how to fade out one face of the coin while fading in the other face:</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, coin_heads);
elm_transit_object_add(transit, coin_tails);
elm_transit_duration_set(transit, 2.0);
elm_transit_effect_fade_add(transit);
elm_transit_go(transit);
</pre>

<p>To hide an object with a fade transition, use a transparent after object.</p>
</li>
<li>Blend effect

<p>To transition from one Evas object to another one using a blend effect where the first object becomes blurry before the second object appears, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_blend_add()</span> function.</p>

<p>Building on the coin flip example above, the following example shows how to blur out one face of the coin while blurring in the other face:</p>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, coin_heads);
elm_transit_object_add(transit, coin_tails);
elm_transit_duration_set(transit, 2.0);
elm_transit_effect_blend_add(transit);
elm_transit_go(transit);
</pre>

<p>To hide an object with a blend transition, use a transparent after object.</p>
</li>
</ul>

<h2 id="Combine_Transitions" name="Combine_Transitions">Using Parallel Transitions</h2>

<p>To use multiple transitions at the same time on the same objects, create the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object and define multiple transition types for it one after another.</p>

<p>Building on the coin flip example in the previous section above, the following example shows how to roll the coin on the ground using parallel rotation and translation effects:</p>

<pre class="prettyprint">
Evas_Object *coin_heads = elm_image_add(ad-&gt;win);
if (!elm_image_file_set(coin_heads, IMG_DIR&quot;/coin_heads.png&quot;, NULL))
&nbsp;&nbsp;&nbsp;&nbsp;printf(&quot;error: could not load image&quot;);
evas_object_resize(coin_heads, 100, 100);
evas_object_show(coin_heads);

Elm_Transit *transit = elm_transit_add();
elm_transit_object_add(transit, coin_heads);
elm_transit_duration_set(transit, 5.0);
elm_transit_effect_translation_add(transit, 0, 0, 3.1415 * 2 * 100, 0);
elm_transit_effect_rotation_add(transit, 0, 360);
elm_transit_go(transit);
</pre>

<h2 id="Animation_Chain" name="Animation_Chain">Chaining Multiple Transitions Together</h2>

<p>To create complex, chained animations without worrying about synchronization between the transitions, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_chain_transit_add()</span> function. This function takes 2 <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> objects as parameters, and automatically takes care of the chaining: the second transition starts as soon as the first transition is finished.</p>

<p>The following example shows how to move a datetime component on a square trajectory:</p>

<pre class="prettyprint">
Evas_Object *dt = elm_datetime_add(ad-&gt;win);
evas_object_resize(dt, 350, 50);
evas_object_show(dt);

/* First Elm_Transit: move datetime right */
Elm_Transit *t1 = elm_transit_add();
elm_transit_object_add(t1, dt);
elm_transit_duration_set(t1, 2);
elm_transit_effect_translation_add(t1, 0, 0, 100, 0);

/* Second Elm_Transit: move datetime up */
Elm_Transit *t2 = elm_transit_add();
elm_transit_object_add(t2, dt);
elm_transit_duration_set(t2, 2);
elm_transit_effect_translation_add(t2, 100, 0, 100, 100);

/* Third Elm_Transit: move datetime left */
Elm_Transit *t3 = elm_transit_add();
elm_transit_object_add(t3, dt);
elm_transit_duration_set(t3, 2);
elm_transit_effect_translation_add(t3, 100, 100, 0, 100);

/* Fourth Elm_Transit: move datetime down */
Elm_Transit *t4 = elm_transit_add();
elm_transit_object_add(t4, dt);
elm_transit_duration_set(t4, 2);
elm_transit_effect_translation_add(t4, 0, 100, 0, 0);

/* Chain the transitions */
elm_transit_chain_transit_add(t1, t2);
elm_transit_chain_transit_add(t2, t3);
elm_transit_chain_transit_add(t3, t4);

/* Start the first transition */
elm_transit_go(t1);
</pre>


<p>To manage the transition chain:</p>
<ul>
<li>To create a looped animation chain, you have to use low-level components provided by the Ecore and Evas transition libraries.
<p>Alternatively, you can use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_del_cb_set()</span> function to define a callback for when a transition gets deleted. This way, you can recreate your objects and reiterate the transition chain as soon as the last transition ends.</p>
<p>The first parameter is the transition object. The second parameter is the callback function to run on transition delete. The third parameter is the data to pass to the callback function.</p>
<pre class="prettyprint">
elm_transit_del_cb_set(transit, on_transition_deleted, callback_data);
</pre>


<table class="note">
<tbody>
<tr>
<th class="note">Note</th>
</tr>
<tr>
<td class="note">You cannot use transition chaining to make a loop animation, since the transit object is automatically destroyed as soon as the transition completes. Therefore, building on the above example, you cannot loop back from the <span style="font-family: Courier New,Courier,monospace;">t4</span> transit object to the <span style="font-family: Courier New,Courier,monospace;">t1</span> transit object, because the <span style="font-family: Courier New,Courier,monospace;">t1</span> transit object is already deleted at the beginning before the <span style="font-family: Courier New,Courier,monospace;">t2</span> transit object is run:

<pre class="prettyprint">
/* Impossible loop */
elm_transit_chain_transit_add(t4, t1);
</pre>
</td>
</tr>
</tbody>
</table>

</li>
<li>
<p>You can severe the chain relationship between 2 transit objects using the <span style="font-family: Courier New,Courier,monospace;">elm_transit_chain_transit_del()</span> function with the transit objects as parameters:</p>
<pre class="prettyprint">
elm_transit_chain_transit_del(transit1, transit2);
</pre>


</li>
<li>
<p>To get the current chain transit list, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_chain_transits_get()</span> function.</p>
</li>
</ul>


<h2 id="Custom_Transition" name="Custom_Transition">Creating Custom Transitions</h2>

<p>To implement the custom effects, use the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_add()</span> function. You can define custom transitions with any effects applied to some context data. The function relies on 3 callbacks that allow you to define every aspect of your transition from its creation to its deletion.</p>

<p>To build a custom resizing animation:</p>
<ol>
<li>
<p>Define a structure capable of holding the context information about resizing an Evas object:</p>

<pre class="prettyprint">
struct _Custom_Effect {
&nbsp;&nbsp;&nbsp;&nbsp;struct _size {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evas_Coord w, h;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;from, to;
};
typedef struct _Custom_Effect Custom_Effect;
</pre>
</li>
<li>
<p>Implement the callback for the custom effect operation, in this case, resizing. This callback actually performs the animation. The callback takes the following parameters:</p>

<ul>
<li>Context data that holds the custom properties of the transition, which are used as parameters to calculate the interpolation</li>
<li>Transit object</li>
<li>Progress (position along the animation timeline) that ranges from 0.0 to 1.0 and allows you to calculate the desired interpolation for each frame</li>
</ul>
<p>The following example resizes the Evas objects in 2 steps. During the first half of the transition, only the height changes, while the width remains the same. During the second half, the width changes while the height remains the same.</p>
<pre class="prettyprint">
static void
_custom_op(void *data, Elm_Transit *transit, double progress)
{
&nbsp;&nbsp;&nbsp;&nbsp;if (!data)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Coord w, h;
&nbsp;&nbsp;&nbsp;&nbsp;Evas_Object *obj;
&nbsp;&nbsp;&nbsp;&nbsp;const Eina_List *elist;
&nbsp;&nbsp;&nbsp;&nbsp;Custom_Effect *custom_effect = data;
&nbsp;&nbsp;&nbsp;&nbsp;const Eina_List *objs = elm_transit_objects_get(transit);
&nbsp;&nbsp;&nbsp;&nbsp;/* During the first half, modify the height */
&nbsp;&nbsp;&nbsp;&nbsp;if (progress &lt; 0.5) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h = custom_effect-&gt;from.h + (custom_effect-&gt;to.h * progress * 2);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w = custom_effect-&gt;from.w;
&nbsp;&nbsp;&nbsp;&nbsp;} else {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* During the second half, modify the width */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h = custom_effect-&gt;from.h + custom_effect-&gt;to.h;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w = custom_effect-&gt;from.w + (custom_effect-&gt;to.w * (progress - 0.5) * 2);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;EINA_LIST_FOREACH(objs, elist, obj)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evas_object_resize(obj, w, h);
}
</pre>


</li>
<li>
<p>Define the context used by the effect:</p>
<pre class="prettyprint">
static void*
_custom_context_new(Evas_Coord from_w, Evas_Coord from_h, Evas_Coord to_w, Evas_Coord to_h)
{
&nbsp;&nbsp;&nbsp;&nbsp;Custom_Effect *custom_effect;

&nbsp;&nbsp;&nbsp;&nbsp;custom_effect = calloc(1, sizeof(Custom_Effect));
&nbsp;&nbsp;&nbsp;&nbsp;if (!custom_effect)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return NULL;

&nbsp;&nbsp;&nbsp;&nbsp;custom_effect-&gt;from.w = from_w;
&nbsp;&nbsp;&nbsp;&nbsp;custom_effect-&gt;from.h = from_h;
&nbsp;&nbsp;&nbsp;&nbsp;custom_effect-&gt;to.w = to_w - from_w;
&nbsp;&nbsp;&nbsp;&nbsp;custom_effect-&gt;to.h = to_h - from_h;

&nbsp;&nbsp;&nbsp;&nbsp;return custom_effect;
}
</pre>
</li>
<li>
<p>Define the delete callback that is called at the end of the effect, removes all the context objects used by your custom transition, and frees up the allocated memory:</p>

<pre class="prettyprint">
static void
_custom_context_free(void *data, Elm_Transit *transit __UNUSED__)
{
&nbsp;&nbsp;&nbsp;&nbsp;free(data);
}
</pre>
</li>
<li>

<p>Apply the custom transition to the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object using the <span style="font-family: Courier New,Courier,monospace;">elm_transit_effect_add()</span> function:</p>
<ul>
<li>The first parameter is the <span style="font-family: Courier New,Courier,monospace;">Elm_Transit</span> object.</li>
<li>The second parameter is the custom effect operation callback.</li>
<li>The third parameter is the context of the new effect.</li>
<li>The fourth parameter is the delete callback.</li>
</ul>

<pre class="prettyprint">
Elm_Transit *transit = elm_transit_add();
elm_transit_effect_add(transit,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_custom_op,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_custom_context_new(),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_custom_context_free);
</pre>
</li>
</ol>
  
<table class="note">
    <tbody>
        <tr>
            <th class="note">Note</th>
        </tr>
        <tr>
            <td class="note">Except as noted, this content is licensed under <a href="http://opensource.org/licenses/LGPL-2.1" target="_blank">LGPLv2.1+</a>.</td>
        </tr>
    </tbody>
</table>  
  
<script type="text/javascript" src="../../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>