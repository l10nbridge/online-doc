<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <link rel="stylesheet" type="text/css" href="../../css/styles.css" />
    <link rel="stylesheet" type="text/css" href="../../css/snippet.css" />
    <script type="text/javascript" src="../../scripts/snippet.js"></script>
    <script type="text/javascript" src="../../scripts/jquery.util.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../scripts/common.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../scripts/core.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../scripts/search.js" charset="utf-8"></script>
  <title>Key Manager</title>
 </head>
 <body onload="prettyPrint()" style="overflow: auto;">

 <div id="toc-navigation">
    <div id="profile">
        <p><img alt="Mobile native" src="../../images/mobile_s_n.png"/> <img alt="Wearable native" src="../../images/wearable_s_n.png"/></p>
    </div>

    <div id="toc_border"><div id="toc">
        <p class="toc-title">Related Info</p>
        <ul class="toc">
            <li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm">Key Manager Tutorial</a></li>
			<li><a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__KEY__MANAGER__MODULE.html">Key Manager API for Mobile Native</a></li>
			<li><a href="../../../../org.tizen.native.wearable.apireference/group__CAPI__KEY__MANAGER__MODULE.html">Key Manager API for Wearable Native</a></li>
            </ul>
    </div></div>
</div>

<div id="container"><div id="contents"><div class="content">
<h1>Key Manager</h1>

<p>The key manager provides functions to securely store keys, certificates, and sensitive data related to users and their password-protected APPs. Additionally, it provides secure cryptographic operations for non-exportable keys without revealing the key values to clients.</p>


<p> A key manager stores keys, certificates, and sensitive user data in a central secure repository. The central secure repository is protected by a password.</p>

<p>The main features of the Key Manager API include:</p>

<ul>
<li>Data store policy
<p>A client can specify simple access rules when storing data in the key manager:</p>
<ul>
<li>Extractable or non-extractable
	<ul>
	<li>Only for data tagged as extractable, the key manager returns the raw value of the data.</li>
	<li>If data is tagged as non-extractable, the key manager does not return its raw value. In that case, the key manager provides secure cryptographic operations for non-exportable keys without revealing the key values to the clients.</li></ul></li>
<li>Per key password
	<ul>
	<li>All data in the key manager is protected by a user password.</li>
	<li>A client can encrypt its data using their own password additionally.</li>
	<li>If a client provides a password when storing data, the data is encrypted with the password. This password must be provided when getting the data from the key manager.</li></ul></li>
	</ul>
</li>
<li>User login

<p>The user login control is implemented as follows:</p>

<ul>
<li>A user&#39;s database file is encrypted by the user&#39;s DKEK (domain key encryption key). A DKEK of a user is randomly generated and stored as encrypted with a user password when a user logs in for the first time.</li>
<li>When a user logs in, the key manager decrypts the user DKEK with a user password. During the login session, any client can access the data which is protected by a user password. When a user logs out, the key manager removes the user DKEK from the memory.</li>
<li>When a user logs in, logs out, or changes their password, the key manager must be notified. Only privileged APPs, such as LockScreen APP or Setting APP, can notify the key manager.</li>
<li>When a user changes their password, the key manager re-encrypts the user DKEK with the new password.</li>
</ul>
</li>

<li>Data access control

<p>By default, only the owner of a data can access to the data. If the owner grants the access to other applications, those applications can read or delete the data from the key manager database.</p>
<p>When an application is deleted, the data and access control information granted by the application are also removed.</p>
</li>
</ul>

   <p class="figure">Figure: Key manager process</p> 
   <p align="center"><img alt="Key manager process" src="../../images/key_manager.png" /></p> 

<p>The key manager provides 2 types of APIs (in <a href="../../../../org.tizen.native.mobile.apireference/group__CAPI__KEY__MANAGER__MODULE.html">mobile</a> and <a href="../../../../org.tizen.native.wearable.apireference/group__CAPI__KEY__MANAGER__MODULE.html">wearable</a> applications):</p>
<ul>
<li>Secure repository APIs <p>All APPs can use the secure repository APIs to:</p>
<ul>
<li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#savingkey">Save, get, or remove a key</a></li>

<li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#savingcert">Save, get, or remove a certificate</a></li>

<li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#savingdata">Save, get, or remove data</a></li>
</ul></li>
<li>Secure crypto APIs <p>The key manager provides the secure crypto APIs for the non-extractable keys and certificates to:</p>
<ul>
<li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#creatingkey">Create key pairs</a></li>

<li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#creatingsignat">Create or verify signatures</a></li>

<li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#verifying">Verify or get a certificate chain</a></li>

<li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#pkcs">Load a certificate or a PKCS#12 file</a></li>

<li><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#access">Implement access control</a></li>
</ul>
</li>
</ul>

<p><a href="../../../../org.tizen.tutorials/html/native/security/key_tutorial_n.htm#initialize">Initialize the key manager</a> before you start.</p>

<script type="text/javascript" src="../../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>