<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../css/snippet.css" />
	<script type="text/javascript" src="../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/search.js" charset="utf-8"></script>

	<title>AppCaller and AppCallee Sample Overview</title>  
</head>

<body onload="prettyPrint()" style="overflow: auto;">

<div id="toc-navigation">
	<div id="profile">
		<p><img alt="Wearable Web" src="../images/ww_icon.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../org.tizen.guides/html/web/tizen/application/application_w.htm">Application Guide</a></li>  
			<li><a href="../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html">Application API</a></li>	   
		</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">
  <h1>AppCaller and AppCallee Sample Overview</h1>
  <p>The AppCaller and AppCallee sample applications demonstrate how you can use the application control to call other applications based on the operation type.</p>
  <p>For information on creating the sample application project in the IDE, see <a href="../cover_page.htm#create">Creating Sample Applications</a>.</p>
  <p>The following figure illustrates the main screens of the AppCaller and AppCallee.</p>
  <p class="figure">Figure: AppCaller and AppCallee screens</p>
  <p align="center"><img alt="AppCaller and AppCallee screens" src="../images/appcalleecaller_ww.png" /> </p>


  <p>The AppCaller application is used to call the AppCallee application, which returns an emoji to the AppCaller:</p>

<ol><li>In the AppCaller, make the call by clicking <strong>Call App</strong>.
<p>In the AppCallee, information about the call is displayed on the screen along with a list of emojis. </p></li>
<li>In the AppCallee, click the emoji you want to return to the AppCaller.
<p>The AppCaller displays the selected emoji.</p></li></ol>
  
<h2>Prerequisites</h2>
  
<ul><li><p>Since the AppCaller and AppCallee applications work best along with each other, both applications must be installed before you try to run either of them.</p></li></ul>


  <h2>Source Files</h2>
  <p>You can create and view the sample application project including the source files in the IDE.</p>
  <table border="1">
   <tbody>
    <tr>
     <th>File name</th>
     <th>Description</th>
    </tr>
    <tr>
     <td><span style="font-family: Courier New,Courier,monospace">appcallee/config.xml</span></td>
     <td>This file contains the application information for the platform to install and launch the application, including the operation type of the application.</td>
    </tr>
    <tr>
    <td><span style="font-family: Courier New,Courier,monospace">appcallee/css/style.css</span></td>
    <td>This file contains CSS styling for the application UI.</td>
    </tr>
    <tr>
     <td><span style="font-family: Courier New,Courier,monospace">appcallee/image/</span></td>
     <td>This directory contains the images used to create the user interface.</td>
    </tr>
    <tr>
     <td><span style="font-family: Courier New,Courier,monospace">appcallee/index.html</span></td>
     <td>This is a starting file from which the application starts loading. It contains the layout of the application screen.</td>
    </tr>
    <tr>
     <td><span style="font-family: Courier New,Courier,monospace">appcallee/js/main.js</span></td>
     <td>This file contains the code for handling the main application functionalities.</td>
    </tr>
    <tr>
     <td><span style="font-family: Courier New,Courier,monospace">appcaller/config.xml</span></td>
     <td>This file contains the application information for the platform to install and launch the application.</td>
    </tr>
    <tr>
     <td><span style="font-family: Courier New,Courier,monospace">appcaller/css/style.css</span></td>
     <td>This file contains CSS styling for the application UI.</td>
    </tr>
    <tr>
     <td><span style="font-family: Courier New,Courier,monospace">appcaller/image/</span></td>
     <td>This directory contains the images used to create the user interface.</td>
    </tr>
    <tr>
	<td><span style="font-family: Courier New,Courier,monospace">appcaller/index.html</span></td>
     <td>This is a starting file from which the application starts loading. It contains the layout of the application screen.</td>
    </tr>
    <tr>
     <td><span style="font-family: Courier New,Courier,monospace">appcaller/js/main.js</span></td>
     <td>This file contains the code for handling the main application functionalities.</td>
    </tr>
   </tbody>
  </table>
  
 
  <table class="note"> 
   <tbody> 
    <tr> 
     <th class="note">Note</th> 
    </tr> 
    <tr> 
     <td class="note">The Emoji set used in this application was designed and offered free by Emoji One. For more information on their license terms, see the <a href="http://emojione.com/" target="_blank">Emoji One</a> site.</td> 
    </tr> 
   </tbody> 
  </table>    

<h2>Implementation</h2>

<p>In the AppCallee application, the <span style="font-family: Courier New, Courier,monospace">&lt;tizen:app-control/&gt;</span> element of the configuration file provides a service description for the application control. The operation name describes an action to be performed by the application.</p>
   <pre class="prettyprint">
&lt;tizen:app-control&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:src name=&quot;index.html&quot;&gt;
&nbsp;&nbsp;&nbsp;&lt;tizen:operation name=&quot;http://tizen.org/appcontrol/operation/appcall&quot;/&gt;
&lt;/tizen:app-control&gt; </pre>

<p>In the AppCaller application, the <a href="../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#ApplicationControl">ApplicationControl</a> interface (consisting of an operation, URI, MIME type, and data) describes an action to be performed by the Callee application. When the system gets the application control request, it finds the corresponding application to perform the requested application control and launches the selected application.</p>
<pre class="prettyprint">
AppControl = new tizen.ApplicationControl(&#39;http://tizen.org/appcontrol/operation/appcall&#39;, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null, null, null);
</pre>
<p>In the AppCallee application, the <span style="font-family: Courier New,Courier,monospace">replyAppCaller()</span> function replies back to the AppCaller with the data on the selected emoji:</p>
<ul><li>The application control request passed to the AppCallee can be accessed by the <span style="font-family: Courier New,Courier,monospace">getRequestedAppControl()</span> function. The passed application control contains the reason the application was launched and information about what the application is doing.</li>
<li>The <span style="font-family: Courier New,Courier,monospace">ApplicationControlData</span> interface defines the key-value pair used to pass data between applications, and it is sent to the AppCaller through the <span style="font-family: Courier New,Courier,monospace">replyResult()</span> function of the <a href="../../../org.tizen.web.apireference/html/device_api/wearable/tizen/application.html#RequestedApplicationControl">RequestedApplicationControl</a> interface.</li></ul>
<pre class="prettyprint">
function replyAppCaller(text) 
{
&nbsp;&nbsp;&nbsp;reqAppControl = tizen.application.getCurrentApplication().getRequestedAppControl();

&nbsp;&nbsp;&nbsp;/* Construct result data */
&nbsp;&nbsp;&nbsp;data = new tizen.ApplicationControlData(&quot;text&quot;, [text]);

&nbsp;&nbsp;&nbsp;/* Reply to caller */
&nbsp;&nbsp;&nbsp;reqAppControl.replyResult([data]);
&nbsp;&nbsp;&nbsp;tizen.application.getCurrentApplication().exit();
}</pre>

<script type="text/javascript" src="../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>