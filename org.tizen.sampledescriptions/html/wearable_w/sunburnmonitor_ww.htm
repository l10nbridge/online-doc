<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../css/snippet.css" />
	<script type="text/javascript" src="../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/search.js" charset="utf-8"></script>

	<title>SunburnMonitor Sample Overview</title>  
</head>

<body onload="prettyPrint()" style="overflow: auto;">

<div id="toc-navigation">
	<div id="profile">
		<p><img alt="Wearable Web" src="../images/wearable_s_w.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Related Info</p>
		<ul class="toc">
		   <li><a href="../../../org.tizen.guides/html/web/tizen/system/sensor_w.htm">Sensor Guide</a></li> 
		   <li><a href="../../../org.tizen.web.apireference/html/device_api/wearable/tizen/sensor.html">Sensor API</a></li>		   
		</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">
  <h1>SunburnMonitor Sample Overview</h1> 
  <p>The SunburnMonitor sample application demonstrates how you can use the ultraviolet sensor in your application.</p> 
<p>For information on creating the sample application project in the IDE, see <a href="../cover_page.htm#create">Creating Sample Applications</a>.</p> 
 <p>The following figure illustrates the main screens of the SunburnMonitor.</p> 
  <p class="figure">Figure: SunburnMonitor screens</p> 
  <p align="center"><img alt="SunburnMonitor screens" src="../images/sunburn_ww.png" /> </p> 
  <p>On start the application checks whether the UV sensor is supported on the device. If not, the popup shown above is displayed and after tapping the <strong>Yes</strong> button the application is automatically closed.</p>

<p>If the device supports the UV sensor, another popup is displayed. It contains a quick manual that explains how to use the SunburnMonitor application. The user can check the box next to <strong>Don&#39;t display this message again</strong>, and the popup is not shown anymore.</p>

<p>The main page shows the remaining safe sunbathing time. The sun face can have four different images. The higher the UV intensity, the faster is the spinning speed of the sun rays.</p> 

<p>By tapping the main screen, the reset popup is shown. After resetting the application, the measurement process is restarted.</p>

  <h2>Prerequisites</h2> 

<ul><li>Device with a UV Sensor or an emulator.</li></ul>


  <h2>Source Files</h2> 
  <p>You can create and view the sample application project including the source files in the IDE.</p> 
  <table border="1"> 
   <tbody> 
    <tr> 
     <th>File name</th> 
     <th>Description</th> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">config.xml</span></td> 
     <td>This file contains the application information for the platform to install and launch the application, including the view mode and the icon to be used in the device menu.</td> 
    </tr> 
	<tr>
    <td><span style="font-family: Courier New,Courier,monospace">css/style.css</span></td>
    <td>This file contains the CSS styling for the application UI.</td>
  </tr>
    <tr>
    <td><span style="font-family: Courier New,Courier,monospace">images/</span></td>
    <td>This directory contains the images used to create the user interface.</td>
  </tr>  
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">index.html</span></td> 
     <td>This is a starting file from which the application starts loading. It contains the layout of the application screens.</td> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/core/</span></td> 
     <td>This directory contains the application framework.</td> 
    </tr> 
     <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/helpers/string.js</span></td> 
     <td>This file contains the helper for changing the string format. </td> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/helpers/time.js</span></td> 
     <td>This file contains the helper for converting the time format.</td> 
    </tr>  
 <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/models/sensor.js</span></td> 
     <td>This file contains a module for managing the ultraviolet sensor.</td> 
    </tr> 
	<tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/views/init.js</span></td> 
     <td>This file contains functions responsible for the view of the application, the back key, and low battery handling.</td> 
    </tr> 
	<tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/views/main.js</span></td> 
     <td>This file contains functions responsible for the view and handling event of the application.</td> 
    </tr>	
	<tr> 
     <td><span style="font-family: Courier New,Courier,monospace">lib/tau/</span></td> 
     <td>This directory contains the external libraries (TAU library).</td> 
    </tr>
   </tbody> 
  </table> 
  
<h2>Implementation</h2>
<p>The <span style="font-family: Courier New,Courier,monospace">init</span> method of the main view module is started.</p>

<pre class="prettyprint">
/* views/main.js */
function init() 
{
&nbsp;&nbsp;&nbsp;sensor.setChangeListener();
&nbsp;&nbsp;&nbsp;sensor.start();
}
</pre>

<p>The following function gets the default sensor of the device for the given sensor type and gets the current sensor data.</p>
 <pre class="prettyprint">
/* models/sensor.js */
var SENSOR_TYPE = &#39;ULTRAVIOLET&#39;;

function init() 
{
&nbsp;&nbsp;&nbsp;sensorService = tizen.sensorservice ||
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(window.webapis &amp;&amp; window.webapis.sensorservice) ||
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null;

&nbsp;&nbsp;&nbsp;try 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sensor = sensorService.getDefaultSensor(SENSOR_TYPE);
&nbsp;&nbsp;&nbsp;} 
&nbsp;&nbsp;&nbsp;catch (error) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.error(&#39;API is not supported!&#39;, error.message);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.fire(&#39;not.supported&#39;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;
&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;sensor.getUltravioletSensorData(setCurrentUltravioletValue);
}
</pre>

<p>The <span style="font-family: Courier New,Courier,monospace">start()</span> function starts the sensor.</p>
<pre class="prettyprint">
/* models/sensor.js */

function onSensorStartSuccess() 
{
&nbsp;&nbsp;&nbsp;e.fire(&#39;start&#39;);
}

function onSensorStartError(e) 
{
&nbsp;&nbsp;&nbsp;console.error(&#39;SENSOR: onSensorStartSuccess()&#39;, e);
&nbsp;&nbsp;&nbsp;e.fire(&#39;error&#39;);
}

function start() 
{
&nbsp;&nbsp;&nbsp;if (sensor) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sensor.start(onSensorStartSuccess, onSensorStartError);
&nbsp;&nbsp;&nbsp;}
}
</pre>
<p>The following function registers a change listener to be called when the sensor data changes.</p> 
<pre class="prettyprint">
/* models/sensor.js */
function setChangeListener() 
{
&nbsp;&nbsp;&nbsp;if (sensor) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sensor.setChangeListener(onSensorChange);
&nbsp;&nbsp;&nbsp;}
}
</pre>
 
  
<script type="text/javascript" src="../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>
