<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" type="text/css" href="../css/styles.css" />
	<link rel="stylesheet" type="text/css" href="../css/snippet.css" />
	<script type="text/javascript" src="../scripts/snippet.js"></script>	
	<script type="text/javascript" src="../scripts/jquery.util.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/common.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/core.js" charset="utf-8"></script>
	<script type="text/javascript" src="../scripts/search.js" charset="utf-8"></script>

	<title>MediaContent Sample Overview</title>  
</head>

<body onload="prettyPrint()" style="overflow: auto;">

<div id="toc-navigation">
	<div id="profile">
		<p><img alt="Mobile Web" src="../images/mobile_s_w.png"/></p>
	</div>
	
	<div id="toc_border"><div id="toc">
		<p class="toc-title">Related Info</p>
		<ul class="toc">
			<li><a href="../../../org.tizen.guides/html/web/tizen/content/content_w.htm">Content Guide</a></li> 
			<li><a href="../../../org.tizen.tutorials/html/web/tizen/content/content_tutorial_w.htm">Content Tutorial</a></li> 
			<li><a href="../../../org.tizen.web.apireference/html/device_api/mobile/tizen/content.html">Content API</a></li>
			<li><a href="../../../org.tizen.web.apireference/html/device_api/mobile/tizen/systeminfo.html">System Information API</a></li>
		</ul>
	</div></div>
</div>	

<div id="container"><div id="contents"><div class="content">
  <h1>MediaContent Sample Overview</h1> 
  <p>The MediaContent sample application demonstrates how content information can be retrieved from the Web Device API.</p> 
  <p>For information on creating the sample application project in the IDE, see <a href="../cover_page.htm#create">Creating Sample Applications</a>, and on the coding of the sample application, see <a href="../../../org.tizen.tutorials/html/web/tizen/content/task_mediacontent_w.htm">Media Content task</a>.</p>
  <p>The following figure illustrates the screens of the MediaContent application.</p> 
  <p class="figure">Figure: MediaContent screens</p> 
  <p align="center"><img alt="MediaContent screens" src="../images/content_sd.png" /> </p> 
  <p>The application opens with the screen where you can choose the type of storage to check. After choosing the storage, you can choose the type of files to be retrieved. To view the details of the file, click the file name.</p>
  
   <h2>Prerequisites</h2>
<p>To ensure proper application execution, the following privileges must be set:</p>
 <ul>
  <li><span style="font-family: Courier New,Courier,monospace">http://tizen.org/privilege/content.read</span></li>
  <li><span style="font-family: Courier New,Courier,monospace">http://tizen.org/privilege/content.write</span></li>
 </ul>  

  <h2>Source Files</h2> 
  <p>You can create and view the sample application project including the source files in the IDE.</p> 
  <table border="1"> 
   <tbody> 
    <tr> 
     <th>File name</th> 
     <th>Description</th> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">config.xml</span></td> 
     <td>This file contains the application information for the platform to install and launch the application, including the view mode and the icon to be used in the device menu.</td> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">index.html</span></td> 
     <td>This is a starting file from which the application starts loading. It contains the layout of the application screens.</td> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">css/style.css</span></td> 
     <td>This file contains the CSS styling for the application UI.</td> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/main.js</span></td> 
     <td>This file contains the code for the main application module used for initialization and application methods.</td> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/app.js</span></td> 
     <td>This file contains the code of main logic of the application. This module uses <span style="font-family: Courier New,Courier,monospace">app.model</span> and <span style="font-family: Courier New,Courier,monospace">app.ui</span>.</td> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/app.model.js</span></td> 
     <td>This file contains the code for the access to API and data management.</td> 
    </tr> 
	    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/app.ui.js</span></td> 
     <td>This file contains the code of the view logic.</td> 
    </tr> 
    <tr> 
     <td><span style="font-family: Courier New,Courier,monospace">js/app.ui.template.js</span></td> 
     <td>This file contains the code of the template module.</td> 
    </tr> 
   </tbody> 
  </table> 
  
  <h2>Implementation</h2>
<p>To get all folders from the API, use the <span style="font-family: Courier New,Courier,monospace">getDirectories()</span> method from the <span style="font-family: Courier New,Courier,monospace">tizen.content</span> object.</p>
<pre class="prettyprint">
getFolders: function getFolders(successCallback, errorCallback) 
{
&nbsp;&nbsp;&nbsp;try 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tizen.content.getDirectories(successCallback, errorCallback);
&nbsp;&nbsp;&nbsp;} 
&nbsp;&nbsp;&nbsp;catch (exc) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.warn(&#39;getLocalMediaSource exc:&#39; + exc.message);
&nbsp;&nbsp;&nbsp;}
},
</pre>

<p>The following function requests for the content with a specific filter and sorted by the <span style="font-family: Courier New,Courier,monospace">tizen.SortMode</span> object.</p>
<pre class="prettyprint">
getFolderItems: function getFolderItems(folderId, mediaType, folders, findItemsSuccess, findItemsError) 
{
&nbsp;&nbsp;&nbsp;if (mediaType !== &#39;ALL&#39;) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter = new tizen.AttributeFilter(&#39;type&#39;, &#39;EXACTLY&#39;, mediaType);
&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;try 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tizen.content.find(success, findItemsError, folder, filter, new tizen.SortMode(&#39;title&#39;, &#39;ASC&#39;));
&nbsp;&nbsp;&nbsp;} 
&nbsp;&nbsp;&nbsp;catch (exc) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.warn(&#39;tizen.content.find exception: &#39; + exc.message);
&nbsp;&nbsp;&nbsp;}
},
</pre>
<p>To set the storage change listener, use the <span style="font-family: Courier New,Courier,monospace">addPropertyValueChangeListener()</span> method from the <span style="font-family: Courier New,Courier,monospace">tizen.systeminfo</span> object.</p>
<pre class="prettyprint">
addStorageChangeListener: function addChangeListener(changeListener)
{
&nbsp;&nbsp;&nbsp;try 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tizen.systeminfo.addPropertyValueChangeListener(&#39;STORAGE&#39;, changeListener);
&nbsp;&nbsp;&nbsp;} 
&nbsp;&nbsp;&nbsp;catch (error) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.error(&#39;Add storage change listener error: &#39; + error.message);
&nbsp;&nbsp;&nbsp;}
},
</pre>
<p>To set the content change listener, use <span style="font-family: Courier New,Courier,monospace">setChangeListener()</span> method from the <span style="font-family: Courier New,Courier,monospace">tizen.content</span> object.</p>
<pre class="prettyprint">
addContentChangeListener: function addContentChangeListener(changeListener) 
{
&nbsp;&nbsp;&nbsp;try 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tizen.content.setChangeListener(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oncontentadded: changeListener,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oncontentremoved: changeListener
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
&nbsp;&nbsp;&nbsp;} 
&nbsp;&nbsp;&nbsp;catch (error) 
&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.error(&#39;Add content change listener error: &#39; + error.message);
&nbsp;&nbsp;&nbsp;}
}
</pre>
  
<script type="text/javascript" src="../scripts/jquery.zclip.min.js"></script>
<script type="text/javascript" src="../scripts/showhide.js"></script>
</div></div></div>

<a class="top sms" href="#"><img src="../images/btn_top.gif" alt="Go to top" /></a>

<div id="footer">
<p class="footer">Except as noted, this content - excluding the Code Examples - is licensed under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">Creative Commons Attribution 3.0</a> and all of the Code Examples contained herein are licensed under <a href="https://www.tizen.org/bsd-3-clause-license" target="_blank">BSD-3-Clause</a>.<br/>For details, see the <a href="https://www.tizen.org/content-license" target="_blank">Content License</a>.</p>
</div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-25976949-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>